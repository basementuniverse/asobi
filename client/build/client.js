(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,e){ true?e(exports):0}(this,(function(t){"use strict";class e extends CustomEvent{constructor(t,e){if(e.model.data&&"string"==typeof e.model.data)try{e.model.data=JSON.parse(e.model.data)}catch(t){}super(t,{detail:e})}}class s extends CustomEvent{constructor(t,e){super(t,{detail:e})}}const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);Object.keys(n).forEach((t=>{i[n[t]]=t}));const r={type:"error",data:"parser error"},o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,h=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,c=({type:t,data:e},s,i)=>o&&e instanceof Blob?s?i(e):p(e,i):a&&(e instanceof ArrayBuffer||h(e))?s?i(e):p(new Blob([e]),i):i(n[t]+(e||"")),p=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function u(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let d;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)f[l.charCodeAt(t)]=t;const y="function"==typeof ArrayBuffer,g=(t,e)=>{if("string"!=typeof t)return{type:"message",data:_(t,e)};const s=t.charAt(0);if("b"===s)return{type:"message",data:m(t.substring(1),e)};return i[s]?t.length>1?{type:i[s],data:t.substring(1)}:{type:i[s]}:r},m=(t,e)=>{if(y){const s=(t=>{let e,s,n,i,r,o=.75*t.length,a=t.length,h=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const c=new ArrayBuffer(o),p=new Uint8Array(c);for(e=0;e<a;e+=4)s=f[t.charCodeAt(e)],n=f[t.charCodeAt(e+1)],i=f[t.charCodeAt(e+2)],r=f[t.charCodeAt(e+3)],p[h++]=s<<2|n>>4,p[h++]=(15&n)<<4|i>>2,p[h++]=(3&i)<<6|63&r;return c})(t);return _(s,e)}return{base64:!0,data:t}},_=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,b=String.fromCharCode(30);function v(){return new TransformStream({transform(t,e){!function(t,e){o&&t.data instanceof Blob?t.data.arrayBuffer().then(u).then(e):a&&(t.data instanceof ArrayBuffer||h(t.data))?e(u(t.data)):c(t,!1,(t=>{d||(d=new TextEncoder),e(d.encode(t))}))}(t,(s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,n)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(n))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(s)}))}})}let w;function k(t){return t.reduce(((t,e)=>t+e.length),0)}function E(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)s[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function A(t){if(t)return function(t){for(var e in A.prototype)t[e]=A.prototype[e];return t}(t)}A.prototype.on=A.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},A.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((s=n[i])===e||s.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},A.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var i=(s=s.slice(0)).length;n<i;++n)s[n].apply(this,e)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},A.prototype.hasListeners=function(t){return!!this.listeners(t).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),O="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function R(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const C=O.setTimeout,B=O.clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=C.bind(O),t.clearTimeoutFn=B.bind(O)):(t.setTimeoutFn=O.setTimeout.bind(O),t.clearTimeoutFn=O.clearTimeout.bind(O))}function S(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class N extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class L extends A{constructor(t){super(),this.writable=!1,x(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,s){return super.emitReserved("error",new N(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=g(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}(t);return e.length?"?"+e:""}}class q extends L{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(b),n=[];for(let t=0;t<s.length;t++){const i=g(s[t],e);if(n.push(i),"error"===i.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach(((t,r)=>{c(t,!1,(t=>{n[r]=t,++i===s&&e(n.join(b))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let P=!1;try{P="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const j=P;function D(){}class U extends q{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class I extends A{constructor(t,e,s){super(),this.createRequest=t,x(this,s),this._opts=s,this._method=s.method||"GET",this._uri=e,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var t;const e=R(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(e);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{s.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof s.status?s.status:0)}),0))},s.send(this._data)}catch(t){return void this.setTimeoutFn((()=>{this._onError(t)}),0)}"undefined"!=typeof document&&(this._index=I.requestsCount++,I.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=D,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete I.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(I.requestsCount=0,I.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",F);else if("function"==typeof addEventListener){addEventListener("onpagehide"in O?"pagehide":"unload",F,!1)}function F(){for(let t in I.requests)I.requests.hasOwnProperty(t)&&I.requests[t].abort()}const M=function(){const t=V({xdomain:!1});return t&&null!==t.responseType}();function V(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||j))return new XMLHttpRequest}catch(t){}if(!e)try{return new(O[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}const H="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class K extends L{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,s=H?{}:R(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,s)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;c(s,this.supportsBinary,(t=>{try{this.doWrite(s,t)}catch(t){}n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const W=O.WebSocket||O.MozWebSocket;const Y={websocket:class extends K{createSocket(t,e,s){return H?new W(t,e,s):e?new W(t,e):new W(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends L{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){w||(w=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,h){for(s.push(a);;){if(0===n){if(k(s)<1)break;const t=E(s,1);o=!(128&~t[0]),i=127&t[0],n=i<126?3:126===i?1:2}else if(1===n){if(k(s)<2)break;const t=E(s,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),n=3}else if(2===n){if(k(s)<8)break;const t=E(s,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){h.enqueue(r);break}i=o*Math.pow(2,32)+e.getUint32(4),n=3}else{if(k(s)<i)break;const t=E(s,i);h.enqueue(g(o?t:w.decode(t),e)),n=0}if(0===i||i>t){h.enqueue(r);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),n=v();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{s.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;this._writer.write(s).then((()=>{n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends U{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=M&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new I(V,this.uri(),t)}}},z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=z.exec(t||""),r={},o=14;for(;o--;)r[J[o]]=i[o]||"";return-1!=s&&-1!=n&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,r.path),r.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,r.query),r}const Q="function"==typeof addEventListener&&"function"==typeof removeEventListener,X=[];Q&&addEventListener("offline",(()=>{X.forEach((t=>t()))}),!1);class G extends A{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const s=$(t);e.hostname=s.host,e.secure="https"===s.protocol||"wss"===s.protocol,e.port=s.port,s.query&&(e.query=s.query)}else e.host&&(e.hostname=$(e.host).host);x(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),Q&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},X.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&G.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",G.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,T((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,s){return this._sendPacket("message",t,e,s),this}send(t,e,s){return this._sendPacket("message",t,e,s),this}_sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}_onError(t){if(G.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Q&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=X.indexOf(this._offlineEventListener);-1!==t&&X.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}G.protocol=4;class Z extends G{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),s=!1;G.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;G.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const r=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function o(){r("transport closed")}function a(){r("socket closed")}function h(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",n),e.removeListener("error",r),e.removeListener("close",o),this.off("close",a),this.off("upgrading",h)};e.once("open",n),e.once("error",r),e.once("close",o),this.once("close",a),this.once("upgrading",h),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}let tt=class extends Z{constructor(t,e={}){const s="object"==typeof t?t:e;(!s.transports||s.transports&&"string"==typeof s.transports[0])&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map((t=>Y[t])).filter((t=>!!t))),super(t,s)}};const et="function"==typeof ArrayBuffer,st=Object.prototype.toString,nt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===st.call(Blob),it="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===st.call(File);function rt(t){return et&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||nt&&t instanceof Blob||it&&t instanceof File}function ot(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(ot(t[e]))return!0;return!1}if(rt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ot(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&ot(t[e]))return!0;return!1}function at(t){const e=[],s=t.data,n=t;return n.data=ht(s,e),n.attachments=e.length,{packet:n,buffers:e}}function ht(t,e){if(!t)return t;if(rt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=ht(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=ht(t[n],e));return s}return t}function ct(t,e){return t.data=pt(t.data,e),delete t.attachments,t}function pt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=pt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=pt(t[s],e));return t}const ut=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var dt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(dt||(dt={}));function lt(t){return"[object Object]"===Object.prototype.toString.call(t)}class ft extends A{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===dt.BINARY_EVENT;s||e.type===dt.BINARY_ACK?(e.type=s?dt.EVENT:dt.ACK,this.reconstructor=new yt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!rt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===dt[s.type])throw new Error("unknown packet type "+s.type);if(s.type===dt.BINARY_EVENT||s.type===dt.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(n,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!ft.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case dt.CONNECT:return lt(e);case dt.DISCONNECT:return void 0===e;case dt.CONNECT_ERROR:return"string"==typeof e||lt(e);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===ut.indexOf(e[0]));case dt.ACK:case dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=ct(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var gt=Object.freeze({__proto__:null,Decoder:ft,Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==dt.EVENT&&t.type!==dt.ACK||!ot(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==dt.BINARY_EVENT&&t.type!==dt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=at(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}},get PacketType(){return dt},protocol:5});function mt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const _t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bt extends A{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[mt(t,"open",this.onopen.bind(this)),mt(t,"packet",this.onpacket.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var s,n,i;if(_t.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const r={type:dt.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),r.id=t}const o=null===(n=null===(s=this.io.engine)||void 0===s?void 0:s.transport)||void 0===n?void 0:n.writable,a=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var s;const n=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===n)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),n),r=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise(((s,n)=>{const i=(t,e)=>t?n(t):s(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...n)=>{if(s!==this._queue[0])return;return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...n)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:dt.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function vt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+s:t-s}return 0|Math.min(t,this.max)},vt.prototype.reset=function(){this.attempts=0},vt.prototype.setMin=function(t){this.ms=t},vt.prototype.setMax=function(t){this.max=t},vt.prototype.setJitter=function(t){this.jitter=t};class wt extends A{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,x(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||gt;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=mt(e,"open",(function(){s.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},r=mt(e,"error",i);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(n),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(mt(t,"ping",this.onping.bind(this)),mt(t,"data",this.ondata.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this)),mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){T((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new bt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const kt={};function Et(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=$(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=kt[i]&&r in kt[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new wt(n,e):(kt[i]||(kt[i]=new wt(n,e)),a=kt[i]),s.query&&!e.query&&(e.query=s.queryKey),a.socket(s.path,e)}Object.assign(Et,{Manager:wt,Socket:bt,io:Et,connect:Et});const At="x-api-token";class Tt extends EventTarget{get connected(){var t,e;return null!==(e=null===(t=this.socket)||void 0===t?void 0:t.connected)&&void 0!==e&&e}constructor(t){super(),this.token=t,this.socket=null}close(){this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close())}listen(t,e,s){var n,i;if(this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close()),0===t.length)throw new Error("At least one event type must be provided");this.socket=Et(`https://realtime.jsonpad.io?${new URLSearchParams({eventTypes:t.join(","),listIds:null!==(n=null==e?void 0:e.join(","))&&void 0!==n?n:"",itemIds:null!==(i=null==s?void 0:s.join(","))&&void 0!==i?i:""})}`,{extraHeaders:{[At]:this.token}}),this.socket.on("connect",this.handleConnected.bind(this)),this.socket.on("disconnect",this.handleDisconnected.bind(this)),this.socket.on("error",this.handleError.bind(this)),this.socket.on("list-created",this.handleEvent.bind(this,"list-created")),this.socket.on("list-updated",this.handleEvent.bind(this,"list-updated")),this.socket.on("list-deleted",this.handleEvent.bind(this,"list-deleted")),this.socket.on("item-created",this.handleEvent.bind(this,"item-created")),this.socket.on("item-updated",this.handleEvent.bind(this,"item-updated")),this.socket.on("item-restored",this.handleEvent.bind(this,"item-restored")),this.socket.on("item-deleted",this.handleEvent.bind(this,"item-deleted"))}handleConnected(){this.dispatchEvent(Tt.connected)}handleDisconnected(){this.dispatchEvent(Tt.disconnected)}handleError(t){this.dispatchEvent(new CustomEvent("error",{detail:t}))}handleEvent(t,n){let i;try{i=JSON.parse(n)}catch(t){return void this.handleError("Failed to parse data")}switch(t){case"list-created":this.dispatchEvent(new s("list-created",i));break;case"list-updated":this.dispatchEvent(new s("list-updated",i));break;case"list-deleted":this.dispatchEvent(new s("list-deleted",i));break;case"item-created":this.dispatchEvent(new e("item-created",i));break;case"item-updated":this.dispatchEvent(new e("item-updated",i));break;case"item-restored":this.dispatchEvent(new e("item-restored",i));break;case"item-deleted":this.dispatchEvent(new e("item-deleted",i))}}}Tt.connected=new Event("connected"),Tt.disconnected=new Event("disconnected"),t.ItemEvent=e,t.ListEvent=s,t.default=Tt,Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,i){ true?i(exports):0}(this,(function(t){"use strict";class i{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),lastActiveAt:t.lastActiveAt?new Date(t.lastActiveAt):null})}}class e{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}class n{constructor(t){this.lastLoginAt=null,Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0,lastLoginAt:t.lastLoginAt?new Date(t.lastLoginAt):null})}}class o{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class s{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class d{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}function a(t,...i){return Object.fromEntries(Object.entries(t).filter((([t])=>!i.includes(t))))}const l="x-api-token";async function r(t,i,e,n,o,s,d){const a=n?new URLSearchParams({...Object.fromEntries(Object.entries(n).map((([t,i])=>[t,i.toString()])))}):"",r={[l]:t,"Content-Type":"application/json"};s&&(r["x-identity-group"]=s),d&&(r["x-identity-token"]=d);const u=await fetch(`https://api.jsonpad.io${e}?${a}`,{method:i,headers:r,body:o?JSON.stringify(o):void 0});if(!u.ok)throw new Error(await u.text());return 204===u.status?null:await u.json()}t.Event=e,t.Index=o,t.Item=s,t.List=d,t.User=i,t.default=class{constructor(t,i,e){this.token=t,this.identityGroup=i,this.identityToken=e}async createList(t){return new d(await r(this.token,"POST","/lists",void 0,t))}async fetchLists(t){const i=await r(this.token,"GET","/lists",t);return{...i,data:i.data.map((t=>new d(t)))}}async fetchList(t){return new d(await r(this.token,"GET",`/lists/${t}`))}async searchList(t,i,e){return(await r(this.token,"GET",`/lists/${t}/search`,{query:i,...e})).map((t=>"item"in t?{relevance:t.relevance,item:new s(t.item)}:t))}async fetchListStats(t,i){return await r(this.token,"GET",`/lists/${t}/stats`,i)}async fetchListEvents(t,i){const n=await r(this.token,"GET",`/lists/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchListEvent(t,i){return new e(await r(this.token,"GET",`/lists/${t}/events/${i}`))}async updateList(t,i){return new d(await r(this.token,"PUT",`/lists/${t}`,void 0,i))}async deleteList(t){await r(this.token,"DELETE",`/lists/${t}`)}async createItem(t,i,e,n){var o,d;return new s(await r(this.token,"POST",`/lists/${t}/items`,e,i,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItems(t,i,e){var n,o;const d=await r(this.token,"GET",`/lists/${t}/items`,i,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken);return{...d,data:d.data.map((t=>new s(t)))}}async fetchItemsData(t,i,e){var n,o;const s=(null==i?void 0:i.pointer)?`/${i.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/data${s}`,i?a(i,"pointer"):void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async fetchItem(t,i,e,n){var o,d;return new s(await r(this.token,"GET",`/lists/${t}/items/${i}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItemData(t,i,e,n){var o,s;const d=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/${i}/data${d}`,e?a(e,"pointer"):void 0,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(s=null==n?void 0:n.token)&&void 0!==s?s:this.identityToken)}async fetchItemStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/items/${i}/stats`,e)}async fetchItemEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/items/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchItemEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/items/${i}/events/${n}`))}async updateItem(t,i,e,n,o){var d,a;return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async updateItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"POST",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async replaceItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async patchItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PATCH",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async deleteItem(t,i,e){var n,o;await r(this.token,"DELETE",`/lists/${t}/items/${i}`,void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async deleteItemData(t,i,e,n){var o,d;const a=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return new s(await r(this.token,"DELETE",`/lists/${t}/items/${i}/data${a}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async createIndex(t,i){return new o(await r(this.token,"POST",`/lists/${t}/indexes`,void 0,i))}async fetchIndexes(t,i){const e=await r(this.token,"GET",`/lists/${t}/indexes`,i);return{...e,data:e.data.map((t=>new o(t)))}}async fetchIndex(t,i){return new o(await r(this.token,"GET",`/lists/${t}/indexes/${i}`))}async fetchIndexStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/indexes/${i}/stats`,e)}async fetchIndexEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/indexes/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchIndexEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/indexes/${i}/events/${n}`))}async updateIndex(t,i,e){return new o(await r(this.token,"PATCH",`/lists/${t}/indexes/${i}`,void 0,e))}async deleteIndex(t,i){await r(this.token,"DELETE",`/lists/${t}/indexes/${i}`)}async createIdentity(t){return new n(await r(this.token,"POST","/identities",void 0,t))}async fetchIdentities(t){const i=await r(this.token,"GET","/identities",t);return{...i,data:i.data.map((t=>new n(t)))}}async fetchIdentity(t){return new n(await r(this.token,"GET",`/identities/${t}`))}async fetchIdentityStats(t,i){return await r(this.token,"GET",`/identities/${t}/stats`,i)}async fetchIdentityEvents(t,i){const n=await r(this.token,"GET",`/identities/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchIdentityEvent(t,i){return new e(await r(this.token,"GET",`/identities/${t}/events/${i}`))}async updateIdentity(t,i){return new n(await r(this.token,"PUT",`/identities/${t}`,void 0,i))}async deleteIdentity(t){await r(this.token,"DELETE",`/identities/${t}`)}async registerIdentity(t,i){var e,o;return new n(await r(this.token,"POST","/identities/register",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async loginIdentity(t,i){var e,o;const s=await r(this.token,"POST","/identities/login",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken);return this.identityGroup=s.group||void 0,this.identityToken=s.token||void 0,[new n(a(s,"token")),this.identityToken]}async logoutIdentity(t){var i,e;await r(this.token,"POST","/identities/logout",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken),this.identityGroup=void 0,this.identityToken=void 0}async fetchSelfIdentity(t){var i,e;return new n(await r(this.token,"GET","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken))}async updateSelfIdentity(t,i){var e,o;return new n(await r(this.token,"PUT","/identities/self",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async deleteSelfIdentity(t){var i,e;await r(this.token,"DELETE","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken)}},Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Client = void 0;
const jsonpad_realtime_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-realtime-sdk */ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js");
const jsonpad_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-sdk */ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js");
const events_1 = __webpack_require__(/*! ./events */ "./src/events/index.ts");
class Client extends EventTarget {
    constructor(options) {
        super();
        this.options = Object.assign({}, Client.defaultOptions, options !== null && options !== void 0 ? options : {});
        this.jsonpad = new jsonpad_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime = new jsonpad_realtime_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime.listen(['item-created', 'item-updated'], [this.options.jsonpadGamesList], ['*']);
        this.jsonpadRealtime.addEventListener('item-created', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            this.dispatchEvent(new events_1.GameStartedEvent(game));
        });
        this.jsonpadRealtime.addEventListener('item-updated', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            switch (game.lastEventType) {
                case 'game-started':
                    return;
                case 'player-joined':
                    this.dispatchEvent(new events_1.PlayerJoinedEvent(game));
                    return;
                case 'player-moved':
                    this.dispatchEvent(new events_1.PlayerMovedEvent(game));
                    return;
                case 'game-finished':
                    this.dispatchEvent(new events_1.GameFinishedEvent(game));
                    return;
            }
        });
    }
    async fetchGames(parameters) {
        const response = await this.jsonpad.fetchItems(this.options.jsonpadGamesList, {
            ...parameters,
            includeData: true,
        });
        return {
            page: response.page,
            limit: response.limit,
            total: response.total,
            games: response.data.map(item => ({
                id: item.id,
                ...item.data,
                startedAt: item.data.startedAt ? new Date(item.data.startedAt) : null,
                finishedAt: item.data.finishedAt
                    ? new Date(item.data.finishedAt)
                    : null,
            })),
        };
    }
    async fetchGame(gameId) {
        const game = await this.jsonpad.fetchItemData(this.options.jsonpadGamesList, gameId);
        return {
            id: gameId,
            ...game,
            startedAt: game.startedAt ? new Date(game.startedAt) : null,
            finishedAt: game.finishedAt ? new Date(game.finishedAt) : null,
        };
    }
    async startGame(playerName, playerData, gameData, minPlayers, maxPlayers) {
        const response = await fetch(`${this.options.asobiServerUrl}/start-game`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
                gameData,
                minPlayers,
                maxPlayers,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async joinGame(gameId, playerName, playerData) {
        const response = await fetch(`${this.options.asobiServerUrl}/join-game/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async move(gameId, token, moveData) {
        const response = await fetch(`${this.options.asobiServerUrl}/move/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${token}`,
            },
            body: JSON.stringify({
                moveData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return {
            ...json.game,
            startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
            finishedAt: json.game.finishedAt ? new Date(json.game.finishedAt) : null,
        };
    }
}
exports.Client = Client;
Client.defaultOptions = {
    jsonpadClientToken: '',
    jsonpadGamesList: '',
    asobiServerUrl: '',
};


/***/ }),

/***/ "./src/events/game-finished.ts":
/*!*************************************!*\
  !*** ./src/events/game-finished.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameFinishedEvent = void 0;
class GameFinishedEvent extends CustomEvent {
    constructor(detail) {
        super('game-finished', { detail });
    }
}
exports.GameFinishedEvent = GameFinishedEvent;


/***/ }),

/***/ "./src/events/game-started.ts":
/*!************************************!*\
  !*** ./src/events/game-started.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameStartedEvent = void 0;
class GameStartedEvent extends CustomEvent {
    constructor(detail) {
        super('game-started', { detail });
    }
}
exports.GameStartedEvent = GameStartedEvent;


/***/ }),

/***/ "./src/events/index.ts":
/*!*****************************!*\
  !*** ./src/events/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./game-finished */ "./src/events/game-finished.ts"), exports);
__exportStar(__webpack_require__(/*! ./game-started */ "./src/events/game-started.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-joined */ "./src/events/player-joined.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-moved */ "./src/events/player-moved.ts"), exports);


/***/ }),

/***/ "./src/events/player-joined.ts":
/*!*************************************!*\
  !*** ./src/events/player-joined.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerJoinedEvent = void 0;
class PlayerJoinedEvent extends CustomEvent {
    constructor(detail) {
        super('player-joined', { detail });
    }
}
exports.PlayerJoinedEvent = PlayerJoinedEvent;


/***/ }),

/***/ "./src/events/player-moved.ts":
/*!************************************!*\
  !*** ./src/events/player-moved.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerMovedEvent = void 0;
class PlayerMovedEvent extends CustomEvent {
    constructor(detail) {
        super('player-moved', { detail });
    }
}
exports.PlayerMovedEvent = PlayerMovedEvent;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AsobiClient = void 0;
var client_1 = __webpack_require__(/*! ./client */ "./src/client.ts");
Object.defineProperty(exports, "AsobiClient", ({ enumerable: true, get: function () { return client_1.Client; } }));
__exportStar(__webpack_require__(/*! ./types */ "./src/types.ts"), exports);


/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerStatus = exports.GameStatus = void 0;
var GameStatus;
(function (GameStatus) {
    GameStatus["WAITING_TO_START"] = "waiting_to_start";
    GameStatus["STARTED"] = "started";
    GameStatus["COMPLETED"] = "completed";
})(GameStatus = exports.GameStatus || (exports.GameStatus = {}));
var PlayerStatus;
(function (PlayerStatus) {
    PlayerStatus["WAITING_FOR_TURN"] = "waiting_for_turn";
    PlayerStatus["TAKING_TURN"] = "taking_turn";
    PlayerStatus["FINISHED"] = "finished";
})(PlayerStatus = exports.PlayerStatus || (exports.PlayerStatus = {}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O0lBQ25CLHFDQUF1QjtBQUN6QixDQUFDLEVBSlcsVUFBVSxHQUFWLGtCQUFVLEtBQVYsa0JBQVUsUUFJckI7QUFFRCxJQUFZLFlBSVg7QUFKRCxXQUFZLFlBQVk7SUFDdEIscURBQXFDO0lBQ3JDLDJDQUEyQjtJQUMzQixxQ0FBcUI7QUFDdkIsQ0FBQyxFQUpXLFlBQVksR0FBWixvQkFBWSxLQUFaLG9CQUFZLFFBSXZCOzs7Ozs7O1VDaEJEO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7VUV0QkE7VUFDQTtVQUNBO1VBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9qc29ucGFkLXJlYWx0aW1lLXNkay9idWlsZC9qc29ucGFkLXJlYWx0aW1lLXNkay5qcyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhc2VtZW50dW5pdmVyc2UvanNvbnBhZC1zZGsvYnVpbGQvanNvbnBhZC1zZGsuanMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2NsaWVudC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvZXZlbnRzL2dhbWUtZmluaXNoZWQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9nYW1lLXN0YXJ0ZWQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9pbmRleC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvZXZlbnRzL3BsYXllci1qb2luZWQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9wbGF5ZXItbW92ZWQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy90eXBlcy50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50L3dlYnBhY2svYmVmb3JlLXN0YXJ0dXAiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50L3dlYnBhY2svc3RhcnR1cCIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvd2VicGFjay9hZnRlci1zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KShzZWxmLCAoKSA9PiB7XG5yZXR1cm4gIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/ZShleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLkpTT05QYWRSZWFsdGltZT17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2NsYXNzIGUgZXh0ZW5kcyBDdXN0b21FdmVudHtjb25zdHJ1Y3Rvcih0LGUpe2lmKGUubW9kZWwuZGF0YSYmXCJzdHJpbmdcIj09dHlwZW9mIGUubW9kZWwuZGF0YSl0cnl7ZS5tb2RlbC5kYXRhPUpTT04ucGFyc2UoZS5tb2RlbC5kYXRhKX1jYXRjaCh0KXt9c3VwZXIodCx7ZGV0YWlsOmV9KX19Y2xhc3MgcyBleHRlbmRzIEN1c3RvbUV2ZW50e2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCx7ZGV0YWlsOmV9KX19Y29uc3Qgbj1PYmplY3QuY3JlYXRlKG51bGwpO24ub3Blbj1cIjBcIixuLmNsb3NlPVwiMVwiLG4ucGluZz1cIjJcIixuLnBvbmc9XCIzXCIsbi5tZXNzYWdlPVwiNFwiLG4udXBncmFkZT1cIjVcIixuLm5vb3A9XCI2XCI7Y29uc3QgaT1PYmplY3QuY3JlYXRlKG51bGwpO09iamVjdC5rZXlzKG4pLmZvckVhY2goKHQ9PntpW25bdF1dPXR9KSk7Y29uc3Qgcj17dHlwZTpcImVycm9yXCIsZGF0YTpcInBhcnNlciBlcnJvclwifSxvPVwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2J8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iJiZcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpLGE9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIsaD10PT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KHQpOnQmJnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIsYz0oe3R5cGU6dCxkYXRhOmV9LHMsaSk9Pm8mJmUgaW5zdGFuY2VvZiBCbG9iP3M/aShlKTpwKGUsaSk6YSYmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8aChlKSk/cz9pKGUpOnAobmV3IEJsb2IoW2VdKSxpKTppKG5bdF0rKGV8fFwiXCIpKSxwPSh0LGUpPT57Y29uc3Qgcz1uZXcgRmlsZVJlYWRlcjtyZXR1cm4gcy5vbmxvYWQ9ZnVuY3Rpb24oKXtjb25zdCB0PXMucmVzdWx0LnNwbGl0KFwiLFwiKVsxXTtlKFwiYlwiKyh0fHxcIlwiKSl9LHMucmVhZEFzRGF0YVVSTCh0KX07ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/dDp0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkodCk6bmV3IFVpbnQ4QXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aCl9bGV0IGQ7Y29uc3QgbD1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixmPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBVaW50OEFycmF5P1tdOm5ldyBVaW50OEFycmF5KDI1Nik7Zm9yKGxldCB0PTA7dDw2NDt0KyspZltsLmNoYXJDb2RlQXQodCldPXQ7Y29uc3QgeT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcixnPSh0LGUpPT57aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJue3R5cGU6XCJtZXNzYWdlXCIsZGF0YTpfKHQsZSl9O2NvbnN0IHM9dC5jaGFyQXQoMCk7aWYoXCJiXCI9PT1zKXJldHVybnt0eXBlOlwibWVzc2FnZVwiLGRhdGE6bSh0LnN1YnN0cmluZygxKSxlKX07cmV0dXJuIGlbc10/dC5sZW5ndGg+MT97dHlwZTppW3NdLGRhdGE6dC5zdWJzdHJpbmcoMSl9Ont0eXBlOmlbc119OnJ9LG09KHQsZSk9PntpZih5KXtjb25zdCBzPSh0PT57bGV0IGUscyxuLGkscixvPS43NSp0Lmxlbmd0aCxhPXQubGVuZ3RoLGg9MDtcIj1cIj09PXRbdC5sZW5ndGgtMV0mJihvLS0sXCI9XCI9PT10W3QubGVuZ3RoLTJdJiZvLS0pO2NvbnN0IGM9bmV3IEFycmF5QnVmZmVyKG8pLHA9bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKGU9MDtlPGE7ZSs9NClzPWZbdC5jaGFyQ29kZUF0KGUpXSxuPWZbdC5jaGFyQ29kZUF0KGUrMSldLGk9Zlt0LmNoYXJDb2RlQXQoZSsyKV0scj1mW3QuY2hhckNvZGVBdChlKzMpXSxwW2grK109czw8MnxuPj40LHBbaCsrXT0oMTUmbik8PDR8aT4+MixwW2grK109KDMmaSk8PDZ8NjMmcjtyZXR1cm4gY30pKHQpO3JldHVybiBfKHMsZSl9cmV0dXJue2Jhc2U2NDohMCxkYXRhOnR9fSxfPSh0LGUpPT5cImJsb2JcIj09PWU/dCBpbnN0YW5jZW9mIEJsb2I/dDpuZXcgQmxvYihbdF0pOnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj90OnQuYnVmZmVyLGI9U3RyaW5nLmZyb21DaGFyQ29kZSgzMCk7ZnVuY3Rpb24gdigpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0odCxlKXshZnVuY3Rpb24odCxlKXtvJiZ0LmRhdGEgaW5zdGFuY2VvZiBCbG9iP3QuZGF0YS5hcnJheUJ1ZmZlcigpLnRoZW4odSkudGhlbihlKTphJiYodC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGgodC5kYXRhKSk/ZSh1KHQuZGF0YSkpOmModCwhMSwodD0+e2R8fChkPW5ldyBUZXh0RW5jb2RlciksZShkLmVuY29kZSh0KSl9KSl9KHQsKHM9Pntjb25zdCBuPXMubGVuZ3RoO2xldCBpO2lmKG48MTI2KWk9bmV3IFVpbnQ4QXJyYXkoMSksbmV3IERhdGFWaWV3KGkuYnVmZmVyKS5zZXRVaW50OCgwLG4pO2Vsc2UgaWYobjw2NTUzNil7aT1uZXcgVWludDhBcnJheSgzKTtjb25zdCB0PW5ldyBEYXRhVmlldyhpLmJ1ZmZlcik7dC5zZXRVaW50OCgwLDEyNiksdC5zZXRVaW50MTYoMSxuKX1lbHNle2k9bmV3IFVpbnQ4QXJyYXkoOSk7Y29uc3QgdD1uZXcgRGF0YVZpZXcoaS5idWZmZXIpO3Quc2V0VWludDgoMCwxMjcpLHQuc2V0QmlnVWludDY0KDEsQmlnSW50KG4pKX10LmRhdGEmJlwic3RyaW5nXCIhPXR5cGVvZiB0LmRhdGEmJihpWzBdfD0xMjgpLGUuZW5xdWV1ZShpKSxlLmVucXVldWUocyl9KSl9fSl9bGV0IHc7ZnVuY3Rpb24gayh0KXtyZXR1cm4gdC5yZWR1Y2UoKCh0LGUpPT50K2UubGVuZ3RoKSwwKX1mdW5jdGlvbiBFKHQsZSl7aWYodFswXS5sZW5ndGg9PT1lKXJldHVybiB0LnNoaWZ0KCk7Y29uc3Qgcz1uZXcgVWludDhBcnJheShlKTtsZXQgbj0wO2ZvcihsZXQgaT0wO2k8ZTtpKyspc1tpXT10WzBdW24rK10sbj09PXRbMF0ubGVuZ3RoJiYodC5zaGlmdCgpLG49MCk7cmV0dXJuIHQubGVuZ3RoJiZuPHRbMF0ubGVuZ3RoJiYodFswXT10WzBdLnNsaWNlKG4pKSxzfWZ1bmN0aW9uIEEodCl7aWYodClyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIEEucHJvdG90eXBlKXRbZV09QS5wcm90b3R5cGVbZV07cmV0dXJuIHR9KHQpfUEucHJvdG90eXBlLm9uPUEucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sKHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XT10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF18fFtdKS5wdXNoKGUpLHRoaXN9LEEucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBzKCl7dGhpcy5vZmYodCxzKSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gcy5mbj1lLHRoaXMub24odCxzKSx0aGlzfSxBLnByb3RvdHlwZS5vZmY9QS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9QS5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPUEucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl9jYWxsYmFja3M9e30sdGhpczt2YXIgcyxuPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XTtpZighbilyZXR1cm4gdGhpcztpZigxPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBkZWxldGUgdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdLHRoaXM7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspaWYoKHM9bltpXSk9PT1lfHxzLmZuPT09ZSl7bi5zcGxpY2UoaSwxKTticmVha31yZXR1cm4gMD09PW4ubGVuZ3RoJiZkZWxldGUgdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdLHRoaXN9LEEucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odCl7dGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e307Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLHM9dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07aWYocyl7bj0wO2Zvcih2YXIgaT0ocz1zLnNsaWNlKDApKS5sZW5ndGg7bjxpOysrbilzW25dLmFwcGx5KHRoaXMsZSl9cmV0dXJuIHRoaXN9LEEucHJvdG90eXBlLmVtaXRSZXNlcnZlZD1BLnByb3RvdHlwZS5lbWl0LEEucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sdGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXX0sQS5wcm90b3R5cGUuaGFzTGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5saXN0ZW5lcnModCkubGVuZ3RofTtjb25zdCBUPVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2UucmVzb2x2ZT90PT5Qcm9taXNlLnJlc29sdmUoKS50aGVuKHQpOih0LGUpPT5lKHQsMCksTz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtmdW5jdGlvbiBSKHQsLi4uZSl7cmV0dXJuIGUucmVkdWNlKCgoZSxzKT0+KHQuaGFzT3duUHJvcGVydHkocykmJihlW3NdPXRbc10pLGUpKSx7fSl9Y29uc3QgQz1PLnNldFRpbWVvdXQsQj1PLmNsZWFyVGltZW91dDtmdW5jdGlvbiB4KHQsZSl7ZS51c2VOYXRpdmVUaW1lcnM/KHQuc2V0VGltZW91dEZuPUMuYmluZChPKSx0LmNsZWFyVGltZW91dEZuPUIuYmluZChPKSk6KHQuc2V0VGltZW91dEZuPU8uc2V0VGltZW91dC5iaW5kKE8pLHQuY2xlYXJUaW1lb3V0Rm49Ty5jbGVhclRpbWVvdXQuYmluZChPKSl9ZnVuY3Rpb24gUygpe3JldHVybiBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMykrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsNSl9Y2xhc3MgTiBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQsZSxzKXtzdXBlcih0KSx0aGlzLmRlc2NyaXB0aW9uPWUsdGhpcy5jb250ZXh0PXMsdGhpcy50eXBlPVwiVHJhbnNwb3J0RXJyb3JcIn19Y2xhc3MgTCBleHRlbmRzIEF7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLndyaXRhYmxlPSExLHgodGhpcyx0KSx0aGlzLm9wdHM9dCx0aGlzLnF1ZXJ5PXQucXVlcnksdGhpcy5zb2NrZXQ9dC5zb2NrZXQsdGhpcy5zdXBwb3J0c0JpbmFyeT0hdC5mb3JjZUJhc2U2NH1vbkVycm9yKHQsZSxzKXtyZXR1cm4gc3VwZXIuZW1pdFJlc2VydmVkKFwiZXJyb3JcIixuZXcgTih0LGUscykpLHRoaXN9b3Blbigpe3JldHVybiB0aGlzLnJlYWR5U3RhdGU9XCJvcGVuaW5nXCIsdGhpcy5kb09wZW4oKSx0aGlzfWNsb3NlKCl7cmV0dXJuXCJvcGVuaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5kb0Nsb3NlKCksdGhpcy5vbkNsb3NlKCkpLHRoaXN9c2VuZCh0KXtcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy53cml0ZSh0KX1vbk9wZW4oKXt0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsdGhpcy53cml0YWJsZT0hMCxzdXBlci5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpfW9uRGF0YSh0KXtjb25zdCBlPWcodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKTt0aGlzLm9uUGFja2V0KGUpfW9uUGFja2V0KHQpe3N1cGVyLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLHQpfW9uQ2xvc2UodCl7dGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsc3VwZXIuZW1pdFJlc2VydmVkKFwiY2xvc2VcIix0KX1wYXVzZSh0KXt9Y3JlYXRlVXJpKHQsZT17fSl7cmV0dXJuIHQrXCI6Ly9cIit0aGlzLl9ob3N0bmFtZSgpK3RoaXMuX3BvcnQoKSt0aGlzLm9wdHMucGF0aCt0aGlzLl9xdWVyeShlKX1faG9zdG5hbWUoKXtjb25zdCB0PXRoaXMub3B0cy5ob3N0bmFtZTtyZXR1cm4tMT09PXQuaW5kZXhPZihcIjpcIik/dDpcIltcIit0K1wiXVwifV9wb3J0KCl7cmV0dXJuIHRoaXMub3B0cy5wb3J0JiYodGhpcy5vcHRzLnNlY3VyZSYmTnVtYmVyKDQ0MyE9PXRoaXMub3B0cy5wb3J0KXx8IXRoaXMub3B0cy5zZWN1cmUmJjgwIT09TnVtYmVyKHRoaXMub3B0cy5wb3J0KSk/XCI6XCIrdGhpcy5vcHRzLnBvcnQ6XCJcIn1fcXVlcnkodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtsZXQgZT1cIlwiO2ZvcihsZXQgcyBpbiB0KXQuaGFzT3duUHJvcGVydHkocykmJihlLmxlbmd0aCYmKGUrPVwiJlwiKSxlKz1lbmNvZGVVUklDb21wb25lbnQocykrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHRbc10pKTtyZXR1cm4gZX0odCk7cmV0dXJuIGUubGVuZ3RoP1wiP1wiK2U6XCJcIn19Y2xhc3MgcSBleHRlbmRzIEx7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3BvbGxpbmc9ITF9Z2V0IG5hbWUoKXtyZXR1cm5cInBvbGxpbmdcIn1kb09wZW4oKXt0aGlzLl9wb2xsKCl9cGF1c2UodCl7dGhpcy5yZWFkeVN0YXRlPVwicGF1c2luZ1wiO2NvbnN0IGU9KCk9Pnt0aGlzLnJlYWR5U3RhdGU9XCJwYXVzZWRcIix0KCl9O2lmKHRoaXMuX3BvbGxpbmd8fCF0aGlzLndyaXRhYmxlKXtsZXQgdD0wO3RoaXMuX3BvbGxpbmcmJih0KyssdGhpcy5vbmNlKFwicG9sbENvbXBsZXRlXCIsKGZ1bmN0aW9uKCl7LS10fHxlKCl9KSkpLHRoaXMud3JpdGFibGV8fCh0KyssdGhpcy5vbmNlKFwiZHJhaW5cIiwoZnVuY3Rpb24oKXstLXR8fGUoKX0pKSl9ZWxzZSBlKCl9X3BvbGwoKXt0aGlzLl9wb2xsaW5nPSEwLHRoaXMuZG9Qb2xsKCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsXCIpfW9uRGF0YSh0KXsoKHQsZSk9Pntjb25zdCBzPXQuc3BsaXQoYiksbj1bXTtmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyl7Y29uc3QgaT1nKHNbdF0sZSk7aWYobi5wdXNoKGkpLFwiZXJyb3JcIj09PWkudHlwZSlicmVha31yZXR1cm4gbn0pKHQsdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSkuZm9yRWFjaCgodD0+e2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlJiZcIm9wZW5cIj09PXQudHlwZSYmdGhpcy5vbk9wZW4oKSxcImNsb3NlXCI9PT10LnR5cGUpcmV0dXJuIHRoaXMub25DbG9zZSh7ZGVzY3JpcHRpb246XCJ0cmFuc3BvcnQgY2xvc2VkIGJ5IHRoZSBzZXJ2ZXJcIn0pLCExO3RoaXMub25QYWNrZXQodCl9KSksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuX3BvbGxpbmc9ITEsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsQ29tcGxldGVcIiksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMuX3BvbGwoKSl9ZG9DbG9zZSgpe2NvbnN0IHQ9KCk9Pnt0aGlzLndyaXRlKFt7dHlwZTpcImNsb3NlXCJ9XSl9O1wib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlP3QoKTp0aGlzLm9uY2UoXCJvcGVuXCIsdCl9d3JpdGUodCl7dGhpcy53cml0YWJsZT0hMSwoKHQsZSk9Pntjb25zdCBzPXQubGVuZ3RoLG49bmV3IEFycmF5KHMpO2xldCBpPTA7dC5mb3JFYWNoKCgodCxyKT0+e2ModCwhMSwodD0+e25bcl09dCwrK2k9PT1zJiZlKG4uam9pbihiKSl9KSl9KSl9KSh0LCh0PT57dGhpcy5kb1dyaXRlKHQsKCgpPT57dGhpcy53cml0YWJsZT0hMCx0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpfSkpfSkpfXVyaSgpe2NvbnN0IHQ9dGhpcy5vcHRzLnNlY3VyZT9cImh0dHBzXCI6XCJodHRwXCIsZT10aGlzLnF1ZXJ5fHx7fTtyZXR1cm4hMSE9PXRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cyYmKGVbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXT1TKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fGUuc2lkfHwoZS5iNjQ9MSksdGhpcy5jcmVhdGVVcmkodCxlKX19bGV0IFA9ITE7dHJ5e1A9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe31jb25zdCBqPVA7ZnVuY3Rpb24gRCgpe31jbGFzcyBVIGV4dGVuZHMgcXtjb25zdHJ1Y3Rvcih0KXtpZihzdXBlcih0KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24pe2NvbnN0IGU9XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sO2xldCBzPWxvY2F0aW9uLnBvcnQ7c3x8KHM9ZT9cIjQ0M1wiOlwiODBcIiksdGhpcy54ZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24mJnQuaG9zdG5hbWUhPT1sb2NhdGlvbi5ob3N0bmFtZXx8cyE9PXQucG9ydH19ZG9Xcml0ZSh0LGUpe2NvbnN0IHM9dGhpcy5yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsZGF0YTp0fSk7cy5vbihcInN1Y2Nlc3NcIixlKSxzLm9uKFwiZXJyb3JcIiwoKHQsZSk9Pnt0aGlzLm9uRXJyb3IoXCJ4aHIgcG9zdCBlcnJvclwiLHQsZSl9KSl9ZG9Qb2xsKCl7Y29uc3QgdD10aGlzLnJlcXVlc3QoKTt0Lm9uKFwiZGF0YVwiLHRoaXMub25EYXRhLmJpbmQodGhpcykpLHQub24oXCJlcnJvclwiLCgodCxlKT0+e3RoaXMub25FcnJvcihcInhociBwb2xsIGVycm9yXCIsdCxlKX0pKSx0aGlzLnBvbGxYaHI9dH19Y2xhc3MgSSBleHRlbmRzIEF7Y29uc3RydWN0b3IodCxlLHMpe3N1cGVyKCksdGhpcy5jcmVhdGVSZXF1ZXN0PXQseCh0aGlzLHMpLHRoaXMuX29wdHM9cyx0aGlzLl9tZXRob2Q9cy5tZXRob2R8fFwiR0VUXCIsdGhpcy5fdXJpPWUsdGhpcy5fZGF0YT12b2lkIDAhPT1zLmRhdGE/cy5kYXRhOm51bGwsdGhpcy5fY3JlYXRlKCl9X2NyZWF0ZSgpe3ZhciB0O2NvbnN0IGU9Uih0aGlzLl9vcHRzLFwiYWdlbnRcIixcInBmeFwiLFwia2V5XCIsXCJwYXNzcGhyYXNlXCIsXCJjZXJ0XCIsXCJjYVwiLFwiY2lwaGVyc1wiLFwicmVqZWN0VW5hdXRob3JpemVkXCIsXCJhdXRvVW5yZWZcIik7ZS54ZG9tYWluPSEhdGhpcy5fb3B0cy54ZDtjb25zdCBzPXRoaXMuX3hocj10aGlzLmNyZWF0ZVJlcXVlc3QoZSk7dHJ5e3Mub3Blbih0aGlzLl9tZXRob2QsdGhpcy5fdXJpLCEwKTt0cnl7aWYodGhpcy5fb3B0cy5leHRyYUhlYWRlcnMpe3Muc2V0RGlzYWJsZUhlYWRlckNoZWNrJiZzLnNldERpc2FibGVIZWFkZXJDaGVjayghMCk7Zm9yKGxldCB0IGluIHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzKXRoaXMuX29wdHMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KHQpJiZzLnNldFJlcXVlc3RIZWFkZXIodCx0aGlzLl9vcHRzLmV4dHJhSGVhZGVyc1t0XSl9fWNhdGNoKHQpe31pZihcIlBPU1RcIj09PXRoaXMuX21ldGhvZCl0cnl7cy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIil9Y2F0Y2godCl7fXRyeXtzLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcIiovKlwiKX1jYXRjaCh0KXt9bnVsbD09PSh0PXRoaXMuX29wdHMuY29va2llSmFyKXx8dm9pZCAwPT09dHx8dC5hZGRDb29raWVzKHMpLFwid2l0aENyZWRlbnRpYWxzXCJpbiBzJiYocy53aXRoQ3JlZGVudGlhbHM9dGhpcy5fb3B0cy53aXRoQ3JlZGVudGlhbHMpLHRoaXMuX29wdHMucmVxdWVzdFRpbWVvdXQmJihzLnRpbWVvdXQ9dGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dCkscy5vbnJlYWR5c3RhdGVjaGFuZ2U9KCk9Pnt2YXIgdDszPT09cy5yZWFkeVN0YXRlJiYobnVsbD09PSh0PXRoaXMuX29wdHMuY29va2llSmFyKXx8dm9pZCAwPT09dHx8dC5wYXJzZUNvb2tpZXMocy5nZXRSZXNwb25zZUhlYWRlcihcInNldC1jb29raWVcIikpKSw0PT09cy5yZWFkeVN0YXRlJiYoMjAwPT09cy5zdGF0dXN8fDEyMjM9PT1zLnN0YXR1cz90aGlzLl9vbkxvYWQoKTp0aGlzLnNldFRpbWVvdXRGbigoKCk9Pnt0aGlzLl9vbkVycm9yKFwibnVtYmVyXCI9PXR5cGVvZiBzLnN0YXR1cz9zLnN0YXR1czowKX0pLDApKX0scy5zZW5kKHRoaXMuX2RhdGEpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuc2V0VGltZW91dEZuKCgoKT0+e3RoaXMuX29uRXJyb3IodCl9KSwwKX1cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJih0aGlzLl9pbmRleD1JLnJlcXVlc3RzQ291bnQrKyxJLnJlcXVlc3RzW3RoaXMuX2luZGV4XT10aGlzKX1fb25FcnJvcih0KXt0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsdCx0aGlzLl94aHIpLHRoaXMuX2NsZWFudXAoITApfV9jbGVhbnVwKHQpe2lmKHZvaWQgMCE9PXRoaXMuX3hociYmbnVsbCE9PXRoaXMuX3hocil7aWYodGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1ELHQpdHJ5e3RoaXMuX3hoci5hYm9ydCgpfWNhdGNoKHQpe31cInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQmJmRlbGV0ZSBJLnJlcXVlc3RzW3RoaXMuX2luZGV4XSx0aGlzLl94aHI9bnVsbH19X29uTG9hZCgpe2NvbnN0IHQ9dGhpcy5feGhyLnJlc3BvbnNlVGV4dDtudWxsIT09dCYmKHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLHQpLHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKSx0aGlzLl9jbGVhbnVwKCkpfWFib3J0KCl7dGhpcy5fY2xlYW51cCgpfX1pZihJLnJlcXVlc3RzQ291bnQ9MCxJLnJlcXVlc3RzPXt9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudClpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhdHRhY2hFdmVudClhdHRhY2hFdmVudChcIm9udW5sb2FkXCIsRik7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhZGRFdmVudExpc3RlbmVyKXthZGRFdmVudExpc3RlbmVyKFwib25wYWdlaGlkZVwiaW4gTz9cInBhZ2VoaWRlXCI6XCJ1bmxvYWRcIixGLCExKX1mdW5jdGlvbiBGKCl7Zm9yKGxldCB0IGluIEkucmVxdWVzdHMpSS5yZXF1ZXN0cy5oYXNPd25Qcm9wZXJ0eSh0KSYmSS5yZXF1ZXN0c1t0XS5hYm9ydCgpfWNvbnN0IE09ZnVuY3Rpb24oKXtjb25zdCB0PVYoe3hkb21haW46ITF9KTtyZXR1cm4gdCYmbnVsbCE9PXQucmVzcG9uc2VUeXBlfSgpO2Z1bmN0aW9uIFYodCl7Y29uc3QgZT10Lnhkb21haW47dHJ5e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmKCFlfHxqKSlyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fWNhdGNoKHQpe31pZighZSl0cnl7cmV0dXJuIG5ldyhPW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKShcIk1pY3Jvc29mdC5YTUxIVFRQXCIpfWNhdGNoKHQpe319Y29uc3QgSD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZcInN0cmluZ1wiPT10eXBlb2YgbmF2aWdhdG9yLnByb2R1Y3QmJlwicmVhY3RuYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0LnRvTG93ZXJDYXNlKCk7Y2xhc3MgSyBleHRlbmRzIEx7Z2V0IG5hbWUoKXtyZXR1cm5cIndlYnNvY2tldFwifWRvT3Blbigpe2NvbnN0IHQ9dGhpcy51cmkoKSxlPXRoaXMub3B0cy5wcm90b2NvbHMscz1IP3t9OlIodGhpcy5vcHRzLFwiYWdlbnRcIixcInBlck1lc3NhZ2VEZWZsYXRlXCIsXCJwZnhcIixcImtleVwiLFwicGFzc3BocmFzZVwiLFwiY2VydFwiLFwiY2FcIixcImNpcGhlcnNcIixcInJlamVjdFVuYXV0aG9yaXplZFwiLFwibG9jYWxBZGRyZXNzXCIsXCJwcm90b2NvbFZlcnNpb25cIixcIm9yaWdpblwiLFwibWF4UGF5bG9hZFwiLFwiZmFtaWx5XCIsXCJjaGVja1NlcnZlcklkZW50aXR5XCIpO3RoaXMub3B0cy5leHRyYUhlYWRlcnMmJihzLmhlYWRlcnM9dGhpcy5vcHRzLmV4dHJhSGVhZGVycyk7dHJ5e3RoaXMud3M9dGhpcy5jcmVhdGVTb2NrZXQodCxlLHMpfWNhdGNoKHQpe3JldHVybiB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsdCl9dGhpcy53cy5iaW5hcnlUeXBlPXRoaXMuc29ja2V0LmJpbmFyeVR5cGUsdGhpcy5hZGRFdmVudExpc3RlbmVycygpfWFkZEV2ZW50TGlzdGVuZXJzKCl7dGhpcy53cy5vbm9wZW49KCk9Pnt0aGlzLm9wdHMuYXV0b1VucmVmJiZ0aGlzLndzLl9zb2NrZXQudW5yZWYoKSx0aGlzLm9uT3BlbigpfSx0aGlzLndzLm9uY2xvc2U9dD0+dGhpcy5vbkNsb3NlKHtkZXNjcmlwdGlvbjpcIndlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlZFwiLGNvbnRleHQ6dH0pLHRoaXMud3Mub25tZXNzYWdlPXQ9PnRoaXMub25EYXRhKHQuZGF0YSksdGhpcy53cy5vbmVycm9yPXQ9PnRoaXMub25FcnJvcihcIndlYnNvY2tldCBlcnJvclwiLHQpfXdyaXRlKHQpe3RoaXMud3JpdGFibGU9ITE7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHM9dFtlXSxuPWU9PT10Lmxlbmd0aC0xO2Mocyx0aGlzLnN1cHBvcnRzQmluYXJ5LCh0PT57dHJ5e3RoaXMuZG9Xcml0ZShzLHQpfWNhdGNoKHQpe31uJiZUKCgoKT0+e3RoaXMud3JpdGFibGU9ITAsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKX0pLHRoaXMuc2V0VGltZW91dEZuKX0pKX19ZG9DbG9zZSgpe3ZvaWQgMCE9PXRoaXMud3MmJih0aGlzLndzLm9uZXJyb3I9KCk9Pnt9LHRoaXMud3MuY2xvc2UoKSx0aGlzLndzPW51bGwpfXVyaSgpe2NvbnN0IHQ9dGhpcy5vcHRzLnNlY3VyZT9cIndzc1wiOlwid3NcIixlPXRoaXMucXVlcnl8fHt9O3JldHVybiB0aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMmJihlW3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV09UygpKSx0aGlzLnN1cHBvcnRzQmluYXJ5fHwoZS5iNjQ9MSksdGhpcy5jcmVhdGVVcmkodCxlKX19Y29uc3QgVz1PLldlYlNvY2tldHx8Ty5Nb3pXZWJTb2NrZXQ7Y29uc3QgWT17d2Vic29ja2V0OmNsYXNzIGV4dGVuZHMgS3tjcmVhdGVTb2NrZXQodCxlLHMpe3JldHVybiBIP25ldyBXKHQsZSxzKTplP25ldyBXKHQsZSk6bmV3IFcodCl9ZG9Xcml0ZSh0LGUpe3RoaXMud3Muc2VuZChlKX19LHdlYnRyYW5zcG9ydDpjbGFzcyBleHRlbmRzIEx7Z2V0IG5hbWUoKXtyZXR1cm5cIndlYnRyYW5zcG9ydFwifWRvT3Blbigpe3RyeXt0aGlzLl90cmFuc3BvcnQ9bmV3IFdlYlRyYW5zcG9ydCh0aGlzLmNyZWF0ZVVyaShcImh0dHBzXCIpLHRoaXMub3B0cy50cmFuc3BvcnRPcHRpb25zW3RoaXMubmFtZV0pfWNhdGNoKHQpe3JldHVybiB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsdCl9dGhpcy5fdHJhbnNwb3J0LmNsb3NlZC50aGVuKCgoKT0+e3RoaXMub25DbG9zZSgpfSkpLmNhdGNoKCh0PT57dGhpcy5vbkVycm9yKFwid2VidHJhbnNwb3J0IGVycm9yXCIsdCl9KSksdGhpcy5fdHJhbnNwb3J0LnJlYWR5LnRoZW4oKCgpPT57dGhpcy5fdHJhbnNwb3J0LmNyZWF0ZUJpZGlyZWN0aW9uYWxTdHJlYW0oKS50aGVuKCh0PT57Y29uc3QgZT1mdW5jdGlvbih0LGUpe3d8fCh3PW5ldyBUZXh0RGVjb2Rlcik7Y29uc3Qgcz1bXTtsZXQgbj0wLGk9LTEsbz0hMTtyZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKGEsaCl7Zm9yKHMucHVzaChhKTs7KXtpZigwPT09bil7aWYoayhzKTwxKWJyZWFrO2NvbnN0IHQ9RShzLDEpO289ISgxMjgmfnRbMF0pLGk9MTI3JnRbMF0sbj1pPDEyNj8zOjEyNj09PWk/MToyfWVsc2UgaWYoMT09PW4pe2lmKGsocyk8MilicmVhaztjb25zdCB0PUUocywyKTtpPW5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpLmdldFVpbnQxNigwKSxuPTN9ZWxzZSBpZigyPT09bil7aWYoayhzKTw4KWJyZWFrO2NvbnN0IHQ9RShzLDgpLGU9bmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCksbz1lLmdldFVpbnQzMigwKTtpZihvPk1hdGgucG93KDIsMjEpLTEpe2guZW5xdWV1ZShyKTticmVha31pPW8qTWF0aC5wb3coMiwzMikrZS5nZXRVaW50MzIoNCksbj0zfWVsc2V7aWYoayhzKTxpKWJyZWFrO2NvbnN0IHQ9RShzLGkpO2guZW5xdWV1ZShnKG8/dDp3LmRlY29kZSh0KSxlKSksbj0wfWlmKDA9PT1pfHxpPnQpe2guZW5xdWV1ZShyKTticmVha319fX0pfShOdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnNvY2tldC5iaW5hcnlUeXBlKSxzPXQucmVhZGFibGUucGlwZVRocm91Z2goZSkuZ2V0UmVhZGVyKCksbj12KCk7bi5yZWFkYWJsZS5waXBlVG8odC53cml0YWJsZSksdGhpcy5fd3JpdGVyPW4ud3JpdGFibGUuZ2V0V3JpdGVyKCk7Y29uc3QgaT0oKT0+e3MucmVhZCgpLnRoZW4oKCh7ZG9uZTp0LHZhbHVlOmV9KT0+e3R8fCh0aGlzLm9uUGFja2V0KGUpLGkoKSl9KSkuY2F0Y2goKHQ9Pnt9KSl9O2koKTtjb25zdCBvPXt0eXBlOlwib3BlblwifTt0aGlzLnF1ZXJ5LnNpZCYmKG8uZGF0YT1ge1wic2lkXCI6XCIke3RoaXMucXVlcnkuc2lkfVwifWApLHRoaXMuX3dyaXRlci53cml0ZShvKS50aGVuKCgoKT0+dGhpcy5vbk9wZW4oKSkpfSkpfSkpfXdyaXRlKHQpe3RoaXMud3JpdGFibGU9ITE7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IHM9dFtlXSxuPWU9PT10Lmxlbmd0aC0xO3RoaXMuX3dyaXRlci53cml0ZShzKS50aGVuKCgoKT0+e24mJlQoKCgpPT57dGhpcy53cml0YWJsZT0hMCx0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpfSksdGhpcy5zZXRUaW1lb3V0Rm4pfSkpfX1kb0Nsb3NlKCl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuX3RyYW5zcG9ydCl8fHZvaWQgMD09PXR8fHQuY2xvc2UoKX19LHBvbGxpbmc6Y2xhc3MgZXh0ZW5kcyBVe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dCYmdC5mb3JjZUJhc2U2NDt0aGlzLnN1cHBvcnRzQmluYXJ5PU0mJiFlfXJlcXVlc3QodD17fSl7cmV0dXJuIE9iamVjdC5hc3NpZ24odCx7eGQ6dGhpcy54ZH0sdGhpcy5vcHRzKSxuZXcgSShWLHRoaXMudXJpKCksdCl9fX0sej0vXig/Oig/IVteOkBcXC8/I10rOlteOkBcXC9dKkApKGh0dHB8aHR0cHN8d3N8d3NzKTpcXC9cXC8pPygoPzooKFteOkBcXC8/I10qKSg/OjooW146QFxcLz8jXSopKT8pP0ApPygoPzpbYS1mMC05XXswLDR9Oil7Miw3fVthLWYwLTldezAsNH18W146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxKPVtcInNvdXJjZVwiLFwicHJvdG9jb2xcIixcImF1dGhvcml0eVwiLFwidXNlckluZm9cIixcInVzZXJcIixcInBhc3N3b3JkXCIsXCJob3N0XCIsXCJwb3J0XCIsXCJyZWxhdGl2ZVwiLFwicGF0aFwiLFwiZGlyZWN0b3J5XCIsXCJmaWxlXCIsXCJxdWVyeVwiLFwiYW5jaG9yXCJdO2Z1bmN0aW9uICQodCl7aWYodC5sZW5ndGg+OGUzKXRocm93XCJVUkkgdG9vIGxvbmdcIjtjb25zdCBlPXQscz10LmluZGV4T2YoXCJbXCIpLG49dC5pbmRleE9mKFwiXVwiKTstMSE9cyYmLTEhPW4mJih0PXQuc3Vic3RyaW5nKDAscykrdC5zdWJzdHJpbmcocyxuKS5yZXBsYWNlKC86L2csXCI7XCIpK3Quc3Vic3RyaW5nKG4sdC5sZW5ndGgpKTtsZXQgaT16LmV4ZWModHx8XCJcIikscj17fSxvPTE0O2Zvcig7by0tOylyW0pbb11dPWlbb118fFwiXCI7cmV0dXJuLTEhPXMmJi0xIT1uJiYoci5zb3VyY2U9ZSxyLmhvc3Q9ci5ob3N0LnN1YnN0cmluZygxLHIuaG9zdC5sZW5ndGgtMSkucmVwbGFjZSgvOy9nLFwiOlwiKSxyLmF1dGhvcml0eT1yLmF1dGhvcml0eS5yZXBsYWNlKFwiW1wiLFwiXCIpLnJlcGxhY2UoXCJdXCIsXCJcIikucmVwbGFjZSgvOy9nLFwiOlwiKSxyLmlwdjZ1cmk9ITApLHIucGF0aE5hbWVzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcz0vXFwvezIsOX0vZyxuPWUucmVwbGFjZShzLFwiL1wiKS5zcGxpdChcIi9cIik7XCIvXCIhPWUuc2xpY2UoMCwxKSYmMCE9PWUubGVuZ3RofHxuLnNwbGljZSgwLDEpO1wiL1wiPT1lLnNsaWNlKC0xKSYmbi5zcGxpY2Uobi5sZW5ndGgtMSwxKTtyZXR1cm4gbn0oMCxyLnBhdGgpLHIucXVlcnlLZXk9ZnVuY3Rpb24odCxlKXtjb25zdCBzPXt9O3JldHVybiBlLnJlcGxhY2UoLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nLChmdW5jdGlvbih0LGUsbil7ZSYmKHNbZV09bil9KSksc30oMCxyLnF1ZXJ5KSxyfWNvbnN0IFE9XCJmdW5jdGlvblwiPT10eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciYmXCJmdW5jdGlvblwiPT10eXBlb2YgcmVtb3ZlRXZlbnRMaXN0ZW5lcixYPVtdO1EmJmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57WC5mb3JFYWNoKCh0PT50KCkpKX0pLCExKTtjbGFzcyBHIGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0LGUpe2lmKHN1cGVyKCksdGhpcy5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIix0aGlzLndyaXRlQnVmZmVyPVtdLHRoaXMuX3ByZXZCdWZmZXJMZW49MCx0aGlzLl9waW5nSW50ZXJ2YWw9LTEsdGhpcy5fcGluZ1RpbWVvdXQ9LTEsdGhpcy5fbWF4UGF5bG9hZD0tMSx0aGlzLl9waW5nVGltZW91dFRpbWU9MS8wLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoZT10LHQ9bnVsbCksdCl7Y29uc3Qgcz0kKHQpO2UuaG9zdG5hbWU9cy5ob3N0LGUuc2VjdXJlPVwiaHR0cHNcIj09PXMucHJvdG9jb2x8fFwid3NzXCI9PT1zLnByb3RvY29sLGUucG9ydD1zLnBvcnQscy5xdWVyeSYmKGUucXVlcnk9cy5xdWVyeSl9ZWxzZSBlLmhvc3QmJihlLmhvc3RuYW1lPSQoZS5ob3N0KS5ob3N0KTt4KHRoaXMsZSksdGhpcy5zZWN1cmU9bnVsbCE9ZS5zZWN1cmU/ZS5zZWN1cmU6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZcImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2wsZS5ob3N0bmFtZSYmIWUucG9ydCYmKGUucG9ydD10aGlzLnNlY3VyZT9cIjQ0M1wiOlwiODBcIiksdGhpcy5ob3N0bmFtZT1lLmhvc3RuYW1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uP2xvY2F0aW9uLmhvc3RuYW1lOlwibG9jYWxob3N0XCIpLHRoaXMucG9ydD1lLnBvcnR8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLnBvcnQ/bG9jYXRpb24ucG9ydDp0aGlzLnNlY3VyZT9cIjQ0M1wiOlwiODBcIiksdGhpcy50cmFuc3BvcnRzPVtdLHRoaXMuX3RyYW5zcG9ydHNCeU5hbWU9e30sZS50cmFuc3BvcnRzLmZvckVhY2goKHQ9Pntjb25zdCBlPXQucHJvdG90eXBlLm5hbWU7dGhpcy50cmFuc3BvcnRzLnB1c2goZSksdGhpcy5fdHJhbnNwb3J0c0J5TmFtZVtlXT10fSkpLHRoaXMub3B0cz1PYmplY3QuYXNzaWduKHtwYXRoOlwiL2VuZ2luZS5pb1wiLGFnZW50OiExLHdpdGhDcmVkZW50aWFsczohMSx1cGdyYWRlOiEwLHRpbWVzdGFtcFBhcmFtOlwidFwiLHJlbWVtYmVyVXBncmFkZTohMSxhZGRUcmFpbGluZ1NsYXNoOiEwLHJlamVjdFVuYXV0aG9yaXplZDohMCxwZXJNZXNzYWdlRGVmbGF0ZTp7dGhyZXNob2xkOjEwMjR9LHRyYW5zcG9ydE9wdGlvbnM6e30sY2xvc2VPbkJlZm9yZXVubG9hZDohMX0sZSksdGhpcy5vcHRzLnBhdGg9dGhpcy5vcHRzLnBhdGgucmVwbGFjZSgvXFwvJC8sXCJcIikrKHRoaXMub3B0cy5hZGRUcmFpbGluZ1NsYXNoP1wiL1wiOlwiXCIpLFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLm9wdHMucXVlcnkmJih0aGlzLm9wdHMucXVlcnk9ZnVuY3Rpb24odCl7bGV0IGU9e30scz10LnNwbGl0KFwiJlwiKTtmb3IobGV0IHQ9MCxuPXMubGVuZ3RoO3Q8bjt0Kyspe2xldCBuPXNbdF0uc3BsaXQoXCI9XCIpO2VbZGVjb2RlVVJJQ29tcG9uZW50KG5bMF0pXT1kZWNvZGVVUklDb21wb25lbnQoblsxXSl9cmV0dXJuIGV9KHRoaXMub3B0cy5xdWVyeSkpLFEmJih0aGlzLm9wdHMuY2xvc2VPbkJlZm9yZXVubG9hZCYmKHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXI9KCk9Pnt0aGlzLnRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCkpfSxhZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwhMSkpLFwibG9jYWxob3N0XCIhPT10aGlzLmhvc3RuYW1lJiYodGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXI9KCk9Pnt0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIse2Rlc2NyaXB0aW9uOlwibmV0d29yayBjb25uZWN0aW9uIGxvc3RcIn0pfSxYLnB1c2godGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpKSksdGhpcy5vcHRzLndpdGhDcmVkZW50aWFscyYmKHRoaXMuX2Nvb2tpZUphcj12b2lkIDApLHRoaXMuX29wZW4oKX1jcmVhdGVUcmFuc3BvcnQodCl7Y29uc3QgZT1PYmplY3QuYXNzaWduKHt9LHRoaXMub3B0cy5xdWVyeSk7ZS5FSU89NCxlLnRyYW5zcG9ydD10LHRoaXMuaWQmJihlLnNpZD10aGlzLmlkKTtjb25zdCBzPU9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRzLHtxdWVyeTplLHNvY2tldDp0aGlzLGhvc3RuYW1lOnRoaXMuaG9zdG5hbWUsc2VjdXJlOnRoaXMuc2VjdXJlLHBvcnQ6dGhpcy5wb3J0fSx0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0XSk7cmV0dXJuIG5ldyB0aGlzLl90cmFuc3BvcnRzQnlOYW1lW3RdKHMpfV9vcGVuKCl7aWYoMD09PXRoaXMudHJhbnNwb3J0cy5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57dGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIil9KSwwKTtjb25zdCB0PXRoaXMub3B0cy5yZW1lbWJlclVwZ3JhZGUmJkcucHJpb3JXZWJzb2NrZXRTdWNjZXNzJiYtMSE9PXRoaXMudHJhbnNwb3J0cy5pbmRleE9mKFwid2Vic29ja2V0XCIpP1wid2Vic29ja2V0XCI6dGhpcy50cmFuc3BvcnRzWzBdO3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIjtjb25zdCBlPXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpO2Uub3BlbigpLHRoaXMuc2V0VHJhbnNwb3J0KGUpfXNldFRyYW5zcG9ydCh0KXt0aGlzLnRyYW5zcG9ydCYmdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnQ9dCx0Lm9uKFwiZHJhaW5cIix0aGlzLl9vbkRyYWluLmJpbmQodGhpcykpLm9uKFwicGFja2V0XCIsdGhpcy5fb25QYWNrZXQuYmluZCh0aGlzKSkub24oXCJlcnJvclwiLHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKSkub24oXCJjbG9zZVwiLCh0PT50aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGNsb3NlXCIsdCkpKX1vbk9wZW4oKXt0aGlzLnJlYWR5U3RhdGU9XCJvcGVuXCIsRy5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PXRoaXMudHJhbnNwb3J0Lm5hbWUsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpLHRoaXMuZmx1c2goKX1fb25QYWNrZXQodCl7aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlfHxcImNsb3NpbmdcIj09PXRoaXMucmVhZHlTdGF0ZSlzd2l0Y2godGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIix0KSx0aGlzLmVtaXRSZXNlcnZlZChcImhlYXJ0YmVhdFwiKSx0LnR5cGUpe2Nhc2VcIm9wZW5cIjp0aGlzLm9uSGFuZHNoYWtlKEpTT04ucGFyc2UodC5kYXRhKSk7YnJlYWs7Y2FzZVwicGluZ1wiOnRoaXMuX3NlbmRQYWNrZXQoXCJwb25nXCIpLHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKSx0aGlzLmVtaXRSZXNlcnZlZChcInBvbmdcIiksdGhpcy5fcmVzZXRQaW5nVGltZW91dCgpO2JyZWFrO2Nhc2VcImVycm9yXCI6Y29uc3QgZT1uZXcgRXJyb3IoXCJzZXJ2ZXIgZXJyb3JcIik7ZS5jb2RlPXQuZGF0YSx0aGlzLl9vbkVycm9yKGUpO2JyZWFrO2Nhc2VcIm1lc3NhZ2VcIjp0aGlzLmVtaXRSZXNlcnZlZChcImRhdGFcIix0LmRhdGEpLHRoaXMuZW1pdFJlc2VydmVkKFwibWVzc2FnZVwiLHQuZGF0YSl9fW9uSGFuZHNoYWtlKHQpe3RoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsdCksdGhpcy5pZD10LnNpZCx0aGlzLnRyYW5zcG9ydC5xdWVyeS5zaWQ9dC5zaWQsdGhpcy5fcGluZ0ludGVydmFsPXQucGluZ0ludGVydmFsLHRoaXMuX3BpbmdUaW1lb3V0PXQucGluZ1RpbWVvdXQsdGhpcy5fbWF4UGF5bG9hZD10Lm1heFBheWxvYWQsdGhpcy5vbk9wZW4oKSxcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLl9yZXNldFBpbmdUaW1lb3V0KCl9X3Jlc2V0UGluZ1RpbWVvdXQoKXt0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMuX3BpbmdUaW1lb3V0VGltZXIpO2NvbnN0IHQ9dGhpcy5fcGluZ0ludGVydmFsK3RoaXMuX3BpbmdUaW1lb3V0O3RoaXMuX3BpbmdUaW1lb3V0VGltZT1EYXRlLm5vdygpK3QsdGhpcy5fcGluZ1RpbWVvdXRUaW1lcj10aGlzLnNldFRpbWVvdXRGbigoKCk9Pnt0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSksdCksdGhpcy5vcHRzLmF1dG9VbnJlZiYmdGhpcy5fcGluZ1RpbWVvdXRUaW1lci51bnJlZigpfV9vbkRyYWluKCl7dGhpcy53cml0ZUJ1ZmZlci5zcGxpY2UoMCx0aGlzLl9wcmV2QnVmZmVyTGVuKSx0aGlzLl9wcmV2QnVmZmVyTGVuPTAsMD09PXRoaXMud3JpdGVCdWZmZXIubGVuZ3RoP3RoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik6dGhpcy5mbHVzaCgpfWZsdXNoKCl7aWYoXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy50cmFuc3BvcnQud3JpdGFibGUmJiF0aGlzLnVwZ3JhZGluZyYmdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5fZ2V0V3JpdGFibGVQYWNrZXRzKCk7dGhpcy50cmFuc3BvcnQuc2VuZCh0KSx0aGlzLl9wcmV2QnVmZmVyTGVuPXQubGVuZ3RoLHRoaXMuZW1pdFJlc2VydmVkKFwiZmx1c2hcIil9fV9nZXRXcml0YWJsZVBhY2tldHMoKXtpZighKHRoaXMuX21heFBheWxvYWQmJlwicG9sbGluZ1wiPT09dGhpcy50cmFuc3BvcnQubmFtZSYmdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg+MSkpcmV0dXJuIHRoaXMud3JpdGVCdWZmZXI7bGV0IHQ9MTtmb3IobGV0IHM9MDtzPHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO3MrKyl7Y29uc3Qgbj10aGlzLndyaXRlQnVmZmVyW3NdLmRhdGE7aWYobiYmKHQrPVwic3RyaW5nXCI9PXR5cGVvZihlPW4pP2Z1bmN0aW9uKHQpe2xldCBlPTAscz0wO2ZvcihsZXQgbj0wLGk9dC5sZW5ndGg7bjxpO24rKyllPXQuY2hhckNvZGVBdChuKSxlPDEyOD9zKz0xOmU8MjA0OD9zKz0yOmU8NTUyOTZ8fGU+PTU3MzQ0P3MrPTM6KG4rKyxzKz00KTtyZXR1cm4gc30oZSk6TWF0aC5jZWlsKDEuMzMqKGUuYnl0ZUxlbmd0aHx8ZS5zaXplKSkpLHM+MCYmdD50aGlzLl9tYXhQYXlsb2FkKXJldHVybiB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKDAscyk7dCs9Mn12YXIgZTtyZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcn1faGFzUGluZ0V4cGlyZWQoKXtpZighdGhpcy5fcGluZ1RpbWVvdXRUaW1lKXJldHVybiEwO2NvbnN0IHQ9RGF0ZS5ub3coKT50aGlzLl9waW5nVGltZW91dFRpbWU7cmV0dXJuIHQmJih0aGlzLl9waW5nVGltZW91dFRpbWU9MCxUKCgoKT0+e3RoaXMuX29uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIil9KSx0aGlzLnNldFRpbWVvdXRGbikpLHR9d3JpdGUodCxlLHMpe3JldHVybiB0aGlzLl9zZW5kUGFja2V0KFwibWVzc2FnZVwiLHQsZSxzKSx0aGlzfXNlbmQodCxlLHMpe3JldHVybiB0aGlzLl9zZW5kUGFja2V0KFwibWVzc2FnZVwiLHQsZSxzKSx0aGlzfV9zZW5kUGFja2V0KHQsZSxzLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihuPWUsZT12b2lkIDApLFwiZnVuY3Rpb25cIj09dHlwZW9mIHMmJihuPXMscz1udWxsKSxcImNsb3NpbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zZWRcIj09PXRoaXMucmVhZHlTdGF0ZSlyZXR1cm47KHM9c3x8e30pLmNvbXByZXNzPSExIT09cy5jb21wcmVzcztjb25zdCBpPXt0eXBlOnQsZGF0YTplLG9wdGlvbnM6c307dGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRDcmVhdGVcIixpKSx0aGlzLndyaXRlQnVmZmVyLnB1c2goaSksbiYmdGhpcy5vbmNlKFwiZmx1c2hcIixuKSx0aGlzLmZsdXNoKCl9Y2xvc2UoKXtjb25zdCB0PSgpPT57dGhpcy5fb25DbG9zZShcImZvcmNlZCBjbG9zZVwiKSx0aGlzLnRyYW5zcG9ydC5jbG9zZSgpfSxlPSgpPT57dGhpcy5vZmYoXCJ1cGdyYWRlXCIsZSksdGhpcy5vZmYoXCJ1cGdyYWRlRXJyb3JcIixlKSx0KCl9LHM9KCk9Pnt0aGlzLm9uY2UoXCJ1cGdyYWRlXCIsZSksdGhpcy5vbmNlKFwidXBncmFkZUVycm9yXCIsZSl9O3JldHVyblwib3BlbmluZ1wiIT09dGhpcy5yZWFkeVN0YXRlJiZcIm9wZW5cIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMucmVhZHlTdGF0ZT1cImNsb3NpbmdcIix0aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLm9uY2UoXCJkcmFpblwiLCgoKT0+e3RoaXMudXBncmFkaW5nP3MoKTp0KCl9KSk6dGhpcy51cGdyYWRpbmc/cygpOnQoKSksdGhpc31fb25FcnJvcih0KXtpZihHLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMSx0aGlzLm9wdHMudHJ5QWxsVHJhbnNwb3J0cyYmdGhpcy50cmFuc3BvcnRzLmxlbmd0aD4xJiZcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZSlyZXR1cm4gdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCksdGhpcy5fb3BlbigpO3RoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIix0KSx0aGlzLl9vbkNsb3NlKFwidHJhbnNwb3J0IGVycm9yXCIsdCl9X29uQ2xvc2UodCxlKXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXtpZih0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMuX3BpbmdUaW1lb3V0VGltZXIpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycyhcImNsb3NlXCIpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksUSYmKHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXImJnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyLCExKSx0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lcikpe2NvbnN0IHQ9WC5pbmRleE9mKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKTstMSE9PXQmJlguc3BsaWNlKHQsMSl9dGhpcy5yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5pZD1udWxsLHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIix0LGUpLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5fcHJldkJ1ZmZlckxlbj0wfX19Ry5wcm90b2NvbD00O2NsYXNzIFogZXh0ZW5kcyBHe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl91cGdyYWRlcz1bXX1vbk9wZW4oKXtpZihzdXBlci5vbk9wZW4oKSxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5vcHRzLnVwZ3JhZGUpZm9yKGxldCB0PTA7dDx0aGlzLl91cGdyYWRlcy5sZW5ndGg7dCsrKXRoaXMuX3Byb2JlKHRoaXMuX3VwZ3JhZGVzW3RdKX1fcHJvYmUodCl7bGV0IGU9dGhpcy5jcmVhdGVUcmFuc3BvcnQodCkscz0hMTtHLnByaW9yV2Vic29ja2V0U3VjY2Vzcz0hMTtjb25zdCBuPSgpPT57c3x8KGUuc2VuZChbe3R5cGU6XCJwaW5nXCIsZGF0YTpcInByb2JlXCJ9XSksZS5vbmNlKFwicGFja2V0XCIsKHQ9PntpZighcylpZihcInBvbmdcIj09PXQudHlwZSYmXCJwcm9iZVwiPT09dC5kYXRhKXtpZih0aGlzLnVwZ3JhZGluZz0hMCx0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGluZ1wiLGUpLCFlKXJldHVybjtHLnByaW9yV2Vic29ja2V0U3VjY2Vzcz1cIndlYnNvY2tldFwiPT09ZS5uYW1lLHRoaXMudHJhbnNwb3J0LnBhdXNlKCgoKT0+e3N8fFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJihjKCksdGhpcy5zZXRUcmFuc3BvcnQoZSksZS5zZW5kKFt7dHlwZTpcInVwZ3JhZGVcIn1dKSx0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVcIixlKSxlPW51bGwsdGhpcy51cGdyYWRpbmc9ITEsdGhpcy5mbHVzaCgpKX0pKX1lbHNle2NvbnN0IHQ9bmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7dC50cmFuc3BvcnQ9ZS5uYW1lLHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIsdCl9fSkpKX07ZnVuY3Rpb24gaSgpe3N8fChzPSEwLGMoKSxlLmNsb3NlKCksZT1udWxsKX1jb25zdCByPXQ9Pntjb25zdCBzPW5ldyBFcnJvcihcInByb2JlIGVycm9yOiBcIit0KTtzLnRyYW5zcG9ydD1lLm5hbWUsaSgpLHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZUVycm9yXCIscyl9O2Z1bmN0aW9uIG8oKXtyKFwidHJhbnNwb3J0IGNsb3NlZFwiKX1mdW5jdGlvbiBhKCl7cihcInNvY2tldCBjbG9zZWRcIil9ZnVuY3Rpb24gaCh0KXtlJiZ0Lm5hbWUhPT1lLm5hbWUmJmkoKX1jb25zdCBjPSgpPT57ZS5yZW1vdmVMaXN0ZW5lcihcIm9wZW5cIixuKSxlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixyKSxlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvKSx0aGlzLm9mZihcImNsb3NlXCIsYSksdGhpcy5vZmYoXCJ1cGdyYWRpbmdcIixoKX07ZS5vbmNlKFwib3BlblwiLG4pLGUub25jZShcImVycm9yXCIsciksZS5vbmNlKFwiY2xvc2VcIixvKSx0aGlzLm9uY2UoXCJjbG9zZVwiLGEpLHRoaXMub25jZShcInVwZ3JhZGluZ1wiLGgpLC0xIT09dGhpcy5fdXBncmFkZXMuaW5kZXhPZihcIndlYnRyYW5zcG9ydFwiKSYmXCJ3ZWJ0cmFuc3BvcnRcIiE9PXQ/dGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57c3x8ZS5vcGVuKCl9KSwyMDApOmUub3BlbigpfW9uSGFuZHNoYWtlKHQpe3RoaXMuX3VwZ3JhZGVzPXRoaXMuX2ZpbHRlclVwZ3JhZGVzKHQudXBncmFkZXMpLHN1cGVyLm9uSGFuZHNoYWtlKHQpfV9maWx0ZXJVcGdyYWRlcyh0KXtjb25zdCBlPVtdO2ZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKX50aGlzLnRyYW5zcG9ydHMuaW5kZXhPZih0W3NdKSYmZS5wdXNoKHRbc10pO3JldHVybiBlfX1sZXQgdHQ9Y2xhc3MgZXh0ZW5kcyBae2NvbnN0cnVjdG9yKHQsZT17fSl7Y29uc3Qgcz1cIm9iamVjdFwiPT10eXBlb2YgdD90OmU7KCFzLnRyYW5zcG9ydHN8fHMudHJhbnNwb3J0cyYmXCJzdHJpbmdcIj09dHlwZW9mIHMudHJhbnNwb3J0c1swXSkmJihzLnRyYW5zcG9ydHM9KHMudHJhbnNwb3J0c3x8W1wicG9sbGluZ1wiLFwid2Vic29ja2V0XCIsXCJ3ZWJ0cmFuc3BvcnRcIl0pLm1hcCgodD0+WVt0XSkpLmZpbHRlcigodD0+ISF0KSkpLHN1cGVyKHQscyl9fTtjb25zdCBldD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcixzdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLG50PVwiZnVuY3Rpb25cIj09dHlwZW9mIEJsb2J8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iJiZcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiPT09c3QuY2FsbChCbG9iKSxpdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBGaWxlfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZSYmXCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIj09PXN0LmNhbGwoRmlsZSk7ZnVuY3Rpb24gcnQodCl7cmV0dXJuIGV0JiYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwodD0+XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyh0KTp0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSh0KSl8fG50JiZ0IGluc3RhbmNlb2YgQmxvYnx8aXQmJnQgaW5zdGFuY2VvZiBGaWxlfWZ1bmN0aW9uIG90KHQsZSl7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiExO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihsZXQgZT0wLHM9dC5sZW5ndGg7ZTxzO2UrKylpZihvdCh0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1pZihydCh0KSlyZXR1cm4hMDtpZih0LnRvSlNPTiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC50b0pTT04mJjE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBvdCh0LnRvSlNPTigpLCEwKTtmb3IoY29uc3QgZSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZvdCh0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBhdCh0KXtjb25zdCBlPVtdLHM9dC5kYXRhLG49dDtyZXR1cm4gbi5kYXRhPWh0KHMsZSksbi5hdHRhY2htZW50cz1lLmxlbmd0aCx7cGFja2V0Om4sYnVmZmVyczplfX1mdW5jdGlvbiBodCh0LGUpe2lmKCF0KXJldHVybiB0O2lmKHJ0KHQpKXtjb25zdCBzPXtfcGxhY2Vob2xkZXI6ITAsbnVtOmUubGVuZ3RofTtyZXR1cm4gZS5wdXNoKHQpLHN9aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3Qgcz1uZXcgQXJyYXkodC5sZW5ndGgpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXNbbl09aHQodFtuXSxlKTtyZXR1cm4gc31pZihcIm9iamVjdFwiPT10eXBlb2YgdCYmISh0IGluc3RhbmNlb2YgRGF0ZSkpe2NvbnN0IHM9e307Zm9yKGNvbnN0IG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKHNbbl09aHQodFtuXSxlKSk7cmV0dXJuIHN9cmV0dXJuIHR9ZnVuY3Rpb24gY3QodCxlKXtyZXR1cm4gdC5kYXRhPXB0KHQuZGF0YSxlKSxkZWxldGUgdC5hdHRhY2htZW50cyx0fWZ1bmN0aW9uIHB0KHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYodCYmITA9PT10Ll9wbGFjZWhvbGRlcil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQubnVtJiZ0Lm51bT49MCYmdC5udW08ZS5sZW5ndGgpcmV0dXJuIGVbdC5udW1dO3Rocm93IG5ldyBFcnJvcihcImlsbGVnYWwgYXR0YWNobWVudHNcIil9aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl0W3NdPXB0KHRbc10sZSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgdClmb3IoY29uc3QgcyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHMpJiYodFtzXT1wdCh0W3NdLGUpKTtyZXR1cm4gdH1jb25zdCB1dD1bXCJjb25uZWN0XCIsXCJjb25uZWN0X2Vycm9yXCIsXCJkaXNjb25uZWN0XCIsXCJkaXNjb25uZWN0aW5nXCIsXCJuZXdMaXN0ZW5lclwiLFwicmVtb3ZlTGlzdGVuZXJcIl07dmFyIGR0OyFmdW5jdGlvbih0KXt0W3QuQ09OTkVDVD0wXT1cIkNPTk5FQ1RcIix0W3QuRElTQ09OTkVDVD0xXT1cIkRJU0NPTk5FQ1RcIix0W3QuRVZFTlQ9Ml09XCJFVkVOVFwiLHRbdC5BQ0s9M109XCJBQ0tcIix0W3QuQ09OTkVDVF9FUlJPUj00XT1cIkNPTk5FQ1RfRVJST1JcIix0W3QuQklOQVJZX0VWRU5UPTVdPVwiQklOQVJZX0VWRU5UXCIsdFt0LkJJTkFSWV9BQ0s9Nl09XCJCSU5BUllfQUNLXCJ9KGR0fHwoZHQ9e30pKTtmdW5jdGlvbiBsdCh0KXtyZXR1cm5cIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNsYXNzIGZ0IGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMucmV2aXZlcj10fWFkZCh0KXtsZXQgZTtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7aWYodGhpcy5yZWNvbnN0cnVjdG9yKXRocm93IG5ldyBFcnJvcihcImdvdCBwbGFpbnRleHQgZGF0YSB3aGVuIHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO2U9dGhpcy5kZWNvZGVTdHJpbmcodCk7Y29uc3Qgcz1lLnR5cGU9PT1kdC5CSU5BUllfRVZFTlQ7c3x8ZS50eXBlPT09ZHQuQklOQVJZX0FDSz8oZS50eXBlPXM/ZHQuRVZFTlQ6ZHQuQUNLLHRoaXMucmVjb25zdHJ1Y3Rvcj1uZXcgeXQoZSksMD09PWUuYXR0YWNobWVudHMmJnN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIixlKSk6c3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLGUpfWVsc2V7aWYoIXJ0KHQpJiYhdC5iYXNlNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0KTtpZighdGhpcy5yZWNvbnN0cnVjdG9yKXRocm93IG5ldyBFcnJvcihcImdvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtlPXRoaXMucmVjb25zdHJ1Y3Rvci50YWtlQmluYXJ5RGF0YSh0KSxlJiYodGhpcy5yZWNvbnN0cnVjdG9yPW51bGwsc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLGUpKX19ZGVjb2RlU3RyaW5nKHQpe2xldCBlPTA7Y29uc3Qgcz17dHlwZTpOdW1iZXIodC5jaGFyQXQoMCkpfTtpZih2b2lkIDA9PT1kdFtzLnR5cGVdKXRocm93IG5ldyBFcnJvcihcInVua25vd24gcGFja2V0IHR5cGUgXCIrcy50eXBlKTtpZihzLnR5cGU9PT1kdC5CSU5BUllfRVZFTlR8fHMudHlwZT09PWR0LkJJTkFSWV9BQ0spe2NvbnN0IG49ZSsxO2Zvcig7XCItXCIhPT10LmNoYXJBdCgrK2UpJiZlIT10Lmxlbmd0aDspO2NvbnN0IGk9dC5zdWJzdHJpbmcobixlKTtpZihpIT1OdW1iZXIoaSl8fFwiLVwiIT09dC5jaGFyQXQoZSkpdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBhdHRhY2htZW50c1wiKTtzLmF0dGFjaG1lbnRzPU51bWJlcihpKX1pZihcIi9cIj09PXQuY2hhckF0KGUrMSkpe2NvbnN0IG49ZSsxO2Zvcig7KytlOyl7aWYoXCIsXCI9PT10LmNoYXJBdChlKSlicmVhaztpZihlPT09dC5sZW5ndGgpYnJlYWt9cy5uc3A9dC5zdWJzdHJpbmcobixlKX1lbHNlIHMubnNwPVwiL1wiO2NvbnN0IG49dC5jaGFyQXQoZSsxKTtpZihcIlwiIT09biYmTnVtYmVyKG4pPT1uKXtjb25zdCBuPWUrMTtmb3IoOysrZTspe2NvbnN0IHM9dC5jaGFyQXQoZSk7aWYobnVsbD09c3x8TnVtYmVyKHMpIT1zKXstLWU7YnJlYWt9aWYoZT09PXQubGVuZ3RoKWJyZWFrfXMuaWQ9TnVtYmVyKHQuc3Vic3RyaW5nKG4sZSsxKSl9aWYodC5jaGFyQXQoKytlKSl7Y29uc3Qgbj10aGlzLnRyeVBhcnNlKHQuc3Vic3RyKGUpKTtpZighZnQuaXNQYXlsb2FkVmFsaWQocy50eXBlLG4pKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgcGF5bG9hZFwiKTtzLmRhdGE9bn1yZXR1cm4gc310cnlQYXJzZSh0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UodCx0aGlzLnJldml2ZXIpfWNhdGNoKHQpe3JldHVybiExfX1zdGF0aWMgaXNQYXlsb2FkVmFsaWQodCxlKXtzd2l0Y2godCl7Y2FzZSBkdC5DT05ORUNUOnJldHVybiBsdChlKTtjYXNlIGR0LkRJU0NPTk5FQ1Q6cmV0dXJuIHZvaWQgMD09PWU7Y2FzZSBkdC5DT05ORUNUX0VSUk9SOnJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlfHxsdChlKTtjYXNlIGR0LkVWRU5UOmNhc2UgZHQuQklOQVJZX0VWRU5UOnJldHVybiBBcnJheS5pc0FycmF5KGUpJiYoXCJudW1iZXJcIj09dHlwZW9mIGVbMF18fFwic3RyaW5nXCI9PXR5cGVvZiBlWzBdJiYtMT09PXV0LmluZGV4T2YoZVswXSkpO2Nhc2UgZHQuQUNLOmNhc2UgZHQuQklOQVJZX0FDSzpyZXR1cm4gQXJyYXkuaXNBcnJheShlKX19ZGVzdHJveSgpe3RoaXMucmVjb25zdHJ1Y3RvciYmKHRoaXMucmVjb25zdHJ1Y3Rvci5maW5pc2hlZFJlY29uc3RydWN0aW9uKCksdGhpcy5yZWNvbnN0cnVjdG9yPW51bGwpfX1jbGFzcyB5dHtjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhY2tldD10LHRoaXMuYnVmZmVycz1bXSx0aGlzLnJlY29uUGFjaz10fXRha2VCaW5hcnlEYXRhKHQpe2lmKHRoaXMuYnVmZmVycy5wdXNoKHQpLHRoaXMuYnVmZmVycy5sZW5ndGg9PT10aGlzLnJlY29uUGFjay5hdHRhY2htZW50cyl7Y29uc3QgdD1jdCh0aGlzLnJlY29uUGFjayx0aGlzLmJ1ZmZlcnMpO3JldHVybiB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSx0fXJldHVybiBudWxsfWZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKXt0aGlzLnJlY29uUGFjaz1udWxsLHRoaXMuYnVmZmVycz1bXX19dmFyIGd0PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLERlY29kZXI6ZnQsRW5jb2RlcjpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnJlcGxhY2VyPXR9ZW5jb2RlKHQpe3JldHVybiB0LnR5cGUhPT1kdC5FVkVOVCYmdC50eXBlIT09ZHQuQUNLfHwhb3QodCk/W3RoaXMuZW5jb2RlQXNTdHJpbmcodCldOnRoaXMuZW5jb2RlQXNCaW5hcnkoe3R5cGU6dC50eXBlPT09ZHQuRVZFTlQ/ZHQuQklOQVJZX0VWRU5UOmR0LkJJTkFSWV9BQ0ssbnNwOnQubnNwLGRhdGE6dC5kYXRhLGlkOnQuaWR9KX1lbmNvZGVBc1N0cmluZyh0KXtsZXQgZT1cIlwiK3QudHlwZTtyZXR1cm4gdC50eXBlIT09ZHQuQklOQVJZX0VWRU5UJiZ0LnR5cGUhPT1kdC5CSU5BUllfQUNLfHwoZSs9dC5hdHRhY2htZW50cytcIi1cIiksdC5uc3AmJlwiL1wiIT09dC5uc3AmJihlKz10Lm5zcCtcIixcIiksbnVsbCE9dC5pZCYmKGUrPXQuaWQpLG51bGwhPXQuZGF0YSYmKGUrPUpTT04uc3RyaW5naWZ5KHQuZGF0YSx0aGlzLnJlcGxhY2VyKSksZX1lbmNvZGVBc0JpbmFyeSh0KXtjb25zdCBlPWF0KHQpLHM9dGhpcy5lbmNvZGVBc1N0cmluZyhlLnBhY2tldCksbj1lLmJ1ZmZlcnM7cmV0dXJuIG4udW5zaGlmdChzKSxufX0sZ2V0IFBhY2tldFR5cGUoKXtyZXR1cm4gZHR9LHByb3RvY29sOjV9KTtmdW5jdGlvbiBtdCh0LGUscyl7cmV0dXJuIHQub24oZSxzKSxmdW5jdGlvbigpe3Qub2ZmKGUscyl9fWNvbnN0IF90PU9iamVjdC5mcmVlemUoe2Nvbm5lY3Q6MSxjb25uZWN0X2Vycm9yOjEsZGlzY29ubmVjdDoxLGRpc2Nvbm5lY3Rpbmc6MSxuZXdMaXN0ZW5lcjoxLHJlbW92ZUxpc3RlbmVyOjF9KTtjbGFzcyBidCBleHRlbmRzIEF7Y29uc3RydWN0b3IodCxlLHMpe3N1cGVyKCksdGhpcy5jb25uZWN0ZWQ9ITEsdGhpcy5yZWNvdmVyZWQ9ITEsdGhpcy5yZWNlaXZlQnVmZmVyPVtdLHRoaXMuc2VuZEJ1ZmZlcj1bXSx0aGlzLl9xdWV1ZT1bXSx0aGlzLl9xdWV1ZVNlcT0wLHRoaXMuaWRzPTAsdGhpcy5hY2tzPXt9LHRoaXMuZmxhZ3M9e30sdGhpcy5pbz10LHRoaXMubnNwPWUscyYmcy5hdXRoJiYodGhpcy5hdXRoPXMuYXV0aCksdGhpcy5fb3B0cz1PYmplY3QuYXNzaWduKHt9LHMpLHRoaXMuaW8uX2F1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKX1nZXQgZGlzY29ubmVjdGVkKCl7cmV0dXJuIXRoaXMuY29ubmVjdGVkfXN1YkV2ZW50cygpe2lmKHRoaXMuc3VicylyZXR1cm47Y29uc3QgdD10aGlzLmlvO3RoaXMuc3Vicz1bbXQodCxcIm9wZW5cIix0aGlzLm9ub3Blbi5iaW5kKHRoaXMpKSxtdCh0LFwicGFja2V0XCIsdGhpcy5vbnBhY2tldC5iaW5kKHRoaXMpKSxtdCh0LFwiZXJyb3JcIix0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksbXQodCxcImNsb3NlXCIsdGhpcy5vbmNsb3NlLmJpbmQodGhpcykpXX1nZXQgYWN0aXZlKCl7cmV0dXJuISF0aGlzLnN1YnN9Y29ubmVjdCgpe3JldHVybiB0aGlzLmNvbm5lY3RlZHx8KHRoaXMuc3ViRXZlbnRzKCksdGhpcy5pby5fcmVjb25uZWN0aW5nfHx0aGlzLmlvLm9wZW4oKSxcIm9wZW5cIj09PXRoaXMuaW8uX3JlYWR5U3RhdGUmJnRoaXMub25vcGVuKCkpLHRoaXN9b3Blbigpe3JldHVybiB0aGlzLmNvbm5lY3QoKX1zZW5kKC4uLnQpe3JldHVybiB0LnVuc2hpZnQoXCJtZXNzYWdlXCIpLHRoaXMuZW1pdC5hcHBseSh0aGlzLHQpLHRoaXN9ZW1pdCh0LC4uLmUpe3ZhciBzLG4saTtpZihfdC5oYXNPd25Qcm9wZXJ0eSh0KSl0aHJvdyBuZXcgRXJyb3IoJ1wiJyt0LnRvU3RyaW5nKCkrJ1wiIGlzIGEgcmVzZXJ2ZWQgZXZlbnQgbmFtZScpO2lmKGUudW5zaGlmdCh0KSx0aGlzLl9vcHRzLnJldHJpZXMmJiF0aGlzLmZsYWdzLmZyb21RdWV1ZSYmIXRoaXMuZmxhZ3Mudm9sYXRpbGUpcmV0dXJuIHRoaXMuX2FkZFRvUXVldWUoZSksdGhpcztjb25zdCByPXt0eXBlOmR0LkVWRU5ULGRhdGE6ZSxvcHRpb25zOnt9fTtpZihyLm9wdGlvbnMuY29tcHJlc3M9ITEhPT10aGlzLmZsYWdzLmNvbXByZXNzLFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0pe2NvbnN0IHQ9dGhpcy5pZHMrKyxzPWUucG9wKCk7dGhpcy5fcmVnaXN0ZXJBY2tDYWxsYmFjayh0LHMpLHIuaWQ9dH1jb25zdCBvPW51bGw9PT0obj1udWxsPT09KHM9dGhpcy5pby5lbmdpbmUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnRyYW5zcG9ydCl8fHZvaWQgMD09PW4/dm9pZCAwOm4ud3JpdGFibGUsYT10aGlzLmNvbm5lY3RlZCYmIShudWxsPT09KGk9dGhpcy5pby5lbmdpbmUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLl9oYXNQaW5nRXhwaXJlZCgpKTtyZXR1cm4gdGhpcy5mbGFncy52b2xhdGlsZSYmIW98fChhPyh0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHIpLHRoaXMucGFja2V0KHIpKTp0aGlzLnNlbmRCdWZmZXIucHVzaChyKSksdGhpcy5mbGFncz17fSx0aGlzfV9yZWdpc3RlckFja0NhbGxiYWNrKHQsZSl7dmFyIHM7Y29uc3Qgbj1udWxsIT09KHM9dGhpcy5mbGFncy50aW1lb3V0KSYmdm9pZCAwIT09cz9zOnRoaXMuX29wdHMuYWNrVGltZW91dDtpZih2b2lkIDA9PT1uKXJldHVybiB2b2lkKHRoaXMuYWNrc1t0XT1lKTtjb25zdCBpPXRoaXMuaW8uc2V0VGltZW91dEZuKCgoKT0+e2RlbGV0ZSB0aGlzLmFja3NbdF07Zm9yKGxldCBlPTA7ZTx0aGlzLnNlbmRCdWZmZXIubGVuZ3RoO2UrKyl0aGlzLnNlbmRCdWZmZXJbZV0uaWQ9PT10JiZ0aGlzLnNlbmRCdWZmZXIuc3BsaWNlKGUsMSk7ZS5jYWxsKHRoaXMsbmV3IEVycm9yKFwib3BlcmF0aW9uIGhhcyB0aW1lZCBvdXRcIikpfSksbikscj0oLi4udCk9Pnt0aGlzLmlvLmNsZWFyVGltZW91dEZuKGkpLGUuYXBwbHkodGhpcyx0KX07ci53aXRoRXJyb3I9ITAsdGhpcy5hY2tzW3RdPXJ9ZW1pdFdpdGhBY2sodCwuLi5lKXtyZXR1cm4gbmV3IFByb21pc2UoKChzLG4pPT57Y29uc3QgaT0odCxlKT0+dD9uKHQpOnMoZSk7aS53aXRoRXJyb3I9ITAsZS5wdXNoKGkpLHRoaXMuZW1pdCh0LC4uLmUpfSkpfV9hZGRUb1F1ZXVlKHQpe2xldCBlO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihlPXQucG9wKCkpO2NvbnN0IHM9e2lkOnRoaXMuX3F1ZXVlU2VxKyssdHJ5Q291bnQ6MCxwZW5kaW5nOiExLGFyZ3M6dCxmbGFnczpPYmplY3QuYXNzaWduKHtmcm9tUXVldWU6ITB9LHRoaXMuZmxhZ3MpfTt0LnB1c2goKCh0LC4uLm4pPT57aWYocyE9PXRoaXMuX3F1ZXVlWzBdKXJldHVybjtyZXR1cm4gbnVsbCE9PXQ/cy50cnlDb3VudD50aGlzLl9vcHRzLnJldHJpZXMmJih0aGlzLl9xdWV1ZS5zaGlmdCgpLGUmJmUodCkpOih0aGlzLl9xdWV1ZS5zaGlmdCgpLGUmJmUobnVsbCwuLi5uKSkscy5wZW5kaW5nPSExLHRoaXMuX2RyYWluUXVldWUoKX0pKSx0aGlzLl9xdWV1ZS5wdXNoKHMpLHRoaXMuX2RyYWluUXVldWUoKX1fZHJhaW5RdWV1ZSh0PSExKXtpZighdGhpcy5jb25uZWN0ZWR8fDA9PT10aGlzLl9xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5fcXVldWVbMF07ZS5wZW5kaW5nJiYhdHx8KGUucGVuZGluZz0hMCxlLnRyeUNvdW50KyssdGhpcy5mbGFncz1lLmZsYWdzLHRoaXMuZW1pdC5hcHBseSh0aGlzLGUuYXJncykpfXBhY2tldCh0KXt0Lm5zcD10aGlzLm5zcCx0aGlzLmlvLl9wYWNrZXQodCl9b25vcGVuKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5hdXRoP3RoaXMuYXV0aCgodD0+e3RoaXMuX3NlbmRDb25uZWN0UGFja2V0KHQpfSkpOnRoaXMuX3NlbmRDb25uZWN0UGFja2V0KHRoaXMuYXV0aCl9X3NlbmRDb25uZWN0UGFja2V0KHQpe3RoaXMucGFja2V0KHt0eXBlOmR0LkNPTk5FQ1QsZGF0YTp0aGlzLl9waWQ/T2JqZWN0LmFzc2lnbih7cGlkOnRoaXMuX3BpZCxvZmZzZXQ6dGhpcy5fbGFzdE9mZnNldH0sdCk6dH0pfW9uZXJyb3IodCl7dGhpcy5jb25uZWN0ZWR8fHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLHQpfW9uY2xvc2UodCxlKXt0aGlzLmNvbm5lY3RlZD0hMSxkZWxldGUgdGhpcy5pZCx0aGlzLmVtaXRSZXNlcnZlZChcImRpc2Nvbm5lY3RcIix0LGUpLHRoaXMuX2NsZWFyQWNrcygpfV9jbGVhckFja3MoKXtPYmplY3Qua2V5cyh0aGlzLmFja3MpLmZvckVhY2goKHQ9PntpZighdGhpcy5zZW5kQnVmZmVyLnNvbWUoKGU9PlN0cmluZyhlLmlkKT09PXQpKSl7Y29uc3QgZT10aGlzLmFja3NbdF07ZGVsZXRlIHRoaXMuYWNrc1t0XSxlLndpdGhFcnJvciYmZS5jYWxsKHRoaXMsbmV3IEVycm9yKFwic29ja2V0IGhhcyBiZWVuIGRpc2Nvbm5lY3RlZFwiKSl9fSkpfW9ucGFja2V0KHQpe2lmKHQubnNwPT09dGhpcy5uc3Apc3dpdGNoKHQudHlwZSl7Y2FzZSBkdC5DT05ORUNUOnQuZGF0YSYmdC5kYXRhLnNpZD90aGlzLm9uY29ubmVjdCh0LmRhdGEuc2lkLHQuZGF0YS5waWQpOnRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLG5ldyBFcnJvcihcIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pXCIpKTticmVhaztjYXNlIGR0LkVWRU5UOmNhc2UgZHQuQklOQVJZX0VWRU5UOnRoaXMub25ldmVudCh0KTticmVhaztjYXNlIGR0LkFDSzpjYXNlIGR0LkJJTkFSWV9BQ0s6dGhpcy5vbmFjayh0KTticmVhaztjYXNlIGR0LkRJU0NPTk5FQ1Q6dGhpcy5vbmRpc2Nvbm5lY3QoKTticmVhaztjYXNlIGR0LkNPTk5FQ1RfRVJST1I6dGhpcy5kZXN0cm95KCk7Y29uc3QgZT1uZXcgRXJyb3IodC5kYXRhLm1lc3NhZ2UpO2UuZGF0YT10LmRhdGEuZGF0YSx0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIixlKX19b25ldmVudCh0KXtjb25zdCBlPXQuZGF0YXx8W107bnVsbCE9dC5pZCYmZS5wdXNoKHRoaXMuYWNrKHQuaWQpKSx0aGlzLmNvbm5lY3RlZD90aGlzLmVtaXRFdmVudChlKTp0aGlzLnJlY2VpdmVCdWZmZXIucHVzaChPYmplY3QuZnJlZXplKGUpKX1lbWl0RXZlbnQodCl7aWYodGhpcy5fYW55TGlzdGVuZXJzJiZ0aGlzLl9hbnlMaXN0ZW5lcnMubGVuZ3RoKXtjb25zdCBlPXRoaXMuX2FueUxpc3RlbmVycy5zbGljZSgpO2Zvcihjb25zdCBzIG9mIGUpcy5hcHBseSh0aGlzLHQpfXN1cGVyLmVtaXQuYXBwbHkodGhpcyx0KSx0aGlzLl9waWQmJnQubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgdFt0Lmxlbmd0aC0xXSYmKHRoaXMuX2xhc3RPZmZzZXQ9dFt0Lmxlbmd0aC0xXSl9YWNrKHQpe2NvbnN0IGU9dGhpcztsZXQgcz0hMTtyZXR1cm4gZnVuY3Rpb24oLi4ubil7c3x8KHM9ITAsZS5wYWNrZXQoe3R5cGU6ZHQuQUNLLGlkOnQsZGF0YTpufSkpfX1vbmFjayh0KXtjb25zdCBlPXRoaXMuYWNrc1t0LmlkXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZGVsZXRlIHRoaXMuYWNrc1t0LmlkXSxlLndpdGhFcnJvciYmdC5kYXRhLnVuc2hpZnQobnVsbCksZS5hcHBseSh0aGlzLHQuZGF0YSkpfW9uY29ubmVjdCh0LGUpe3RoaXMuaWQ9dCx0aGlzLnJlY292ZXJlZD1lJiZ0aGlzLl9waWQ9PT1lLHRoaXMuX3BpZD1lLHRoaXMuY29ubmVjdGVkPSEwLHRoaXMuZW1pdEJ1ZmZlcmVkKCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpLHRoaXMuX2RyYWluUXVldWUoITApfWVtaXRCdWZmZXJlZCgpe3RoaXMucmVjZWl2ZUJ1ZmZlci5mb3JFYWNoKCh0PT50aGlzLmVtaXRFdmVudCh0KSkpLHRoaXMucmVjZWl2ZUJ1ZmZlcj1bXSx0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgodD0+e3RoaXMubm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnModCksdGhpcy5wYWNrZXQodCl9KSksdGhpcy5zZW5kQnVmZmVyPVtdfW9uZGlzY29ubmVjdCgpe3RoaXMuZGVzdHJveSgpLHRoaXMub25jbG9zZShcImlvIHNlcnZlciBkaXNjb25uZWN0XCIpfWRlc3Ryb3koKXt0aGlzLnN1YnMmJih0aGlzLnN1YnMuZm9yRWFjaCgodD0+dCgpKSksdGhpcy5zdWJzPXZvaWQgMCksdGhpcy5pby5fZGVzdHJveSh0aGlzKX1kaXNjb25uZWN0KCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkJiZ0aGlzLnBhY2tldCh7dHlwZTpkdC5ESVNDT05ORUNUfSksdGhpcy5kZXN0cm95KCksdGhpcy5jb25uZWN0ZWQmJnRoaXMub25jbG9zZShcImlvIGNsaWVudCBkaXNjb25uZWN0XCIpLHRoaXN9Y2xvc2UoKXtyZXR1cm4gdGhpcy5kaXNjb25uZWN0KCl9Y29tcHJlc3ModCl7cmV0dXJuIHRoaXMuZmxhZ3MuY29tcHJlc3M9dCx0aGlzfWdldCB2b2xhdGlsZSgpe3JldHVybiB0aGlzLmZsYWdzLnZvbGF0aWxlPSEwLHRoaXN9dGltZW91dCh0KXtyZXR1cm4gdGhpcy5mbGFncy50aW1lb3V0PXQsdGhpc31vbkFueSh0KXtyZXR1cm4gdGhpcy5fYW55TGlzdGVuZXJzPXRoaXMuX2FueUxpc3RlbmVyc3x8W10sdGhpcy5fYW55TGlzdGVuZXJzLnB1c2godCksdGhpc31wcmVwZW5kQW55KHQpe3JldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnM9dGhpcy5fYW55TGlzdGVuZXJzfHxbXSx0aGlzLl9hbnlMaXN0ZW5lcnMudW5zaGlmdCh0KSx0aGlzfW9mZkFueSh0KXtpZighdGhpcy5fYW55TGlzdGVuZXJzKXJldHVybiB0aGlzO2lmKHQpe2NvbnN0IGU9dGhpcy5fYW55TGlzdGVuZXJzO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKWlmKHQ9PT1lW3NdKXJldHVybiBlLnNwbGljZShzLDEpLHRoaXN9ZWxzZSB0aGlzLl9hbnlMaXN0ZW5lcnM9W107cmV0dXJuIHRoaXN9bGlzdGVuZXJzQW55KCl7cmV0dXJuIHRoaXMuX2FueUxpc3RlbmVyc3x8W119b25BbnlPdXRnb2luZyh0KXtyZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM9dGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnN8fFtdLHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnB1c2godCksdGhpc31wcmVwZW5kQW55T3V0Z29pbmcodCl7cmV0dXJuIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzPXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzfHxbXSx0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy51bnNoaWZ0KHQpLHRoaXN9b2ZmQW55T3V0Z29pbmcodCl7aWYoIXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzKXJldHVybiB0aGlzO2lmKHQpe2NvbnN0IGU9dGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspaWYodD09PWVbc10pcmV0dXJuIGUuc3BsaWNlKHMsMSksdGhpc31lbHNlIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzPVtdO3JldHVybiB0aGlzfWxpc3RlbmVyc0FueU91dGdvaW5nKCl7cmV0dXJuIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzfHxbXX1ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyh0KXtpZih0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyYmdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMubGVuZ3RoKXtjb25zdCBlPXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnNsaWNlKCk7Zm9yKGNvbnN0IHMgb2YgZSlzLmFwcGx5KHRoaXMsdC5kYXRhKX19fWZ1bmN0aW9uIHZ0KHQpe3Q9dHx8e30sdGhpcy5tcz10Lm1pbnx8MTAwLHRoaXMubWF4PXQubWF4fHwxZTQsdGhpcy5mYWN0b3I9dC5mYWN0b3J8fDIsdGhpcy5qaXR0ZXI9dC5qaXR0ZXI+MCYmdC5qaXR0ZXI8PTE/dC5qaXR0ZXI6MCx0aGlzLmF0dGVtcHRzPTB9dnQucHJvdG90eXBlLmR1cmF0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5tcypNYXRoLnBvdyh0aGlzLmZhY3Rvcix0aGlzLmF0dGVtcHRzKyspO2lmKHRoaXMuaml0dGVyKXt2YXIgZT1NYXRoLnJhbmRvbSgpLHM9TWF0aC5mbG9vcihlKnRoaXMuaml0dGVyKnQpO3Q9MSZNYXRoLmZsb29yKDEwKmUpP3Qrczp0LXN9cmV0dXJuIDB8TWF0aC5taW4odCx0aGlzLm1heCl9LHZ0LnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYXR0ZW1wdHM9MH0sdnQucHJvdG90eXBlLnNldE1pbj1mdW5jdGlvbih0KXt0aGlzLm1zPXR9LHZ0LnByb3RvdHlwZS5zZXRNYXg9ZnVuY3Rpb24odCl7dGhpcy5tYXg9dH0sdnQucHJvdG90eXBlLnNldEppdHRlcj1mdW5jdGlvbih0KXt0aGlzLmppdHRlcj10fTtjbGFzcyB3dCBleHRlbmRzIEF7Y29uc3RydWN0b3IodCxlKXt2YXIgcztzdXBlcigpLHRoaXMubnNwcz17fSx0aGlzLnN1YnM9W10sdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihlPXQsdD12b2lkIDApLChlPWV8fHt9KS5wYXRoPWUucGF0aHx8XCIvc29ja2V0LmlvXCIsdGhpcy5vcHRzPWUseCh0aGlzLGUpLHRoaXMucmVjb25uZWN0aW9uKCExIT09ZS5yZWNvbm5lY3Rpb24pLHRoaXMucmVjb25uZWN0aW9uQXR0ZW1wdHMoZS5yZWNvbm5lY3Rpb25BdHRlbXB0c3x8MS8wKSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5KGUucmVjb25uZWN0aW9uRGVsYXl8fDFlMyksdGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heChlLnJlY29ubmVjdGlvbkRlbGF5TWF4fHw1ZTMpLHRoaXMucmFuZG9taXphdGlvbkZhY3RvcihudWxsIT09KHM9ZS5yYW5kb21pemF0aW9uRmFjdG9yKSYmdm9pZCAwIT09cz9zOi41KSx0aGlzLmJhY2tvZmY9bmV3IHZ0KHttaW46dGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLG1heDp0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksaml0dGVyOnRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpfSksdGhpcy50aW1lb3V0KG51bGw9PWUudGltZW91dD8yZTQ6ZS50aW1lb3V0KSx0aGlzLl9yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy51cmk9dDtjb25zdCBuPWUucGFyc2VyfHxndDt0aGlzLmVuY29kZXI9bmV3IG4uRW5jb2Rlcix0aGlzLmRlY29kZXI9bmV3IG4uRGVjb2Rlcix0aGlzLl9hdXRvQ29ubmVjdD0hMSE9PWUuYXV0b0Nvbm5lY3QsdGhpcy5fYXV0b0Nvbm5lY3QmJnRoaXMub3BlbigpfXJlY29ubmVjdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVjb25uZWN0aW9uPSEhdCx0fHwodGhpcy5za2lwUmVjb25uZWN0PSEwKSx0aGlzKTp0aGlzLl9yZWNvbm5lY3Rpb259cmVjb25uZWN0aW9uQXR0ZW1wdHModCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM6KHRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzPXQsdGhpcyl9cmVjb25uZWN0aW9uRGVsYXkodCl7dmFyIGU7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5fcmVjb25uZWN0aW9uRGVsYXk6KHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5PXQsbnVsbD09PShlPXRoaXMuYmFja29mZil8fHZvaWQgMD09PWV8fGUuc2V0TWluKHQpLHRoaXMpfXJhbmRvbWl6YXRpb25GYWN0b3IodCl7dmFyIGU7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5fcmFuZG9taXphdGlvbkZhY3RvcjoodGhpcy5fcmFuZG9taXphdGlvbkZhY3Rvcj10LG51bGw9PT0oZT10aGlzLmJhY2tvZmYpfHx2b2lkIDA9PT1lfHxlLnNldEppdHRlcih0KSx0aGlzKX1yZWNvbm5lY3Rpb25EZWxheU1heCh0KXt2YXIgZTtyZXR1cm4gdm9pZCAwPT09dD90aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heDoodGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg9dCxudWxsPT09KGU9dGhpcy5iYWNrb2ZmKXx8dm9pZCAwPT09ZXx8ZS5zZXRNYXgodCksdGhpcyl9dGltZW91dCh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fdGltZW91dD10LHRoaXMpOnRoaXMuX3RpbWVvdXR9bWF5YmVSZWNvbm5lY3RPbk9wZW4oKXshdGhpcy5fcmVjb25uZWN0aW5nJiZ0aGlzLl9yZWNvbm5lY3Rpb24mJjA9PT10aGlzLmJhY2tvZmYuYXR0ZW1wdHMmJnRoaXMucmVjb25uZWN0KCl9b3Blbih0KXtpZih+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlyZXR1cm4gdGhpczt0aGlzLmVuZ2luZT1uZXcgdHQodGhpcy51cmksdGhpcy5vcHRzKTtjb25zdCBlPXRoaXMuZW5naW5lLHM9dGhpczt0aGlzLl9yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuc2tpcFJlY29ubmVjdD0hMTtjb25zdCBuPW10KGUsXCJvcGVuXCIsKGZ1bmN0aW9uKCl7cy5vbm9wZW4oKSx0JiZ0KCl9KSksaT1lPT57dGhpcy5jbGVhbnVwKCksdGhpcy5fcmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIixlKSx0P3QoZSk6dGhpcy5tYXliZVJlY29ubmVjdE9uT3BlbigpfSxyPW10KGUsXCJlcnJvclwiLGkpO2lmKCExIT09dGhpcy5fdGltZW91dCl7Y29uc3QgdD10aGlzLl90aW1lb3V0LHM9dGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57bigpLGkobmV3IEVycm9yKFwidGltZW91dFwiKSksZS5jbG9zZSgpfSksdCk7dGhpcy5vcHRzLmF1dG9VbnJlZiYmcy51bnJlZigpLHRoaXMuc3Vicy5wdXNoKCgoKT0+e3RoaXMuY2xlYXJUaW1lb3V0Rm4ocyl9KSl9cmV0dXJuIHRoaXMuc3Vicy5wdXNoKG4pLHRoaXMuc3Vicy5wdXNoKHIpLHRoaXN9Y29ubmVjdCh0KXtyZXR1cm4gdGhpcy5vcGVuKHQpfW9ub3Blbigpe3RoaXMuY2xlYW51cCgpLHRoaXMuX3JlYWR5U3RhdGU9XCJvcGVuXCIsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJvcGVuXCIpO2NvbnN0IHQ9dGhpcy5lbmdpbmU7dGhpcy5zdWJzLnB1c2gobXQodCxcInBpbmdcIix0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSxtdCh0LFwiZGF0YVwiLHRoaXMub25kYXRhLmJpbmQodGhpcykpLG10KHQsXCJlcnJvclwiLHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSxtdCh0LFwiY2xvc2VcIix0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksbXQodGhpcy5kZWNvZGVyLFwiZGVjb2RlZFwiLHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKX1vbnBpbmcoKXt0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIil9b25kYXRhKHQpe3RyeXt0aGlzLmRlY29kZXIuYWRkKHQpfWNhdGNoKHQpe3RoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsdCl9fW9uZGVjb2RlZCh0KXtUKCgoKT0+e3RoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsdCl9KSx0aGlzLnNldFRpbWVvdXRGbil9b25lcnJvcih0KXt0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsdCl9c29ja2V0KHQsZSl7bGV0IHM9dGhpcy5uc3BzW3RdO3JldHVybiBzP3RoaXMuX2F1dG9Db25uZWN0JiYhcy5hY3RpdmUmJnMuY29ubmVjdCgpOihzPW5ldyBidCh0aGlzLHQsZSksdGhpcy5uc3BzW3RdPXMpLHN9X2Rlc3Ryb3kodCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLm5zcHMpO2Zvcihjb25zdCB0IG9mIGUpe2lmKHRoaXMubnNwc1t0XS5hY3RpdmUpcmV0dXJufXRoaXMuX2Nsb3NlKCl9X3BhY2tldCh0KXtjb25zdCBlPXRoaXMuZW5jb2Rlci5lbmNvZGUodCk7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspdGhpcy5lbmdpbmUud3JpdGUoZVtzXSx0Lm9wdGlvbnMpfWNsZWFudXAoKXt0aGlzLnN1YnMuZm9yRWFjaCgodD0+dCgpKSksdGhpcy5zdWJzLmxlbmd0aD0wLHRoaXMuZGVjb2Rlci5kZXN0cm95KCl9X2Nsb3NlKCl7dGhpcy5za2lwUmVjb25uZWN0PSEwLHRoaXMuX3JlY29ubmVjdGluZz0hMSx0aGlzLm9uY2xvc2UoXCJmb3JjZWQgY2xvc2VcIil9ZGlzY29ubmVjdCgpe3JldHVybiB0aGlzLl9jbG9zZSgpfW9uY2xvc2UodCxlKXt2YXIgczt0aGlzLmNsZWFudXAoKSxudWxsPT09KHM9dGhpcy5lbmdpbmUpfHx2b2lkIDA9PT1zfHxzLmNsb3NlKCksdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5fcmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIix0LGUpLHRoaXMuX3JlY29ubmVjdGlvbiYmIXRoaXMuc2tpcFJlY29ubmVjdCYmdGhpcy5yZWNvbm5lY3QoKX1yZWNvbm5lY3QoKXtpZih0aGlzLl9yZWNvbm5lY3Rpbmd8fHRoaXMuc2tpcFJlY29ubmVjdClyZXR1cm4gdGhpcztjb25zdCB0PXRoaXM7aWYodGhpcy5iYWNrb2ZmLmF0dGVtcHRzPj10aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cyl0aGlzLmJhY2tvZmYucmVzZXQoKSx0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9mYWlsZWRcIiksdGhpcy5fcmVjb25uZWN0aW5nPSExO2Vsc2V7Y29uc3QgZT10aGlzLmJhY2tvZmYuZHVyYXRpb24oKTt0aGlzLl9yZWNvbm5lY3Rpbmc9ITA7Y29uc3Qgcz10aGlzLnNldFRpbWVvdXRGbigoKCk9Pnt0LnNraXBSZWNvbm5lY3R8fCh0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsdC5iYWNrb2ZmLmF0dGVtcHRzKSx0LnNraXBSZWNvbm5lY3R8fHQub3BlbigoZT0+e2U/KHQuX3JlY29ubmVjdGluZz0hMSx0LnJlY29ubmVjdCgpLHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsZSkpOnQub25yZWNvbm5lY3QoKX0pKSl9KSxlKTt0aGlzLm9wdHMuYXV0b1VucmVmJiZzLnVucmVmKCksdGhpcy5zdWJzLnB1c2goKCgpPT57dGhpcy5jbGVhclRpbWVvdXRGbihzKX0pKX19b25yZWNvbm5lY3QoKXtjb25zdCB0PXRoaXMuYmFja29mZi5hdHRlbXB0czt0aGlzLl9yZWNvbm5lY3Rpbmc9ITEsdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RcIix0KX19Y29uc3Qga3Q9e307ZnVuY3Rpb24gRXQodCxlKXtcIm9iamVjdFwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCk7Y29uc3Qgcz1mdW5jdGlvbih0LGU9XCJcIixzKXtsZXQgbj10O3M9c3x8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbixudWxsPT10JiYodD1zLnByb3RvY29sK1wiLy9cIitzLmhvc3QpLFwic3RyaW5nXCI9PXR5cGVvZiB0JiYoXCIvXCI9PT10LmNoYXJBdCgwKSYmKHQ9XCIvXCI9PT10LmNoYXJBdCgxKT9zLnByb3RvY29sK3Q6cy5ob3N0K3QpLC9eKGh0dHBzP3x3c3M/KTpcXC9cXC8vLnRlc3QodCl8fCh0PXZvaWQgMCE9PXM/cy5wcm90b2NvbCtcIi8vXCIrdDpcImh0dHBzOi8vXCIrdCksbj0kKHQpKSxuLnBvcnR8fCgvXihodHRwfHdzKSQvLnRlc3Qobi5wcm90b2NvbCk/bi5wb3J0PVwiODBcIjovXihodHRwfHdzKXMkLy50ZXN0KG4ucHJvdG9jb2wpJiYobi5wb3J0PVwiNDQzXCIpKSxuLnBhdGg9bi5wYXRofHxcIi9cIjtjb25zdCBpPS0xIT09bi5ob3N0LmluZGV4T2YoXCI6XCIpP1wiW1wiK24uaG9zdCtcIl1cIjpuLmhvc3Q7cmV0dXJuIG4uaWQ9bi5wcm90b2NvbCtcIjovL1wiK2krXCI6XCIrbi5wb3J0K2Usbi5ocmVmPW4ucHJvdG9jb2wrXCI6Ly9cIitpKyhzJiZzLnBvcnQ9PT1uLnBvcnQ/XCJcIjpcIjpcIituLnBvcnQpLG59KHQsKGU9ZXx8e30pLnBhdGh8fFwiL3NvY2tldC5pb1wiKSxuPXMuc291cmNlLGk9cy5pZCxyPXMucGF0aCxvPWt0W2ldJiZyIGluIGt0W2ldLm5zcHM7bGV0IGE7cmV0dXJuIGUuZm9yY2VOZXd8fGVbXCJmb3JjZSBuZXcgY29ubmVjdGlvblwiXXx8ITE9PT1lLm11bHRpcGxleHx8bz9hPW5ldyB3dChuLGUpOihrdFtpXXx8KGt0W2ldPW5ldyB3dChuLGUpKSxhPWt0W2ldKSxzLnF1ZXJ5JiYhZS5xdWVyeSYmKGUucXVlcnk9cy5xdWVyeUtleSksYS5zb2NrZXQocy5wYXRoLGUpfU9iamVjdC5hc3NpZ24oRXQse01hbmFnZXI6d3QsU29ja2V0OmJ0LGlvOkV0LGNvbm5lY3Q6RXR9KTtjb25zdCBBdD1cIngtYXBpLXRva2VuXCI7Y2xhc3MgVHQgZXh0ZW5kcyBFdmVudFRhcmdldHtnZXQgY29ubmVjdGVkKCl7dmFyIHQsZTtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnNvY2tldCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY29ubmVjdGVkKSYmdm9pZCAwIT09ZSYmZX1jb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMudG9rZW49dCx0aGlzLnNvY2tldD1udWxsfWNsb3NlKCl7dGhpcy5zb2NrZXQmJnRoaXMuc29ja2V0LmNvbm5lY3RlZCYmKHRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc29ja2V0LmNsb3NlKCkpfWxpc3Rlbih0LGUscyl7dmFyIG4saTtpZih0aGlzLnNvY2tldCYmdGhpcy5zb2NrZXQuY29ubmVjdGVkJiYodGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zb2NrZXQuY2xvc2UoKSksMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkF0IGxlYXN0IG9uZSBldmVudCB0eXBlIG11c3QgYmUgcHJvdmlkZWRcIik7dGhpcy5zb2NrZXQ9RXQoYGh0dHBzOi8vcmVhbHRpbWUuanNvbnBhZC5pbz8ke25ldyBVUkxTZWFyY2hQYXJhbXMoe2V2ZW50VHlwZXM6dC5qb2luKFwiLFwiKSxsaXN0SWRzOm51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLmpvaW4oXCIsXCIpKSYmdm9pZCAwIT09bj9uOlwiXCIsaXRlbUlkczpudWxsIT09KGk9bnVsbD09cz92b2lkIDA6cy5qb2luKFwiLFwiKSkmJnZvaWQgMCE9PWk/aTpcIlwifSl9YCx7ZXh0cmFIZWFkZXJzOntbQXRdOnRoaXMudG9rZW59fSksdGhpcy5zb2NrZXQub24oXCJjb25uZWN0XCIsdGhpcy5oYW5kbGVDb25uZWN0ZWQuYmluZCh0aGlzKSksdGhpcy5zb2NrZXQub24oXCJkaXNjb25uZWN0XCIsdGhpcy5oYW5kbGVEaXNjb25uZWN0ZWQuYmluZCh0aGlzKSksdGhpcy5zb2NrZXQub24oXCJlcnJvclwiLHRoaXMuaGFuZGxlRXJyb3IuYmluZCh0aGlzKSksdGhpcy5zb2NrZXQub24oXCJsaXN0LWNyZWF0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcImxpc3QtY3JlYXRlZFwiKSksdGhpcy5zb2NrZXQub24oXCJsaXN0LXVwZGF0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcImxpc3QtdXBkYXRlZFwiKSksdGhpcy5zb2NrZXQub24oXCJsaXN0LWRlbGV0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcImxpc3QtZGVsZXRlZFwiKSksdGhpcy5zb2NrZXQub24oXCJpdGVtLWNyZWF0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcIml0ZW0tY3JlYXRlZFwiKSksdGhpcy5zb2NrZXQub24oXCJpdGVtLXVwZGF0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcIml0ZW0tdXBkYXRlZFwiKSksdGhpcy5zb2NrZXQub24oXCJpdGVtLXJlc3RvcmVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJpdGVtLXJlc3RvcmVkXCIpKSx0aGlzLnNvY2tldC5vbihcIml0ZW0tZGVsZXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwiaXRlbS1kZWxldGVkXCIpKX1oYW5kbGVDb25uZWN0ZWQoKXt0aGlzLmRpc3BhdGNoRXZlbnQoVHQuY29ubmVjdGVkKX1oYW5kbGVEaXNjb25uZWN0ZWQoKXt0aGlzLmRpc3BhdGNoRXZlbnQoVHQuZGlzY29ubmVjdGVkKX1oYW5kbGVFcnJvcih0KXt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiZXJyb3JcIix7ZGV0YWlsOnR9KSl9aGFuZGxlRXZlbnQodCxuKXtsZXQgaTt0cnl7aT1KU09OLnBhcnNlKG4pfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuaGFuZGxlRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgZGF0YVwiKX1zd2l0Y2godCl7Y2FzZVwibGlzdC1jcmVhdGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBzKFwibGlzdC1jcmVhdGVkXCIsaSkpO2JyZWFrO2Nhc2VcImxpc3QtdXBkYXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgcyhcImxpc3QtdXBkYXRlZFwiLGkpKTticmVhaztjYXNlXCJsaXN0LWRlbGV0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IHMoXCJsaXN0LWRlbGV0ZWRcIixpKSk7YnJlYWs7Y2FzZVwiaXRlbS1jcmVhdGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlKFwiaXRlbS1jcmVhdGVkXCIsaSkpO2JyZWFrO2Nhc2VcIml0ZW0tdXBkYXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZShcIml0ZW0tdXBkYXRlZFwiLGkpKTticmVhaztjYXNlXCJpdGVtLXJlc3RvcmVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlKFwiaXRlbS1yZXN0b3JlZFwiLGkpKTticmVhaztjYXNlXCJpdGVtLWRlbGV0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGUoXCJpdGVtLWRlbGV0ZWRcIixpKSl9fX1UdC5jb25uZWN0ZWQ9bmV3IEV2ZW50KFwiY29ubmVjdGVkXCIpLFR0LmRpc2Nvbm5lY3RlZD1uZXcgRXZlbnQoXCJkaXNjb25uZWN0ZWRcIiksdC5JdGVtRXZlbnQ9ZSx0Lkxpc3RFdmVudD1zLHQuZGVmYXVsdD1UdCxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pKTtcbiIsIiFmdW5jdGlvbih0LGkpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2koZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGkpOmkoKHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5KU09OUGFkPXt9KX0odGhpcywoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7Y2xhc3MgaXtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpLGxhc3RBY3RpdmVBdDp0Lmxhc3RBY3RpdmVBdD9uZXcgRGF0ZSh0Lmxhc3RBY3RpdmVBdCk6bnVsbH0pfX1jbGFzcyBle2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCksdXNlcjp0LnVzZXI/bmV3IGkodC51c2VyKTp2b2lkIDB9KX19Y2xhc3Mgbntjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhc3RMb2dpbkF0PW51bGwsT2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KSx1c2VyOnQudXNlcj9uZXcgaSh0LnVzZXIpOnZvaWQgMCxsYXN0TG9naW5BdDp0Lmxhc3RMb2dpbkF0P25ldyBEYXRlKHQubGFzdExvZ2luQXQpOm51bGx9KX19Y2xhc3Mgb3tjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpfSl9fWNsYXNzIHN7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KX0pfX1jbGFzcyBke2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCksdXNlcjp0LnVzZXI/bmV3IGkodC51c2VyKTp2b2lkIDB9KX19ZnVuY3Rpb24gYSh0LC4uLmkpe3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKCgoW3RdKT0+IWkuaW5jbHVkZXModCkpKSl9Y29uc3QgbD1cIngtYXBpLXRva2VuXCI7YXN5bmMgZnVuY3Rpb24gcih0LGksZSxuLG8scyxkKXtjb25zdCBhPW4/bmV3IFVSTFNlYXJjaFBhcmFtcyh7Li4uT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKG4pLm1hcCgoKFt0LGldKT0+W3QsaS50b1N0cmluZygpXSkpKX0pOlwiXCIscj17W2xdOnQsXCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn07cyYmKHJbXCJ4LWlkZW50aXR5LWdyb3VwXCJdPXMpLGQmJihyW1wieC1pZGVudGl0eS10b2tlblwiXT1kKTtjb25zdCB1PWF3YWl0IGZldGNoKGBodHRwczovL2FwaS5qc29ucGFkLmlvJHtlfT8ke2F9YCx7bWV0aG9kOmksaGVhZGVyczpyLGJvZHk6bz9KU09OLnN0cmluZ2lmeShvKTp2b2lkIDB9KTtpZighdS5vayl0aHJvdyBuZXcgRXJyb3IoYXdhaXQgdS50ZXh0KCkpO3JldHVybiAyMDQ9PT11LnN0YXR1cz9udWxsOmF3YWl0IHUuanNvbigpfXQuRXZlbnQ9ZSx0LkluZGV4PW8sdC5JdGVtPXMsdC5MaXN0PWQsdC5Vc2VyPWksdC5kZWZhdWx0PWNsYXNze2NvbnN0cnVjdG9yKHQsaSxlKXt0aGlzLnRva2VuPXQsdGhpcy5pZGVudGl0eUdyb3VwPWksdGhpcy5pZGVudGl0eVRva2VuPWV9YXN5bmMgY3JlYXRlTGlzdCh0KXtyZXR1cm4gbmV3IGQoYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLFwiL2xpc3RzXCIsdm9pZCAwLHQpKX1hc3luYyBmZXRjaExpc3RzKHQpe2NvbnN0IGk9YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsXCIvbGlzdHNcIix0KTtyZXR1cm57Li4uaSxkYXRhOmkuZGF0YS5tYXAoKHQ9Pm5ldyBkKHQpKSl9fWFzeW5jIGZldGNoTGlzdCh0KXtyZXR1cm4gbmV3IGQoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9YCkpfWFzeW5jIHNlYXJjaExpc3QodCxpLGUpe3JldHVybihhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vc2VhcmNoYCx7cXVlcnk6aSwuLi5lfSkpLm1hcCgodD0+XCJpdGVtXCJpbiB0P3tyZWxldmFuY2U6dC5yZWxldmFuY2UsaXRlbTpuZXcgcyh0Lml0ZW0pfTp0KSl9YXN5bmMgZmV0Y2hMaXN0U3RhdHModCxpKXtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L3N0YXRzYCxpKX1hc3luYyBmZXRjaExpc3RFdmVudHModCxpKXtjb25zdCBuPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9ldmVudHNgLGkpO3JldHVybnsuLi5uLGRhdGE6bi5kYXRhLm1hcCgodD0+bmV3IGUodCkpKX19YXN5bmMgZmV0Y2hMaXN0RXZlbnQodCxpKXtyZXR1cm4gbmV3IGUoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2V2ZW50cy8ke2l9YCkpfWFzeW5jIHVwZGF0ZUxpc3QodCxpKXtyZXR1cm4gbmV3IGQoYXdhaXQgcih0aGlzLnRva2VuLFwiUFVUXCIsYC9saXN0cy8ke3R9YCx2b2lkIDAsaSkpfWFzeW5jIGRlbGV0ZUxpc3QodCl7YXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsYC9saXN0cy8ke3R9YCl9YXN5bmMgY3JlYXRlSXRlbSh0LGksZSxuKXt2YXIgbyxkO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsYC9saXN0cy8ke3R9L2l0ZW1zYCxlLGksKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PW4/dm9pZCAwOm4uZ3JvdXApJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1uP3ZvaWQgMDpuLnRva2VuKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGZldGNoSXRlbXModCxpLGUpe3ZhciBuLG87Y29uc3QgZD1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXNgLGksdm9pZCAwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLmdyb3VwKSYmdm9pZCAwIT09bj9uOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09ZT92b2lkIDA6ZS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pO3JldHVybnsuLi5kLGRhdGE6ZC5kYXRhLm1hcCgodD0+bmV3IHModCkpKX19YXN5bmMgZmV0Y2hJdGVtc0RhdGEodCxpLGUpe3ZhciBuLG87Y29uc3Qgcz0obnVsbD09aT92b2lkIDA6aS5wb2ludGVyKT9gLyR7aS5wb2ludGVyfWA6XCJcIjtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zL2RhdGEke3N9YCxpP2EoaSxcInBvaW50ZXJcIik6dm9pZCAwLHZvaWQgMCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5ncm91cCkmJnZvaWQgMCE9PW4/bjp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWU/dm9pZCAwOmUudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKX1hc3luYyBmZXRjaEl0ZW0odCxpLGUsbil7dmFyIG8sZDtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX1gLGUsdm9pZCAwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1uP3ZvaWQgMDpuLmdyb3VwKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bj92b2lkIDA6bi50b2tlbikmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBmZXRjaEl0ZW1EYXRhKHQsaSxlLG4pe3ZhciBvLHM7Y29uc3QgZD0obnVsbD09ZT92b2lkIDA6ZS5wb2ludGVyKT9gLyR7ZS5wb2ludGVyfWA6XCJcIjtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZGF0YSR7ZH1gLGU/YShlLFwicG9pbnRlclwiKTp2b2lkIDAsdm9pZCAwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1uP3ZvaWQgMDpuLmdyb3VwKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KHM9bnVsbD09bj92b2lkIDA6bi50b2tlbikmJnZvaWQgMCE9PXM/czp0aGlzLmlkZW50aXR5VG9rZW4pfWFzeW5jIGZldGNoSXRlbVN0YXRzKHQsaSxlKXtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vc3RhdHNgLGUpfWFzeW5jIGZldGNoSXRlbUV2ZW50cyh0LGksbil7Y29uc3Qgbz1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9ldmVudHNgLG4pO3JldHVybnsuLi5vLGRhdGE6by5kYXRhLm1hcCgodD0+bmV3IGUodCkpKX19YXN5bmMgZmV0Y2hJdGVtRXZlbnQodCxpLG4pe3JldHVybiBuZXcgZShhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9ldmVudHMvJHtufWApKX1hc3luYyB1cGRhdGVJdGVtKHQsaSxlLG4sbyl7dmFyIGQsYTtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiUFVUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX1gLG4sZSwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bz92b2lkIDA6by5ncm91cCkmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShhPW51bGw9PW8/dm9pZCAwOm8udG9rZW4pJiZ2b2lkIDAhPT1hP2E6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgdXBkYXRlSXRlbURhdGEodCxpLGUsbixvKXt2YXIgZCxhO2NvbnN0IGw9KG51bGw9PW4/dm9pZCAwOm4ucG9pbnRlcik/YC8ke24ucG9pbnRlcn1gOlwiXCI7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9kYXRhJHtsfWAsbixlLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1vP3ZvaWQgMDpvLmdyb3VwKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGE9bnVsbD09bz92b2lkIDA6by50b2tlbikmJnZvaWQgMCE9PWE/YTp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyByZXBsYWNlSXRlbURhdGEodCxpLGUsbixvKXt2YXIgZCxhO2NvbnN0IGw9KG51bGw9PW4/dm9pZCAwOm4ucG9pbnRlcik/YC8ke24ucG9pbnRlcn1gOlwiXCI7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIlBVVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2RhdGEke2x9YCxuLGUsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW8/dm9pZCAwOm8uZ3JvdXApJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oYT1udWxsPT1vP3ZvaWQgMDpvLnRva2VuKSYmdm9pZCAwIT09YT9hOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIHBhdGNoSXRlbURhdGEodCxpLGUsbixvKXt2YXIgZCxhO2NvbnN0IGw9KG51bGw9PW4/dm9pZCAwOm4ucG9pbnRlcik/YC8ke24ucG9pbnRlcn1gOlwiXCI7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIlBBVENIXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZGF0YSR7bH1gLG4sZSwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bz92b2lkIDA6by5ncm91cCkmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShhPW51bGw9PW8/dm9pZCAwOm8udG9rZW4pJiZ2b2lkIDAhPT1hP2E6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgZGVsZXRlSXRlbSh0LGksZSl7dmFyIG4sbzthd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfWAsdm9pZCAwLHZvaWQgMCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5ncm91cCkmJnZvaWQgMCE9PW4/bjp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWU/dm9pZCAwOmUudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKX1hc3luYyBkZWxldGVJdGVtRGF0YSh0LGksZSxuKXt2YXIgbyxkO2NvbnN0IGE9KG51bGw9PWU/dm9pZCAwOmUucG9pbnRlcik/YC8ke2UucG9pbnRlcn1gOlwiXCI7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2RhdGEke2F9YCxlLHZvaWQgMCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09bj92b2lkIDA6bi5ncm91cCkmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW4/dm9pZCAwOm4udG9rZW4pJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgY3JlYXRlSW5kZXgodCxpKXtyZXR1cm4gbmV3IG8oYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzYCx2b2lkIDAsaSkpfWFzeW5jIGZldGNoSW5kZXhlcyh0LGkpe2NvbnN0IGU9YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXNgLGkpO3JldHVybnsuLi5lLGRhdGE6ZS5kYXRhLm1hcCgodD0+bmV3IG8odCkpKX19YXN5bmMgZmV0Y2hJbmRleCh0LGkpe3JldHVybiBuZXcgbyhhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9YCkpfWFzeW5jIGZldGNoSW5kZXhTdGF0cyh0LGksZSl7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX0vc3RhdHNgLGUpfWFzeW5jIGZldGNoSW5kZXhFdmVudHModCxpLG4pe2NvbnN0IG89YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfS9ldmVudHNgLG4pO3JldHVybnsuLi5vLGRhdGE6by5kYXRhLm1hcCgodD0+bmV3IGUodCkpKX19YXN5bmMgZmV0Y2hJbmRleEV2ZW50KHQsaSxuKXtyZXR1cm4gbmV3IGUoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfS9ldmVudHMvJHtufWApKX1hc3luYyB1cGRhdGVJbmRleCh0LGksZSl7cmV0dXJuIG5ldyBvKGF3YWl0IHIodGhpcy50b2tlbixcIlBBVENIXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfWAsdm9pZCAwLGUpKX1hc3luYyBkZWxldGVJbmRleCh0LGkpe2F3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX1gKX1hc3luYyBjcmVhdGVJZGVudGl0eSh0KXtyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLFwiL2lkZW50aXRpZXNcIix2b2lkIDAsdCkpfWFzeW5jIGZldGNoSWRlbnRpdGllcyh0KXtjb25zdCBpPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLFwiL2lkZW50aXRpZXNcIix0KTtyZXR1cm57Li4uaSxkYXRhOmkuZGF0YS5tYXAoKHQ9Pm5ldyBuKHQpKSl9fWFzeW5jIGZldGNoSWRlbnRpdHkodCl7cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvaWRlbnRpdGllcy8ke3R9YCkpfWFzeW5jIGZldGNoSWRlbnRpdHlTdGF0cyh0LGkpe3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2lkZW50aXRpZXMvJHt0fS9zdGF0c2AsaSl9YXN5bmMgZmV0Y2hJZGVudGl0eUV2ZW50cyh0LGkpe2NvbnN0IG49YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9pZGVudGl0aWVzLyR7dH0vZXZlbnRzYCxpKTtyZXR1cm57Li4ubixkYXRhOm4uZGF0YS5tYXAoKHQ9Pm5ldyBlKHQpKSl9fWFzeW5jIGZldGNoSWRlbnRpdHlFdmVudCh0LGkpe3JldHVybiBuZXcgZShhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2lkZW50aXRpZXMvJHt0fS9ldmVudHMvJHtpfWApKX1hc3luYyB1cGRhdGVJZGVudGl0eSh0LGkpe3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJQVVRcIixgL2lkZW50aXRpZXMvJHt0fWAsdm9pZCAwLGkpKX1hc3luYyBkZWxldGVJZGVudGl0eSh0KXthd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixgL2lkZW50aXRpZXMvJHt0fWApfWFzeW5jIHJlZ2lzdGVySWRlbnRpdHkodCxpKXt2YXIgZSxvO3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsXCIvaWRlbnRpdGllcy9yZWdpc3RlclwiLHZvaWQgMCx0LChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT1pP3ZvaWQgMDppLmdyb3VwKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09aT92b2lkIDA6aS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBsb2dpbklkZW50aXR5KHQsaSl7dmFyIGUsbztjb25zdCBzPWF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixcIi9pZGVudGl0aWVzL2xvZ2luXCIsdm9pZCAwLHQsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PWk/dm9pZCAwOmkuZ3JvdXApJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1pP3ZvaWQgMDppLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbik7cmV0dXJuIHRoaXMuaWRlbnRpdHlHcm91cD1zLmdyb3VwfHx2b2lkIDAsdGhpcy5pZGVudGl0eVRva2VuPXMudG9rZW58fHZvaWQgMCxbbmV3IG4oYShzLFwidG9rZW5cIikpLHRoaXMuaWRlbnRpdHlUb2tlbl19YXN5bmMgbG9nb3V0SWRlbnRpdHkodCl7dmFyIGksZTthd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsXCIvaWRlbnRpdGllcy9sb2dvdXRcIix2b2lkIDAsdm9pZCAwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0Lmdyb3VwKSYmdm9pZCAwIT09aT9pOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC50b2tlbikmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5VG9rZW4pLHRoaXMuaWRlbnRpdHlHcm91cD12b2lkIDAsdGhpcy5pZGVudGl0eVRva2VuPXZvaWQgMH1hc3luYyBmZXRjaFNlbGZJZGVudGl0eSh0KXt2YXIgaSxlO3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixcIi9pZGVudGl0aWVzL3NlbGZcIix2b2lkIDAsdm9pZCAwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0Lmdyb3VwKSYmdm9pZCAwIT09aT9pOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC50b2tlbikmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyB1cGRhdGVTZWxmSWRlbnRpdHkodCxpKXt2YXIgZSxvO3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJQVVRcIixcIi9pZGVudGl0aWVzL3NlbGZcIix2b2lkIDAsdCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09aT92b2lkIDA6aS5ncm91cCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWk/dm9pZCAwOmkudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgZGVsZXRlU2VsZklkZW50aXR5KHQpe3ZhciBpLGU7YXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsXCIvaWRlbnRpdGllcy9zZWxmXCIsdm9pZCAwLHZvaWQgMCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC5ncm91cCkmJnZvaWQgMCE9PWk/aTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQudG9rZW4pJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eVRva2VuKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSkpO1xuIiwiaW1wb3J0IEpTT05QYWRSZWFsdGltZSwge1xuICBJdGVtRXZlbnQsXG59IGZyb20gJ0BiYXNlbWVudHVuaXZlcnNlL2pzb25wYWQtcmVhbHRpbWUtc2RrJztcbmltcG9ydCBKU09OUGFkIGZyb20gJ0BiYXNlbWVudHVuaXZlcnNlL2pzb25wYWQtc2RrJztcbmltcG9ydCB7XG4gIEdhbWVGaW5pc2hlZEV2ZW50LFxuICBHYW1lU3RhcnRlZEV2ZW50LFxuICBQbGF5ZXJKb2luZWRFdmVudCxcbiAgUGxheWVyTW92ZWRFdmVudCxcbn0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgQ2xpZW50T3B0aW9ucywgR2FtZSwgR2FtZVN0YXR1cywgU2VyaWFsaXNlZEdhbWUgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIENsaWVudCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgZGVmYXVsdE9wdGlvbnM6IENsaWVudE9wdGlvbnMgPSB7XG4gICAganNvbnBhZENsaWVudFRva2VuOiAnJyxcbiAgICBqc29ucGFkR2FtZXNMaXN0OiAnJyxcbiAgICBhc29iaVNlcnZlclVybDogJycsXG4gIH07XG5cbiAgcHVibGljIG9wdGlvbnM6IENsaWVudE9wdGlvbnM7XG4gIHB1YmxpYyBqc29ucGFkOiBKU09OUGFkO1xuICBwdWJsaWMganNvbnBhZFJlYWx0aW1lOiBKU09OUGFkUmVhbHRpbWU7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKG9wdGlvbnM6IFBhcnRpYWw8Q2xpZW50T3B0aW9ucz4pIHtcbiAgICBzdXBlcigpO1xuXG4gICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgQ2xpZW50LmRlZmF1bHRPcHRpb25zLCBvcHRpb25zID8/IHt9KTtcblxuICAgIC8vIEluaXRpYWxpc2UganNvbnBhZCBTREtcbiAgICB0aGlzLmpzb25wYWQgPSBuZXcgSlNPTlBhZCh0aGlzLm9wdGlvbnMuanNvbnBhZENsaWVudFRva2VuKTtcblxuICAgIC8vIEluaXRpYWxpc2UganNvbnBhZCByZWFsdGltZSBTREtcbiAgICB0aGlzLmpzb25wYWRSZWFsdGltZSA9IG5ldyBKU09OUGFkUmVhbHRpbWUodGhpcy5vcHRpb25zLmpzb25wYWRDbGllbnRUb2tlbik7XG4gICAgdGhpcy5qc29ucGFkUmVhbHRpbWUubGlzdGVuKFxuICAgICAgWydpdGVtLWNyZWF0ZWQnLCAnaXRlbS11cGRhdGVkJ10sXG4gICAgICBbdGhpcy5vcHRpb25zLmpzb25wYWRHYW1lc0xpc3RdLFxuICAgICAgWycqJ11cbiAgICApO1xuXG4gICAgLy8gQXR0YWNoIGpzb25wYWQgcmVhbHRpbWUgZXZlbnQgaGFuZGxlcnNcbiAgICB0aGlzLmpzb25wYWRSZWFsdGltZS5hZGRFdmVudExpc3RlbmVyKCdpdGVtLWNyZWF0ZWQnLCAoZTogSXRlbUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBnYW1lID0ge1xuICAgICAgICBpZDogZS5kZXRhaWwubW9kZWwuaWQsXG4gICAgICAgIC4uLmUuZGV0YWlsLm1vZGVsLmRhdGEsXG4gICAgICB9IGFzIEdhbWU7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdhbWVTdGFydGVkRXZlbnQoZ2FtZSkpO1xuICAgIH0pO1xuICAgIHRoaXMuanNvbnBhZFJlYWx0aW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2l0ZW0tdXBkYXRlZCcsIChlOiBJdGVtRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGdhbWUgPSB7XG4gICAgICAgIGlkOiBlLmRldGFpbC5tb2RlbC5pZCxcbiAgICAgICAgLi4uZS5kZXRhaWwubW9kZWwuZGF0YSxcbiAgICAgIH0gYXMgR2FtZTtcbiAgICAgIHN3aXRjaCAoZ2FtZS5sYXN0RXZlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2dhbWUtc3RhcnRlZCc6XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgJ3BsYXllci1qb2luZWQnOlxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUGxheWVySm9pbmVkRXZlbnQoZ2FtZSkpO1xuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjYXNlICdwbGF5ZXItbW92ZWQnOlxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgUGxheWVyTW92ZWRFdmVudChnYW1lKSk7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgJ2dhbWUtZmluaXNoZWQnOlxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR2FtZUZpbmlzaGVkRXZlbnQoZ2FtZSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZ2FtZXNcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaEdhbWVzKHBhcmFtZXRlcnM6IHtcbiAgICBwYWdlOiBudW1iZXI7XG4gICAgbGltaXQ6IG51bWJlcjtcbiAgICBvcmRlcjogJ3N0YXR1cycgfCAnc3RhcnRlZCcgfCAnZmluaXNoZWQnO1xuICAgIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYyc7XG4gICAgc3RhdHVzOiBHYW1lU3RhdHVzO1xuICB9KTogUHJvbWlzZTx7XG4gICAgcGFnZTogbnVtYmVyO1xuICAgIGxpbWl0OiBudW1iZXI7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBnYW1lczogR2FtZVtdO1xuICB9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmpzb25wYWQuZmV0Y2hJdGVtcyhcbiAgICAgIHRoaXMub3B0aW9ucy5qc29ucGFkR2FtZXNMaXN0LFxuICAgICAge1xuICAgICAgICAuLi5wYXJhbWV0ZXJzLFxuICAgICAgICBpbmNsdWRlRGF0YTogdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2U6IHJlc3BvbnNlLnBhZ2UsXG4gICAgICBsaW1pdDogcmVzcG9uc2UubGltaXQsXG4gICAgICB0b3RhbDogcmVzcG9uc2UudG90YWwsXG4gICAgICBnYW1lczogcmVzcG9uc2UuZGF0YS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgLi4uaXRlbS5kYXRhLFxuICAgICAgICBzdGFydGVkQXQ6IGl0ZW0uZGF0YS5zdGFydGVkQXQgPyBuZXcgRGF0ZShpdGVtLmRhdGEuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICAgIGZpbmlzaGVkQXQ6IGl0ZW0uZGF0YS5maW5pc2hlZEF0XG4gICAgICAgICAgPyBuZXcgRGF0ZShpdGVtLmRhdGEuZmluaXNoZWRBdClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9KSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaEdhbWUoZ2FtZUlkOiBzdHJpbmcpOiBQcm9taXNlPEdhbWUgfCBudWxsPiB7XG4gICAgY29uc3QgZ2FtZSA9IGF3YWl0IHRoaXMuanNvbnBhZC5mZXRjaEl0ZW1EYXRhPFNlcmlhbGlzZWRHYW1lPihcbiAgICAgIHRoaXMub3B0aW9ucy5qc29ucGFkR2FtZXNMaXN0LFxuICAgICAgZ2FtZUlkXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogZ2FtZUlkLFxuICAgICAgLi4uZ2FtZSxcbiAgICAgIHN0YXJ0ZWRBdDogZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShnYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgZmluaXNoZWRBdDogZ2FtZS5maW5pc2hlZEF0ID8gbmV3IERhdGUoZ2FtZS5maW5pc2hlZEF0KSA6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBhIG5ldyBnYW1lIHdpdGggdGhlIHNwZWNpZmllZCBwbGF5ZXIgYXMgUGxheWVyIDFcbiAgICovXG4gIHB1YmxpYyBhc3luYyBzdGFydEdhbWUoXG4gICAgcGxheWVyTmFtZTogc3RyaW5nLFxuICAgIHBsYXllckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIGdhbWVEYXRhPzogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBtaW5QbGF5ZXJzPzogbnVtYmVyLFxuICAgIG1heFBsYXllcnM/OiBudW1iZXJcbiAgKTogUHJvbWlzZTxbR2FtZSwgc3RyaW5nXT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5vcHRpb25zLmFzb2JpU2VydmVyVXJsfS9zdGFydC1nYW1lYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwbGF5ZXJOYW1lLFxuICAgICAgICBwbGF5ZXJEYXRhLFxuICAgICAgICBnYW1lRGF0YSxcbiAgICAgICAgbWluUGxheWVycyxcbiAgICAgICAgbWF4UGxheWVycyxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIC4uLmpzb24uZ2FtZSxcbiAgICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdFxuICAgICAgICAgID8gbmV3IERhdGUoanNvbi5nYW1lLmZpbmlzaGVkQXQpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGpzb24udG9rZW4sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIGFuIGV4aXN0aW5nIGdhbWUgYXMgUGxheWVyIDIrXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgam9pbkdhbWUoXG4gICAgZ2FtZUlkOiBzdHJpbmcsXG4gICAgcGxheWVyTmFtZTogc3RyaW5nLFxuICAgIHBsYXllckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICk6IFByb21pc2U8W0dhbWUsIHN0cmluZ10+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYCR7dGhpcy5vcHRpb25zLmFzb2JpU2VydmVyVXJsfS9qb2luLWdhbWUvJHtnYW1lSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcGxheWVyTmFtZSxcbiAgICAgICAgICBwbGF5ZXJEYXRhLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIC4uLmpzb24uZ2FtZSxcbiAgICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdFxuICAgICAgICAgID8gbmV3IERhdGUoanNvbi5nYW1lLmZpbmlzaGVkQXQpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGpzb24udG9rZW4sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbW92ZSBpbiBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBtb3ZlKFxuICAgIGdhbWVJZDogc3RyaW5nLFxuICAgIHRva2VuOiBzdHJpbmcsXG4gICAgbW92ZURhdGE6IGFueVxuICApOiBQcm9taXNlPEdhbWU+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYCR7dGhpcy5vcHRpb25zLmFzb2JpU2VydmVyVXJsfS9tb3ZlLyR7Z2FtZUlkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vdmVEYXRhLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5qc29uLmdhbWUsXG4gICAgICBzdGFydGVkQXQ6IGpzb24uZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdCA/IG5ldyBEYXRlKGpzb24uZ2FtZS5maW5pc2hlZEF0KSA6IG51bGwsXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEdhbWVGaW5pc2hlZEV2ZW50IGV4dGVuZHMgQ3VzdG9tRXZlbnQ8YW55PiB7XG4gIGNvbnN0cnVjdG9yKGRldGFpbDogR2FtZSkge1xuICAgIHN1cGVyKCdnYW1lLWZpbmlzaGVkJywgeyBkZXRhaWwgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lU3RhcnRlZEV2ZW50IGV4dGVuZHMgQ3VzdG9tRXZlbnQ8YW55PiB7XG4gIGNvbnN0cnVjdG9yKGRldGFpbDogR2FtZSkge1xuICAgIHN1cGVyKCdnYW1lLXN0YXJ0ZWQnLCB7IGRldGFpbCB9KTtcbiAgfVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9nYW1lLWZpbmlzaGVkJztcbmV4cG9ydCAqIGZyb20gJy4vZ2FtZS1zdGFydGVkJztcbmV4cG9ydCAqIGZyb20gJy4vcGxheWVyLWpvaW5lZCc7XG5leHBvcnQgKiBmcm9tICcuL3BsYXllci1tb3ZlZCc7XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUGxheWVySm9pbmVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ3BsYXllci1qb2luZWQnLCB7IGRldGFpbCB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFBsYXllck1vdmVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ3BsYXllci1tb3ZlZCcsIHsgZGV0YWlsIH0pO1xuICB9XG59XG4iLCJleHBvcnQgeyBDbGllbnQgYXMgQXNvYmlDbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVzJztcbiIsImV4cG9ydCB0eXBlIENsaWVudE9wdGlvbnMgPSB7XG4gIGpzb25wYWRDbGllbnRUb2tlbjogc3RyaW5nO1xuICBqc29ucGFkR2FtZXNMaXN0OiBzdHJpbmc7XG4gIGFzb2JpU2VydmVyVXJsOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZW51bSBHYW1lU3RhdHVzIHtcbiAgV0FJVElOR19UT19TVEFSVCA9ICd3YWl0aW5nX3RvX3N0YXJ0JyxcbiAgU1RBUlRFRCA9ICdzdGFydGVkJyxcbiAgQ09NUExFVEVEID0gJ2NvbXBsZXRlZCcsXG59XG5cbmV4cG9ydCBlbnVtIFBsYXllclN0YXR1cyB7XG4gIFdBSVRJTkdfRk9SX1RVUk4gPSAnd2FpdGluZ19mb3JfdHVybicsXG4gIFRBS0lOR19UVVJOID0gJ3Rha2luZ190dXJuJyxcbiAgRklOSVNIRUQgPSAnZmluaXNoZWQnLFxufVxuXG5leHBvcnQgdHlwZSBQbGF5ZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgc3RhdHVzOiBQbGF5ZXJTdGF0dXM7XG4gIHN0YXRlPzogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgTW92ZSA9IHtcbiAgcGxheWVySWQ6IHN0cmluZztcbiAgZGF0YTogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgR2FtZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhdHVzOiBHYW1lU3RhdHVzO1xuICBzdGFydGVkQXQ6IERhdGUgfCBudWxsO1xuICBmaW5pc2hlZEF0OiBEYXRlIHwgbnVsbDtcbiAgbGFzdEV2ZW50VHlwZTpcbiAgICB8ICdnYW1lLXN0YXJ0ZWQnXG4gICAgfCAncGxheWVyLWpvaW5lZCdcbiAgICB8ICdwbGF5ZXItbW92ZWQnXG4gICAgfCAnZ2FtZS1maW5pc2hlZCc7XG4gIGxhc3RFdmVudERhdGE6IGFueTtcbiAgbWluUGxheWVyczogbnVtYmVyO1xuICBtYXhQbGF5ZXJzOiBudW1iZXI7XG4gIHBsYXllcnM6IFBsYXllcltdO1xuICBtb3ZlczogTW92ZVtdO1xuICByb3VuZDogbnVtYmVyO1xuICBzdGF0ZTogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgU2VyaWFsaXNlZEdhbWUgPSBPbWl0PEdhbWUsICdpZCcgfCAnc3RhcnRlZEF0JyB8ICdmaW5pc2hlZEF0Jz4gJiB7XG4gIHN0YXJ0ZWRBdDogc3RyaW5nO1xuICBmaW5pc2hlZEF0OiBzdHJpbmc7XG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9