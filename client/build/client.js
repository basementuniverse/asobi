(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,e){ true?e(exports):0}(this,(function(t){"use strict";class e extends CustomEvent{constructor(t,e){if(e.model.data&&"string"==typeof e.model.data)try{e.model.data=JSON.parse(e.model.data)}catch(t){}super(t,{detail:e})}}class s extends CustomEvent{constructor(t,e){super(t,{detail:e})}}const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);Object.keys(n).forEach((t=>{i[n[t]]=t}));const r={type:"error",data:"parser error"},o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,h=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,c=({type:t,data:e},s,i)=>o&&e instanceof Blob?s?i(e):p(e,i):a&&(e instanceof ArrayBuffer||h(e))?s?i(e):p(new Blob([e]),i):i(n[t]+(e||"")),p=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function u(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let d;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)f[l.charCodeAt(t)]=t;const y="function"==typeof ArrayBuffer,g=(t,e)=>{if("string"!=typeof t)return{type:"message",data:_(t,e)};const s=t.charAt(0);if("b"===s)return{type:"message",data:m(t.substring(1),e)};return i[s]?t.length>1?{type:i[s],data:t.substring(1)}:{type:i[s]}:r},m=(t,e)=>{if(y){const s=(t=>{let e,s,n,i,r,o=.75*t.length,a=t.length,h=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const c=new ArrayBuffer(o),p=new Uint8Array(c);for(e=0;e<a;e+=4)s=f[t.charCodeAt(e)],n=f[t.charCodeAt(e+1)],i=f[t.charCodeAt(e+2)],r=f[t.charCodeAt(e+3)],p[h++]=s<<2|n>>4,p[h++]=(15&n)<<4|i>>2,p[h++]=(3&i)<<6|63&r;return c})(t);return _(s,e)}return{base64:!0,data:t}},_=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,b=String.fromCharCode(30);function v(){return new TransformStream({transform(t,e){!function(t,e){o&&t.data instanceof Blob?t.data.arrayBuffer().then(u).then(e):a&&(t.data instanceof ArrayBuffer||h(t.data))?e(u(t.data)):c(t,!1,(t=>{d||(d=new TextEncoder),e(d.encode(t))}))}(t,(s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,n)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(n))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(s)}))}})}let w;function k(t){return t.reduce(((t,e)=>t+e.length),0)}function E(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)s[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function A(t){if(t)return function(t){for(var e in A.prototype)t[e]=A.prototype[e];return t}(t)}A.prototype.on=A.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},A.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((s=n[i])===e||s.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},A.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var i=(s=s.slice(0)).length;n<i;++n)s[n].apply(this,e)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},A.prototype.hasListeners=function(t){return!!this.listeners(t).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),O="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function R(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const C=O.setTimeout,B=O.clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=C.bind(O),t.clearTimeoutFn=B.bind(O)):(t.setTimeoutFn=O.setTimeout.bind(O),t.clearTimeoutFn=O.clearTimeout.bind(O))}function S(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class N extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class L extends A{constructor(t){super(),this.writable=!1,x(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,s){return super.emitReserved("error",new N(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=g(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}(t);return e.length?"?"+e:""}}class q extends L{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(b),n=[];for(let t=0;t<s.length;t++){const i=g(s[t],e);if(n.push(i),"error"===i.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach(((t,r)=>{c(t,!1,(t=>{n[r]=t,++i===s&&e(n.join(b))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let P=!1;try{P="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const j=P;function D(){}class U extends q{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class I extends A{constructor(t,e,s){super(),this.createRequest=t,x(this,s),this._opts=s,this._method=s.method||"GET",this._uri=e,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var t;const e=R(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(e);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{s.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof s.status?s.status:0)}),0))},s.send(this._data)}catch(t){return void this.setTimeoutFn((()=>{this._onError(t)}),0)}"undefined"!=typeof document&&(this._index=I.requestsCount++,I.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=D,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete I.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(I.requestsCount=0,I.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",F);else if("function"==typeof addEventListener){addEventListener("onpagehide"in O?"pagehide":"unload",F,!1)}function F(){for(let t in I.requests)I.requests.hasOwnProperty(t)&&I.requests[t].abort()}const M=function(){const t=V({xdomain:!1});return t&&null!==t.responseType}();function V(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||j))return new XMLHttpRequest}catch(t){}if(!e)try{return new(O[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}const H="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class K extends L{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,s=H?{}:R(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,s)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;c(s,this.supportsBinary,(t=>{try{this.doWrite(s,t)}catch(t){}n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const W=O.WebSocket||O.MozWebSocket;const Y={websocket:class extends K{createSocket(t,e,s){return H?new W(t,e,s):e?new W(t,e):new W(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends L{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){w||(w=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,h){for(s.push(a);;){if(0===n){if(k(s)<1)break;const t=E(s,1);o=!(128&~t[0]),i=127&t[0],n=i<126?3:126===i?1:2}else if(1===n){if(k(s)<2)break;const t=E(s,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),n=3}else if(2===n){if(k(s)<8)break;const t=E(s,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){h.enqueue(r);break}i=o*Math.pow(2,32)+e.getUint32(4),n=3}else{if(k(s)<i)break;const t=E(s,i);h.enqueue(g(o?t:w.decode(t),e)),n=0}if(0===i||i>t){h.enqueue(r);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),n=v();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{s.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;this._writer.write(s).then((()=>{n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends U{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=M&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new I(V,this.uri(),t)}}},z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=z.exec(t||""),r={},o=14;for(;o--;)r[J[o]]=i[o]||"";return-1!=s&&-1!=n&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,r.path),r.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,r.query),r}const Q="function"==typeof addEventListener&&"function"==typeof removeEventListener,X=[];Q&&addEventListener("offline",(()=>{X.forEach((t=>t()))}),!1);class G extends A{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const s=$(t);e.hostname=s.host,e.secure="https"===s.protocol||"wss"===s.protocol,e.port=s.port,s.query&&(e.query=s.query)}else e.host&&(e.hostname=$(e.host).host);x(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),Q&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},X.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&G.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",G.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,T((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,s){return this._sendPacket("message",t,e,s),this}send(t,e,s){return this._sendPacket("message",t,e,s),this}_sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}_onError(t){if(G.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Q&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=X.indexOf(this._offlineEventListener);-1!==t&&X.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}G.protocol=4;class Z extends G{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),s=!1;G.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;G.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const r=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function o(){r("transport closed")}function a(){r("socket closed")}function h(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",n),e.removeListener("error",r),e.removeListener("close",o),this.off("close",a),this.off("upgrading",h)};e.once("open",n),e.once("error",r),e.once("close",o),this.once("close",a),this.once("upgrading",h),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}let tt=class extends Z{constructor(t,e={}){const s="object"==typeof t?t:e;(!s.transports||s.transports&&"string"==typeof s.transports[0])&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map((t=>Y[t])).filter((t=>!!t))),super(t,s)}};const et="function"==typeof ArrayBuffer,st=Object.prototype.toString,nt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===st.call(Blob),it="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===st.call(File);function rt(t){return et&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||nt&&t instanceof Blob||it&&t instanceof File}function ot(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(ot(t[e]))return!0;return!1}if(rt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ot(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&ot(t[e]))return!0;return!1}function at(t){const e=[],s=t.data,n=t;return n.data=ht(s,e),n.attachments=e.length,{packet:n,buffers:e}}function ht(t,e){if(!t)return t;if(rt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=ht(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=ht(t[n],e));return s}return t}function ct(t,e){return t.data=pt(t.data,e),delete t.attachments,t}function pt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=pt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=pt(t[s],e));return t}const ut=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var dt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(dt||(dt={}));function lt(t){return"[object Object]"===Object.prototype.toString.call(t)}class ft extends A{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===dt.BINARY_EVENT;s||e.type===dt.BINARY_ACK?(e.type=s?dt.EVENT:dt.ACK,this.reconstructor=new yt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!rt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===dt[s.type])throw new Error("unknown packet type "+s.type);if(s.type===dt.BINARY_EVENT||s.type===dt.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(n,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!ft.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case dt.CONNECT:return lt(e);case dt.DISCONNECT:return void 0===e;case dt.CONNECT_ERROR:return"string"==typeof e||lt(e);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===ut.indexOf(e[0]));case dt.ACK:case dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=ct(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var gt=Object.freeze({__proto__:null,Decoder:ft,Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==dt.EVENT&&t.type!==dt.ACK||!ot(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==dt.BINARY_EVENT&&t.type!==dt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=at(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}},get PacketType(){return dt},protocol:5});function mt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const _t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bt extends A{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[mt(t,"open",this.onopen.bind(this)),mt(t,"packet",this.onpacket.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var s,n,i;if(_t.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const r={type:dt.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),r.id=t}const o=null===(n=null===(s=this.io.engine)||void 0===s?void 0:s.transport)||void 0===n?void 0:n.writable,a=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var s;const n=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===n)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),n),r=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise(((s,n)=>{const i=(t,e)=>t?n(t):s(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...n)=>{if(s!==this._queue[0])return;return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...n)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:dt.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function vt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+s:t-s}return 0|Math.min(t,this.max)},vt.prototype.reset=function(){this.attempts=0},vt.prototype.setMin=function(t){this.ms=t},vt.prototype.setMax=function(t){this.max=t},vt.prototype.setJitter=function(t){this.jitter=t};class wt extends A{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,x(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||gt;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=mt(e,"open",(function(){s.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},r=mt(e,"error",i);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(n),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(mt(t,"ping",this.onping.bind(this)),mt(t,"data",this.ondata.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this)),mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){T((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new bt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const kt={};function Et(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=$(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=kt[i]&&r in kt[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new wt(n,e):(kt[i]||(kt[i]=new wt(n,e)),a=kt[i]),s.query&&!e.query&&(e.query=s.queryKey),a.socket(s.path,e)}Object.assign(Et,{Manager:wt,Socket:bt,io:Et,connect:Et});const At="x-api-token";class Tt extends EventTarget{get connected(){var t,e;return null!==(e=null===(t=this.socket)||void 0===t?void 0:t.connected)&&void 0!==e&&e}constructor(t){super(),this.token=t,this.socket=null}close(){this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close())}listen(t,e,s){var n,i;if(this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close()),0===t.length)throw new Error("At least one event type must be provided");this.socket=Et(`https://realtime.jsonpad.io?${new URLSearchParams({eventTypes:t.join(","),listIds:null!==(n=null==e?void 0:e.join(","))&&void 0!==n?n:"",itemIds:null!==(i=null==s?void 0:s.join(","))&&void 0!==i?i:""})}`,{extraHeaders:{[At]:this.token}}),this.socket.on("connect",this.handleConnected.bind(this)),this.socket.on("disconnect",this.handleDisconnected.bind(this)),this.socket.on("error",this.handleError.bind(this)),this.socket.on("list-created",this.handleEvent.bind(this,"list-created")),this.socket.on("list-updated",this.handleEvent.bind(this,"list-updated")),this.socket.on("list-deleted",this.handleEvent.bind(this,"list-deleted")),this.socket.on("item-created",this.handleEvent.bind(this,"item-created")),this.socket.on("item-updated",this.handleEvent.bind(this,"item-updated")),this.socket.on("item-restored",this.handleEvent.bind(this,"item-restored")),this.socket.on("item-deleted",this.handleEvent.bind(this,"item-deleted"))}handleConnected(){this.dispatchEvent(Tt.connected)}handleDisconnected(){this.dispatchEvent(Tt.disconnected)}handleError(t){this.dispatchEvent(new CustomEvent("error",{detail:t}))}handleEvent(t,n){let i;try{i=JSON.parse(n)}catch(t){return void this.handleError("Failed to parse data")}switch(t){case"list-created":this.dispatchEvent(new s("list-created",i));break;case"list-updated":this.dispatchEvent(new s("list-updated",i));break;case"list-deleted":this.dispatchEvent(new s("list-deleted",i));break;case"item-created":this.dispatchEvent(new e("item-created",i));break;case"item-updated":this.dispatchEvent(new e("item-updated",i));break;case"item-restored":this.dispatchEvent(new e("item-restored",i));break;case"item-deleted":this.dispatchEvent(new e("item-deleted",i))}}}Tt.connected=new Event("connected"),Tt.disconnected=new Event("disconnected"),t.ItemEvent=e,t.ListEvent=s,t.default=Tt,Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,i){ true?i(exports):0}(this,(function(t){"use strict";class i{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),lastActiveAt:t.lastActiveAt?new Date(t.lastActiveAt):null})}}class e{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}class n{constructor(t){this.lastLoginAt=null,Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0,lastLoginAt:t.lastLoginAt?new Date(t.lastLoginAt):null})}}class o{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class s{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class d{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}function a(t,...i){return Object.fromEntries(Object.entries(t).filter((([t])=>!i.includes(t))))}const l="x-api-token";async function r(t,i,e,n,o,s,d){const a=n?new URLSearchParams({...Object.fromEntries(Object.entries(n).map((([t,i])=>[t,i.toString()])))}):"",r={[l]:t,"Content-Type":"application/json"};s&&(r["x-identity-group"]=s),d&&(r["x-identity-token"]=d);const u=await fetch(`https://api.jsonpad.io${e}?${a}`,{method:i,headers:r,body:o?JSON.stringify(o):void 0});if(!u.ok)throw new Error(await u.text());return 204===u.status?null:await u.json()}t.Event=e,t.Index=o,t.Item=s,t.List=d,t.User=i,t.default=class{constructor(t,i,e){this.token=t,this.identityGroup=i,this.identityToken=e}async createList(t){return new d(await r(this.token,"POST","/lists",void 0,t))}async fetchLists(t){const i=await r(this.token,"GET","/lists",t);return{...i,data:i.data.map((t=>new d(t)))}}async fetchList(t){return new d(await r(this.token,"GET",`/lists/${t}`))}async searchList(t,i,e){return(await r(this.token,"GET",`/lists/${t}/search`,{query:i,...e})).map((t=>"item"in t?{relevance:t.relevance,item:new s(t.item)}:t))}async fetchListStats(t,i){return await r(this.token,"GET",`/lists/${t}/stats`,i)}async fetchListEvents(t,i){const n=await r(this.token,"GET",`/lists/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchListEvent(t,i){return new e(await r(this.token,"GET",`/lists/${t}/events/${i}`))}async updateList(t,i){return new d(await r(this.token,"PUT",`/lists/${t}`,void 0,i))}async deleteList(t){await r(this.token,"DELETE",`/lists/${t}`)}async createItem(t,i,e,n){var o,d;return new s(await r(this.token,"POST",`/lists/${t}/items`,e,i,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItems(t,i,e){var n,o;const d=await r(this.token,"GET",`/lists/${t}/items`,i,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken);return{...d,data:d.data.map((t=>new s(t)))}}async fetchItemsData(t,i,e){var n,o;const s=(null==i?void 0:i.pointer)?`/${i.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/data${s}`,i?a(i,"pointer"):void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async fetchItem(t,i,e,n){var o,d;return new s(await r(this.token,"GET",`/lists/${t}/items/${i}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItemData(t,i,e,n){var o,s;const d=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/${i}/data${d}`,e?a(e,"pointer"):void 0,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(s=null==n?void 0:n.token)&&void 0!==s?s:this.identityToken)}async fetchItemStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/items/${i}/stats`,e)}async fetchItemEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/items/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchItemEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/items/${i}/events/${n}`))}async updateItem(t,i,e,n,o){var d,a;return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async updateItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"POST",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async replaceItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async patchItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PATCH",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async deleteItem(t,i,e){var n,o;await r(this.token,"DELETE",`/lists/${t}/items/${i}`,void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async deleteItemData(t,i,e,n){var o,d;const a=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return new s(await r(this.token,"DELETE",`/lists/${t}/items/${i}/data${a}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async createIndex(t,i){return new o(await r(this.token,"POST",`/lists/${t}/indexes`,void 0,i))}async fetchIndexes(t,i){const e=await r(this.token,"GET",`/lists/${t}/indexes`,i);return{...e,data:e.data.map((t=>new o(t)))}}async fetchIndex(t,i){return new o(await r(this.token,"GET",`/lists/${t}/indexes/${i}`))}async fetchIndexStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/indexes/${i}/stats`,e)}async fetchIndexEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/indexes/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchIndexEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/indexes/${i}/events/${n}`))}async updateIndex(t,i,e){return new o(await r(this.token,"PATCH",`/lists/${t}/indexes/${i}`,void 0,e))}async deleteIndex(t,i){await r(this.token,"DELETE",`/lists/${t}/indexes/${i}`)}async createIdentity(t){return new n(await r(this.token,"POST","/identities",void 0,t))}async fetchIdentities(t){const i=await r(this.token,"GET","/identities",t);return{...i,data:i.data.map((t=>new n(t)))}}async fetchIdentity(t){return new n(await r(this.token,"GET",`/identities/${t}`))}async fetchIdentityStats(t,i){return await r(this.token,"GET",`/identities/${t}/stats`,i)}async fetchIdentityEvents(t,i){const n=await r(this.token,"GET",`/identities/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchIdentityEvent(t,i){return new e(await r(this.token,"GET",`/identities/${t}/events/${i}`))}async updateIdentity(t,i){return new n(await r(this.token,"PUT",`/identities/${t}`,void 0,i))}async deleteIdentity(t){await r(this.token,"DELETE",`/identities/${t}`)}async registerIdentity(t,i){var e,o;return new n(await r(this.token,"POST","/identities/register",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async loginIdentity(t,i){var e,o;const s=await r(this.token,"POST","/identities/login",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken);return this.identityGroup=s.group||void 0,this.identityToken=s.token||void 0,[new n(a(s,"token")),this.identityToken]}async logoutIdentity(t){var i,e;await r(this.token,"POST","/identities/logout",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken),this.identityGroup=void 0,this.identityToken=void 0}async fetchSelfIdentity(t){var i,e;return new n(await r(this.token,"GET","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken))}async updateSelfIdentity(t,i){var e,o;return new n(await r(this.token,"PUT","/identities/self",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async deleteSelfIdentity(t){var i,e;await r(this.token,"DELETE","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken)}},Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Client = void 0;
const jsonpad_realtime_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-realtime-sdk */ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js");
const jsonpad_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-sdk */ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js");
const events_1 = __webpack_require__(/*! ./events */ "./src/events/index.ts");
class Client extends EventTarget {
    constructor(options) {
        super();
        this.options = Object.assign({}, Client.defaultOptions, options !== null && options !== void 0 ? options : {});
        this.jsonpad = new jsonpad_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime = new jsonpad_realtime_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime.listen(['item-created', 'item-updated'], [this.options.jsonpadGamesList], ['*']);
        this.jsonpadRealtime.addEventListener('item-created', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            this.dispatchEvent(new events_1.GameCreatedEvent(game));
        });
        this.jsonpadRealtime.addEventListener('item-updated', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            switch (game.lastEventType) {
                case 'game-created':
                    return;
                case 'player-joined':
                    this.dispatchEvent(new events_1.PlayerJoinedEvent(game));
                    return;
                case 'player-moved':
                    this.dispatchEvent(new events_1.PlayerMovedEvent(game));
                    return;
                case 'timed-out':
                    this.dispatchEvent(new events_1.TimedOutEvent(game));
                    return;
                case 'game-finished':
                    this.dispatchEvent(new events_1.GameFinishedEvent(game));
                    return;
            }
        });
    }
    async fetchGames(parameters) {
        const response = await this.jsonpad.fetchItems(this.options.jsonpadGamesList, {
            ...parameters,
            includeData: true,
        });
        return {
            page: response.page,
            limit: response.limit,
            total: response.total,
            games: response.data.map(item => ({
                id: item.id,
                ...item.data,
                startedAt: item.data.startedAt ? new Date(item.data.startedAt) : null,
                finishedAt: item.data.finishedAt
                    ? new Date(item.data.finishedAt)
                    : null,
            })),
        };
    }
    async fetchGame(gameId) {
        const game = await this.jsonpad.fetchItemData(this.options.jsonpadGamesList, gameId);
        return {
            id: gameId,
            ...game,
            startedAt: game.startedAt ? new Date(game.startedAt) : null,
            finishedAt: game.finishedAt ? new Date(game.finishedAt) : null,
        };
    }
    async fetchState(gameId, token) {
        const response = await fetch(`${this.options.asobiServerUrl}/state/${gameId}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${token}`,
            },
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return {
            ...json.game,
            startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
            finishedAt: json.game.finishedAt ? new Date(json.game.finishedAt) : null,
        };
    }
    async createGame(playerName, playerData, gameData, numPlayers) {
        const response = await fetch(`${this.options.asobiServerUrl}/create-game`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
                gameData,
                numPlayers,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async joinGame(gameId, playerName, playerData) {
        const response = await fetch(`${this.options.asobiServerUrl}/join-game/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async move(gameId, token, moveData) {
        const response = await fetch(`${this.options.asobiServerUrl}/move/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${token}`,
            },
            body: JSON.stringify({
                moveData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return {
            ...json.game,
            startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
            finishedAt: json.game.finishedAt ? new Date(json.game.finishedAt) : null,
        };
    }
}
exports.Client = Client;
Client.defaultOptions = {
    jsonpadClientToken: '',
    jsonpadGamesList: '',
    asobiServerUrl: '',
};


/***/ }),

/***/ "./src/events/game-created.ts":
/*!************************************!*\
  !*** ./src/events/game-created.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameCreatedEvent = void 0;
class GameCreatedEvent extends CustomEvent {
    constructor(detail) {
        super('game-created', { detail });
    }
}
exports.GameCreatedEvent = GameCreatedEvent;


/***/ }),

/***/ "./src/events/game-finished.ts":
/*!*************************************!*\
  !*** ./src/events/game-finished.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameFinishedEvent = void 0;
class GameFinishedEvent extends CustomEvent {
    constructor(detail) {
        super('game-finished', { detail });
    }
}
exports.GameFinishedEvent = GameFinishedEvent;


/***/ }),

/***/ "./src/events/index.ts":
/*!*****************************!*\
  !*** ./src/events/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./game-created */ "./src/events/game-created.ts"), exports);
__exportStar(__webpack_require__(/*! ./game-finished */ "./src/events/game-finished.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-joined */ "./src/events/player-joined.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-moved */ "./src/events/player-moved.ts"), exports);
__exportStar(__webpack_require__(/*! ./timed-out */ "./src/events/timed-out.ts"), exports);


/***/ }),

/***/ "./src/events/player-joined.ts":
/*!*************************************!*\
  !*** ./src/events/player-joined.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerJoinedEvent = void 0;
class PlayerJoinedEvent extends CustomEvent {
    constructor(detail) {
        super('player-joined', { detail });
    }
}
exports.PlayerJoinedEvent = PlayerJoinedEvent;


/***/ }),

/***/ "./src/events/player-moved.ts":
/*!************************************!*\
  !*** ./src/events/player-moved.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerMovedEvent = void 0;
class PlayerMovedEvent extends CustomEvent {
    constructor(detail) {
        super('player-moved', { detail });
    }
}
exports.PlayerMovedEvent = PlayerMovedEvent;


/***/ }),

/***/ "./src/events/timed-out.ts":
/*!*********************************!*\
  !*** ./src/events/timed-out.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TimedOutEvent = void 0;
class TimedOutEvent extends CustomEvent {
    constructor(detail) {
        super('timed-out', { detail });
    }
}
exports.TimedOutEvent = TimedOutEvent;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AsobiClient = void 0;
var client_1 = __webpack_require__(/*! ./client */ "./src/client.ts");
Object.defineProperty(exports, "AsobiClient", ({ enumerable: true, get: function () { return client_1.Client; } }));
__exportStar(__webpack_require__(/*! ./types */ "./src/types.ts"), exports);


/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerStatus = exports.GameStatus = void 0;
var GameStatus;
(function (GameStatus) {
    GameStatus["WAITING_TO_START"] = "waiting_to_start";
    GameStatus["STARTED"] = "started";
    GameStatus["FINISHED"] = "finished";
})(GameStatus = exports.GameStatus || (exports.GameStatus = {}));
var PlayerStatus;
(function (PlayerStatus) {
    PlayerStatus["WAITING_FOR_TURN"] = "waiting_for_turn";
    PlayerStatus["TAKING_TURN"] = "taking_turn";
    PlayerStatus["FINISHED"] = "finished";
})(PlayerStatus = exports.PlayerStatus || (exports.PlayerStatus = {}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFtQjtJQUNuQixtQ0FBcUI7QUFDdkIsQ0FBQyxFQUpXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBSXJCO0FBRUQsSUFBWSxZQUlYO0FBSkQsV0FBWSxZQUFZO0lBQ3RCLHFEQUFxQztJQUNyQywyQ0FBMkI7SUFDM0IscUNBQXFCO0FBQ3ZCLENBQUMsRUFKVyxZQUFZLEdBQVosb0JBQVksS0FBWixvQkFBWSxRQUl2Qjs7Ozs7OztVQ2hCRDtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7O1VFdEJBO1VBQ0E7VUFDQTtVQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50L3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9ub2RlX21vZHVsZXMvQGJhc2VtZW50dW5pdmVyc2UvanNvbnBhZC1yZWFsdGltZS1zZGsvYnVpbGQvanNvbnBhZC1yZWFsdGltZS1zZGsuanMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BiYXNlbWVudHVuaXZlcnNlL2pzb25wYWQtc2RrL2J1aWxkL2pzb25wYWQtc2RrLmpzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9jbGllbnQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9nYW1lLWNyZWF0ZWQudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9nYW1lLWZpbmlzaGVkLnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL2V2ZW50cy9wbGF5ZXItam9pbmVkLnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvcGxheWVyLW1vdmVkLnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvdGltZWQtb3V0LnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvdHlwZXMudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC93ZWJwYWNrL2JlZm9yZS1zdGFydHVwIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC93ZWJwYWNrL3N0YXJ0dXAiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50L3dlYnBhY2svYWZ0ZXItc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkoc2VsZiwgKCkgPT4ge1xucmV0dXJuICIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCJdLGUpOmUoKHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0fHxzZWxmKS5KU09OUGFkUmVhbHRpbWU9e30pfSh0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtjbGFzcyBlIGV4dGVuZHMgQ3VzdG9tRXZlbnR7Y29uc3RydWN0b3IodCxlKXtpZihlLm1vZGVsLmRhdGEmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm1vZGVsLmRhdGEpdHJ5e2UubW9kZWwuZGF0YT1KU09OLnBhcnNlKGUubW9kZWwuZGF0YSl9Y2F0Y2godCl7fXN1cGVyKHQse2RldGFpbDplfSl9fWNsYXNzIHMgZXh0ZW5kcyBDdXN0b21FdmVudHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQse2RldGFpbDplfSl9fWNvbnN0IG49T2JqZWN0LmNyZWF0ZShudWxsKTtuLm9wZW49XCIwXCIsbi5jbG9zZT1cIjFcIixuLnBpbmc9XCIyXCIsbi5wb25nPVwiM1wiLG4ubWVzc2FnZT1cIjRcIixuLnVwZ3JhZGU9XCI1XCIsbi5ub29wPVwiNlwiO2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShudWxsKTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKCh0PT57aVtuW3RdXT10fSkpO2NvbnN0IHI9e3R5cGU6XCJlcnJvclwiLGRhdGE6XCJwYXJzZXIgZXJyb3JcIn0sbz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9ifHxcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChCbG9iKSxhPVwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLGg9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3P0FycmF5QnVmZmVyLmlzVmlldyh0KTp0JiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyLGM9KHt0eXBlOnQsZGF0YTplfSxzLGkpPT5vJiZlIGluc3RhbmNlb2YgQmxvYj9zP2koZSk6cChlLGkpOmEmJihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGgoZSkpP3M/aShlKTpwKG5ldyBCbG9iKFtlXSksaSk6aShuW3RdKyhlfHxcIlwiKSkscD0odCxlKT0+e2NvbnN0IHM9bmV3IEZpbGVSZWFkZXI7cmV0dXJuIHMub25sb2FkPWZ1bmN0aW9uKCl7Y29uc3QgdD1zLnJlc3VsdC5zcGxpdChcIixcIilbMV07ZShcImJcIisodHx8XCJcIikpfSxzLnJlYWRBc0RhdGFVUkwodCl9O2Z1bmN0aW9uIHUodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBVaW50OEFycmF5P3Q6dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KHQpOm5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfWxldCBkO2NvbnN0IGw9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsZj1cInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheT9bXTpuZXcgVWludDhBcnJheSgyNTYpO2ZvcihsZXQgdD0wO3Q8NjQ7dCsrKWZbbC5jaGFyQ29kZUF0KHQpXT10O2NvbnN0IHk9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIsZz0odCxlKT0+e2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybnt0eXBlOlwibWVzc2FnZVwiLGRhdGE6Xyh0LGUpfTtjb25zdCBzPXQuY2hhckF0KDApO2lmKFwiYlwiPT09cylyZXR1cm57dHlwZTpcIm1lc3NhZ2VcIixkYXRhOm0odC5zdWJzdHJpbmcoMSksZSl9O3JldHVybiBpW3NdP3QubGVuZ3RoPjE/e3R5cGU6aVtzXSxkYXRhOnQuc3Vic3RyaW5nKDEpfTp7dHlwZTppW3NdfTpyfSxtPSh0LGUpPT57aWYoeSl7Y29uc3Qgcz0odD0+e2xldCBlLHMsbixpLHIsbz0uNzUqdC5sZW5ndGgsYT10Lmxlbmd0aCxoPTA7XCI9XCI9PT10W3QubGVuZ3RoLTFdJiYoby0tLFwiPVwiPT09dFt0Lmxlbmd0aC0yXSYmby0tKTtjb25zdCBjPW5ldyBBcnJheUJ1ZmZlcihvKSxwPW5ldyBVaW50OEFycmF5KGMpO2ZvcihlPTA7ZTxhO2UrPTQpcz1mW3QuY2hhckNvZGVBdChlKV0sbj1mW3QuY2hhckNvZGVBdChlKzEpXSxpPWZbdC5jaGFyQ29kZUF0KGUrMildLHI9Zlt0LmNoYXJDb2RlQXQoZSszKV0scFtoKytdPXM8PDJ8bj4+NCxwW2grK109KDE1Jm4pPDw0fGk+PjIscFtoKytdPSgzJmkpPDw2fDYzJnI7cmV0dXJuIGN9KSh0KTtyZXR1cm4gXyhzLGUpfXJldHVybntiYXNlNjQ6ITAsZGF0YTp0fX0sXz0odCxlKT0+XCJibG9iXCI9PT1lP3QgaW5zdGFuY2VvZiBCbG9iP3Q6bmV3IEJsb2IoW3RdKTp0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/dDp0LmJ1ZmZlcixiPVN0cmluZy5mcm9tQ2hhckNvZGUoMzApO2Z1bmN0aW9uIHYoKXtyZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKHQsZSl7IWZ1bmN0aW9uKHQsZSl7byYmdC5kYXRhIGluc3RhbmNlb2YgQmxvYj90LmRhdGEuYXJyYXlCdWZmZXIoKS50aGVuKHUpLnRoZW4oZSk6YSYmKHQuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxoKHQuZGF0YSkpP2UodSh0LmRhdGEpKTpjKHQsITEsKHQ9PntkfHwoZD1uZXcgVGV4dEVuY29kZXIpLGUoZC5lbmNvZGUodCkpfSkpfSh0LChzPT57Y29uc3Qgbj1zLmxlbmd0aDtsZXQgaTtpZihuPDEyNilpPW5ldyBVaW50OEFycmF5KDEpLG5ldyBEYXRhVmlldyhpLmJ1ZmZlcikuc2V0VWludDgoMCxuKTtlbHNlIGlmKG48NjU1MzYpe2k9bmV3IFVpbnQ4QXJyYXkoMyk7Y29uc3QgdD1uZXcgRGF0YVZpZXcoaS5idWZmZXIpO3Quc2V0VWludDgoMCwxMjYpLHQuc2V0VWludDE2KDEsbil9ZWxzZXtpPW5ldyBVaW50OEFycmF5KDkpO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGkuYnVmZmVyKTt0LnNldFVpbnQ4KDAsMTI3KSx0LnNldEJpZ1VpbnQ2NCgxLEJpZ0ludChuKSl9dC5kYXRhJiZcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhJiYoaVswXXw9MTI4KSxlLmVucXVldWUoaSksZS5lbnF1ZXVlKHMpfSkpfX0pfWxldCB3O2Z1bmN0aW9uIGsodCl7cmV0dXJuIHQucmVkdWNlKCgodCxlKT0+dCtlLmxlbmd0aCksMCl9ZnVuY3Rpb24gRSh0LGUpe2lmKHRbMF0ubGVuZ3RoPT09ZSlyZXR1cm4gdC5zaGlmdCgpO2NvbnN0IHM9bmV3IFVpbnQ4QXJyYXkoZSk7bGV0IG49MDtmb3IobGV0IGk9MDtpPGU7aSsrKXNbaV09dFswXVtuKytdLG49PT10WzBdLmxlbmd0aCYmKHQuc2hpZnQoKSxuPTApO3JldHVybiB0Lmxlbmd0aCYmbjx0WzBdLmxlbmd0aCYmKHRbMF09dFswXS5zbGljZShuKSksc31mdW5jdGlvbiBBKHQpe2lmKHQpcmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSBpbiBBLnByb3RvdHlwZSl0W2VdPUEucHJvdG90eXBlW2VdO3JldHVybiB0fSh0KX1BLnByb3RvdHlwZS5vbj1BLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LCh0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF09dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdfHxbXSkucHVzaChlKSx0aGlzfSxBLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcygpe3RoaXMub2ZmKHQscyksZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIHMuZm49ZSx0aGlzLm9uKHQscyksdGhpc30sQS5wcm90b3R5cGUub2ZmPUEucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPUEucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1BLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fY2FsbGJhY2tzPXRoaXMuX2NhbGxiYWNrc3x8e30sMD09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fY2FsbGJhY2tzPXt9LHRoaXM7dmFyIHMsbj10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF07aWYoIW4pcmV0dXJuIHRoaXM7aWYoMT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKChzPW5baV0pPT09ZXx8cy5mbj09PWUpe24uc3BsaWNlKGksMSk7YnJlYWt9cmV0dXJuIDA9PT1uLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSx0aGlzfSxBLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKHQpe3RoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9O2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxzPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO2lmKHMpe249MDtmb3IodmFyIGk9KHM9cy5zbGljZSgwKSkubGVuZ3RoO248aTsrK24pc1tuXS5hcHBseSh0aGlzLGUpfXJldHVybiB0aGlzfSxBLnByb3RvdHlwZS5lbWl0UmVzZXJ2ZWQ9QS5wcm90b3R5cGUuZW1pdCxBLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LHRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W119LEEucHJvdG90eXBlLmhhc0xpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMubGlzdGVuZXJzKHQpLmxlbmd0aH07Y29uc3QgVD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlLnJlc29sdmU/dD0+UHJvbWlzZS5yZXNvbHZlKCkudGhlbih0KToodCxlKT0+ZSh0LDApLE89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7ZnVuY3Rpb24gUih0LC4uLmUpe3JldHVybiBlLnJlZHVjZSgoKGUscyk9Pih0Lmhhc093blByb3BlcnR5KHMpJiYoZVtzXT10W3NdKSxlKSkse30pfWNvbnN0IEM9Ty5zZXRUaW1lb3V0LEI9Ty5jbGVhclRpbWVvdXQ7ZnVuY3Rpb24geCh0LGUpe2UudXNlTmF0aXZlVGltZXJzPyh0LnNldFRpbWVvdXRGbj1DLmJpbmQoTyksdC5jbGVhclRpbWVvdXRGbj1CLmJpbmQoTykpOih0LnNldFRpbWVvdXRGbj1PLnNldFRpbWVvdXQuYmluZChPKSx0LmNsZWFyVGltZW91dEZuPU8uY2xlYXJUaW1lb3V0LmJpbmQoTykpfWZ1bmN0aW9uIFMoKXtyZXR1cm4gRGF0ZS5ub3coKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDMpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDUpfWNsYXNzIE4gZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUscyl7c3VwZXIodCksdGhpcy5kZXNjcmlwdGlvbj1lLHRoaXMuY29udGV4dD1zLHRoaXMudHlwZT1cIlRyYW5zcG9ydEVycm9yXCJ9fWNsYXNzIEwgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy53cml0YWJsZT0hMSx4KHRoaXMsdCksdGhpcy5vcHRzPXQsdGhpcy5xdWVyeT10LnF1ZXJ5LHRoaXMuc29ja2V0PXQuc29ja2V0LHRoaXMuc3VwcG9ydHNCaW5hcnk9IXQuZm9yY2VCYXNlNjR9b25FcnJvcih0LGUscyl7cmV0dXJuIHN1cGVyLmVtaXRSZXNlcnZlZChcImVycm9yXCIsbmV3IE4odCxlLHMpKSx0aGlzfW9wZW4oKXtyZXR1cm4gdGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiLHRoaXMuZG9PcGVuKCksdGhpc31jbG9zZSgpe3JldHVyblwib3BlbmluZ1wiIT09dGhpcy5yZWFkeVN0YXRlJiZcIm9wZW5cIiE9PXRoaXMucmVhZHlTdGF0ZXx8KHRoaXMuZG9DbG9zZSgpLHRoaXMub25DbG9zZSgpKSx0aGlzfXNlbmQodCl7XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMud3JpdGUodCl9b25PcGVuKCl7dGhpcy5yZWFkeVN0YXRlPVwib3BlblwiLHRoaXMud3JpdGFibGU9ITAsc3VwZXIuZW1pdFJlc2VydmVkKFwib3BlblwiKX1vbkRhdGEodCl7Y29uc3QgZT1nKHQsdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7dGhpcy5vblBhY2tldChlKX1vblBhY2tldCh0KXtzdXBlci5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIix0KX1vbkNsb3NlKHQpe3RoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHN1cGVyLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsdCl9cGF1c2UodCl7fWNyZWF0ZVVyaSh0LGU9e30pe3JldHVybiB0K1wiOi8vXCIrdGhpcy5faG9zdG5hbWUoKSt0aGlzLl9wb3J0KCkrdGhpcy5vcHRzLnBhdGgrdGhpcy5fcXVlcnkoZSl9X2hvc3RuYW1lKCl7Y29uc3QgdD10aGlzLm9wdHMuaG9zdG5hbWU7cmV0dXJuLTE9PT10LmluZGV4T2YoXCI6XCIpP3Q6XCJbXCIrdCtcIl1cIn1fcG9ydCgpe3JldHVybiB0aGlzLm9wdHMucG9ydCYmKHRoaXMub3B0cy5zZWN1cmUmJk51bWJlcig0NDMhPT10aGlzLm9wdHMucG9ydCl8fCF0aGlzLm9wdHMuc2VjdXJlJiY4MCE9PU51bWJlcih0aGlzLm9wdHMucG9ydCkpP1wiOlwiK3RoaXMub3B0cy5wb3J0OlwiXCJ9X3F1ZXJ5KHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7bGV0IGU9XCJcIjtmb3IobGV0IHMgaW4gdCl0Lmhhc093blByb3BlcnR5KHMpJiYoZS5sZW5ndGgmJihlKz1cIiZcIiksZSs9ZW5jb2RlVVJJQ29tcG9uZW50KHMpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudCh0W3NdKSk7cmV0dXJuIGV9KHQpO3JldHVybiBlLmxlbmd0aD9cIj9cIitlOlwiXCJ9fWNsYXNzIHEgZXh0ZW5kcyBMe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9wb2xsaW5nPSExfWdldCBuYW1lKCl7cmV0dXJuXCJwb2xsaW5nXCJ9ZG9PcGVuKCl7dGhpcy5fcG9sbCgpfXBhdXNlKHQpe3RoaXMucmVhZHlTdGF0ZT1cInBhdXNpbmdcIjtjb25zdCBlPSgpPT57dGhpcy5yZWFkeVN0YXRlPVwicGF1c2VkXCIsdCgpfTtpZih0aGlzLl9wb2xsaW5nfHwhdGhpcy53cml0YWJsZSl7bGV0IHQ9MDt0aGlzLl9wb2xsaW5nJiYodCsrLHRoaXMub25jZShcInBvbGxDb21wbGV0ZVwiLChmdW5jdGlvbigpey0tdHx8ZSgpfSkpKSx0aGlzLndyaXRhYmxlfHwodCsrLHRoaXMub25jZShcImRyYWluXCIsKGZ1bmN0aW9uKCl7LS10fHxlKCl9KSkpfWVsc2UgZSgpfV9wb2xsKCl7dGhpcy5fcG9sbGluZz0hMCx0aGlzLmRvUG9sbCgpLHRoaXMuZW1pdFJlc2VydmVkKFwicG9sbFwiKX1vbkRhdGEodCl7KCh0LGUpPT57Y29uc3Qgcz10LnNwbGl0KGIpLG49W107Zm9yKGxldCB0PTA7dDxzLmxlbmd0aDt0Kyspe2NvbnN0IGk9ZyhzW3RdLGUpO2lmKG4ucHVzaChpKSxcImVycm9yXCI9PT1pLnR5cGUpYnJlYWt9cmV0dXJuIG59KSh0LHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goKHQ9PntpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZSYmXCJvcGVuXCI9PT10LnR5cGUmJnRoaXMub25PcGVuKCksXCJjbG9zZVwiPT09dC50eXBlKXJldHVybiB0aGlzLm9uQ2xvc2Uoe2Rlc2NyaXB0aW9uOlwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCJ9KSwhMTt0aGlzLm9uUGFja2V0KHQpfSkpLFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJih0aGlzLl9wb2xsaW5nPSExLHRoaXMuZW1pdFJlc2VydmVkKFwicG9sbENvbXBsZXRlXCIpLFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLl9wb2xsKCkpfWRvQ2xvc2UoKXtjb25zdCB0PSgpPT57dGhpcy53cml0ZShbe3R5cGU6XCJjbG9zZVwifV0pfTtcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZT90KCk6dGhpcy5vbmNlKFwib3BlblwiLHQpfXdyaXRlKHQpe3RoaXMud3JpdGFibGU9ITEsKCh0LGUpPT57Y29uc3Qgcz10Lmxlbmd0aCxuPW5ldyBBcnJheShzKTtsZXQgaT0wO3QuZm9yRWFjaCgoKHQscik9PntjKHQsITEsKHQ9PntuW3JdPXQsKytpPT09cyYmZShuLmpvaW4oYikpfSkpfSkpfSkodCwodD0+e3RoaXMuZG9Xcml0ZSh0LCgoKT0+e3RoaXMud3JpdGFibGU9ITAsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKX0pKX0pKX11cmkoKXtjb25zdCB0PXRoaXMub3B0cy5zZWN1cmU/XCJodHRwc1wiOlwiaHR0cFwiLGU9dGhpcy5xdWVyeXx8e307cmV0dXJuITEhPT10aGlzLm9wdHMudGltZXN0YW1wUmVxdWVzdHMmJihlW3RoaXMub3B0cy50aW1lc3RhbXBQYXJhbV09UygpKSx0aGlzLnN1cHBvcnRzQmluYXJ5fHxlLnNpZHx8KGUuYjY0PTEpLHRoaXMuY3JlYXRlVXJpKHQsZSl9fWxldCBQPSExO3RyeXtQPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9Y29uc3Qgaj1QO2Z1bmN0aW9uIEQoKXt9Y2xhc3MgVSBleHRlbmRzIHF7Y29uc3RydWN0b3IodCl7aWYoc3VwZXIodCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uKXtjb25zdCBlPVwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbDtsZXQgcz1sb2NhdGlvbi5wb3J0O3N8fChzPWU/XCI0NDNcIjpcIjgwXCIpLHRoaXMueGQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZ0Lmhvc3RuYW1lIT09bG9jYXRpb24uaG9zdG5hbWV8fHMhPT10LnBvcnR9fWRvV3JpdGUodCxlKXtjb25zdCBzPXRoaXMucmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLGRhdGE6dH0pO3Mub24oXCJzdWNjZXNzXCIsZSkscy5vbihcImVycm9yXCIsKCh0LGUpPT57dGhpcy5vbkVycm9yKFwieGhyIHBvc3QgZXJyb3JcIix0LGUpfSkpfWRvUG9sbCgpe2NvbnN0IHQ9dGhpcy5yZXF1ZXN0KCk7dC5vbihcImRhdGFcIix0aGlzLm9uRGF0YS5iaW5kKHRoaXMpKSx0Lm9uKFwiZXJyb3JcIiwoKHQsZSk9Pnt0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLHQsZSl9KSksdGhpcy5wb2xsWGhyPXR9fWNsYXNzIEkgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQsZSxzKXtzdXBlcigpLHRoaXMuY3JlYXRlUmVxdWVzdD10LHgodGhpcyxzKSx0aGlzLl9vcHRzPXMsdGhpcy5fbWV0aG9kPXMubWV0aG9kfHxcIkdFVFwiLHRoaXMuX3VyaT1lLHRoaXMuX2RhdGE9dm9pZCAwIT09cy5kYXRhP3MuZGF0YTpudWxsLHRoaXMuX2NyZWF0ZSgpfV9jcmVhdGUoKXt2YXIgdDtjb25zdCBlPVIodGhpcy5fb3B0cyxcImFnZW50XCIsXCJwZnhcIixcImtleVwiLFwicGFzc3BocmFzZVwiLFwiY2VydFwiLFwiY2FcIixcImNpcGhlcnNcIixcInJlamVjdFVuYXV0aG9yaXplZFwiLFwiYXV0b1VucmVmXCIpO2UueGRvbWFpbj0hIXRoaXMuX29wdHMueGQ7Y29uc3Qgcz10aGlzLl94aHI9dGhpcy5jcmVhdGVSZXF1ZXN0KGUpO3RyeXtzLm9wZW4odGhpcy5fbWV0aG9kLHRoaXMuX3VyaSwhMCk7dHJ5e2lmKHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzKXtzLnNldERpc2FibGVIZWFkZXJDaGVjayYmcy5zZXREaXNhYmxlSGVhZGVyQ2hlY2soITApO2ZvcihsZXQgdCBpbiB0aGlzLl9vcHRzLmV4dHJhSGVhZGVycyl0aGlzLl9vcHRzLmV4dHJhSGVhZGVycy5oYXNPd25Qcm9wZXJ0eSh0KSYmcy5zZXRSZXF1ZXN0SGVhZGVyKHQsdGhpcy5fb3B0cy5leHRyYUhlYWRlcnNbdF0pfX1jYXRjaCh0KXt9aWYoXCJQT1NUXCI9PT10aGlzLl9tZXRob2QpdHJ5e3Muc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpfWNhdGNoKHQpe310cnl7cy5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCIqLypcIil9Y2F0Y2godCl7fW51bGw9PT0odD10aGlzLl9vcHRzLmNvb2tpZUphcil8fHZvaWQgMD09PXR8fHQuYWRkQ29va2llcyhzKSxcIndpdGhDcmVkZW50aWFsc1wiaW4gcyYmKHMud2l0aENyZWRlbnRpYWxzPXRoaXMuX29wdHMud2l0aENyZWRlbnRpYWxzKSx0aGlzLl9vcHRzLnJlcXVlc3RUaW1lb3V0JiYocy50aW1lb3V0PXRoaXMuX29wdHMucmVxdWVzdFRpbWVvdXQpLHMub25yZWFkeXN0YXRlY2hhbmdlPSgpPT57dmFyIHQ7Mz09PXMucmVhZHlTdGF0ZSYmKG51bGw9PT0odD10aGlzLl9vcHRzLmNvb2tpZUphcil8fHZvaWQgMD09PXR8fHQucGFyc2VDb29raWVzKHMuZ2V0UmVzcG9uc2VIZWFkZXIoXCJzZXQtY29va2llXCIpKSksND09PXMucmVhZHlTdGF0ZSYmKDIwMD09PXMuc3RhdHVzfHwxMjIzPT09cy5zdGF0dXM/dGhpcy5fb25Mb2FkKCk6dGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57dGhpcy5fb25FcnJvcihcIm51bWJlclwiPT10eXBlb2Ygcy5zdGF0dXM/cy5zdGF0dXM6MCl9KSwwKSl9LHMuc2VuZCh0aGlzLl9kYXRhKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLnNldFRpbWVvdXRGbigoKCk9Pnt0aGlzLl9vbkVycm9yKHQpfSksMCl9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiYodGhpcy5faW5kZXg9SS5yZXF1ZXN0c0NvdW50KyssSS5yZXF1ZXN0c1t0aGlzLl9pbmRleF09dGhpcyl9X29uRXJyb3IodCl7dGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLHQsdGhpcy5feGhyKSx0aGlzLl9jbGVhbnVwKCEwKX1fY2xlYW51cCh0KXtpZih2b2lkIDAhPT10aGlzLl94aHImJm51bGwhPT10aGlzLl94aHIpe2lmKHRoaXMuX3hoci5vbnJlYWR5c3RhdGVjaGFuZ2U9RCx0KXRyeXt0aGlzLl94aHIuYWJvcnQoKX1jYXRjaCh0KXt9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkZWxldGUgSS5yZXF1ZXN0c1t0aGlzLl9pbmRleF0sdGhpcy5feGhyPW51bGx9fV9vbkxvYWQoKXtjb25zdCB0PXRoaXMuX3hoci5yZXNwb25zZVRleHQ7bnVsbCE9PXQmJih0aGlzLmVtaXRSZXNlcnZlZChcImRhdGFcIix0KSx0aGlzLmVtaXRSZXNlcnZlZChcInN1Y2Nlc3NcIiksdGhpcy5fY2xlYW51cCgpKX1hYm9ydCgpe3RoaXMuX2NsZWFudXAoKX19aWYoSS5yZXF1ZXN0c0NvdW50PTAsSS5yZXF1ZXN0cz17fSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZG9jdW1lbnQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXR0YWNoRXZlbnQpYXR0YWNoRXZlbnQoXCJvbnVubG9hZFwiLEYpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYWRkRXZlbnRMaXN0ZW5lcil7YWRkRXZlbnRMaXN0ZW5lcihcIm9ucGFnZWhpZGVcImluIE8/XCJwYWdlaGlkZVwiOlwidW5sb2FkXCIsRiwhMSl9ZnVuY3Rpb24gRigpe2ZvcihsZXQgdCBpbiBJLnJlcXVlc3RzKUkucmVxdWVzdHMuaGFzT3duUHJvcGVydHkodCkmJkkucmVxdWVzdHNbdF0uYWJvcnQoKX1jb25zdCBNPWZ1bmN0aW9uKCl7Y29uc3QgdD1WKHt4ZG9tYWluOiExfSk7cmV0dXJuIHQmJm51bGwhPT10LnJlc3BvbnNlVHlwZX0oKTtmdW5jdGlvbiBWKHQpe2NvbnN0IGU9dC54ZG9tYWluO3RyeXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJighZXx8aikpcmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9aWYoIWUpdHJ5e3JldHVybiBuZXcoT1tbXCJBY3RpdmVcIl0uY29uY2F0KFwiT2JqZWN0XCIpLmpvaW4oXCJYXCIpXSkoXCJNaWNyb3NvZnQuWE1MSFRUUFwiKX1jYXRjaCh0KXt9fWNvbnN0IEg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmXCJzdHJpbmdcIj09dHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0JiZcInJlYWN0bmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdC50b0xvd2VyQ2FzZSgpO2NsYXNzIEsgZXh0ZW5kcyBMe2dldCBuYW1lKCl7cmV0dXJuXCJ3ZWJzb2NrZXRcIn1kb09wZW4oKXtjb25zdCB0PXRoaXMudXJpKCksZT10aGlzLm9wdHMucHJvdG9jb2xzLHM9SD97fTpSKHRoaXMub3B0cyxcImFnZW50XCIsXCJwZXJNZXNzYWdlRGVmbGF0ZVwiLFwicGZ4XCIsXCJrZXlcIixcInBhc3NwaHJhc2VcIixcImNlcnRcIixcImNhXCIsXCJjaXBoZXJzXCIsXCJyZWplY3RVbmF1dGhvcml6ZWRcIixcImxvY2FsQWRkcmVzc1wiLFwicHJvdG9jb2xWZXJzaW9uXCIsXCJvcmlnaW5cIixcIm1heFBheWxvYWRcIixcImZhbWlseVwiLFwiY2hlY2tTZXJ2ZXJJZGVudGl0eVwiKTt0aGlzLm9wdHMuZXh0cmFIZWFkZXJzJiYocy5oZWFkZXJzPXRoaXMub3B0cy5leHRyYUhlYWRlcnMpO3RyeXt0aGlzLndzPXRoaXMuY3JlYXRlU29ja2V0KHQsZSxzKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLHQpfXRoaXMud3MuYmluYXJ5VHlwZT10aGlzLnNvY2tldC5iaW5hcnlUeXBlLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKX1hZGRFdmVudExpc3RlbmVycygpe3RoaXMud3Mub25vcGVuPSgpPT57dGhpcy5vcHRzLmF1dG9VbnJlZiYmdGhpcy53cy5fc29ja2V0LnVucmVmKCksdGhpcy5vbk9wZW4oKX0sdGhpcy53cy5vbmNsb3NlPXQ9PnRoaXMub25DbG9zZSh7ZGVzY3JpcHRpb246XCJ3ZWJzb2NrZXQgY29ubmVjdGlvbiBjbG9zZWRcIixjb250ZXh0OnR9KSx0aGlzLndzLm9ubWVzc2FnZT10PT50aGlzLm9uRGF0YSh0LmRhdGEpLHRoaXMud3Mub25lcnJvcj10PT50aGlzLm9uRXJyb3IoXCJ3ZWJzb2NrZXQgZXJyb3JcIix0KX13cml0ZSh0KXt0aGlzLndyaXRhYmxlPSExO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBzPXRbZV0sbj1lPT09dC5sZW5ndGgtMTtjKHMsdGhpcy5zdXBwb3J0c0JpbmFyeSwodD0+e3RyeXt0aGlzLmRvV3JpdGUocyx0KX1jYXRjaCh0KXt9biYmVCgoKCk9Pnt0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIil9KSx0aGlzLnNldFRpbWVvdXRGbil9KSl9fWRvQ2xvc2UoKXt2b2lkIDAhPT10aGlzLndzJiYodGhpcy53cy5vbmVycm9yPSgpPT57fSx0aGlzLndzLmNsb3NlKCksdGhpcy53cz1udWxsKX11cmkoKXtjb25zdCB0PXRoaXMub3B0cy5zZWN1cmU/XCJ3c3NcIjpcIndzXCIsZT10aGlzLnF1ZXJ5fHx7fTtyZXR1cm4gdGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzJiYoZVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dPVMoKSksdGhpcy5zdXBwb3J0c0JpbmFyeXx8KGUuYjY0PTEpLHRoaXMuY3JlYXRlVXJpKHQsZSl9fWNvbnN0IFc9Ty5XZWJTb2NrZXR8fE8uTW96V2ViU29ja2V0O2NvbnN0IFk9e3dlYnNvY2tldDpjbGFzcyBleHRlbmRzIEt7Y3JlYXRlU29ja2V0KHQsZSxzKXtyZXR1cm4gSD9uZXcgVyh0LGUscyk6ZT9uZXcgVyh0LGUpOm5ldyBXKHQpfWRvV3JpdGUodCxlKXt0aGlzLndzLnNlbmQoZSl9fSx3ZWJ0cmFuc3BvcnQ6Y2xhc3MgZXh0ZW5kcyBMe2dldCBuYW1lKCl7cmV0dXJuXCJ3ZWJ0cmFuc3BvcnRcIn1kb09wZW4oKXt0cnl7dGhpcy5fdHJhbnNwb3J0PW5ldyBXZWJUcmFuc3BvcnQodGhpcy5jcmVhdGVVcmkoXCJodHRwc1wiKSx0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0aGlzLm5hbWVdKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLHQpfXRoaXMuX3RyYW5zcG9ydC5jbG9zZWQudGhlbigoKCk9Pnt0aGlzLm9uQ2xvc2UoKX0pKS5jYXRjaCgodD0+e3RoaXMub25FcnJvcihcIndlYnRyYW5zcG9ydCBlcnJvclwiLHQpfSkpLHRoaXMuX3RyYW5zcG9ydC5yZWFkeS50aGVuKCgoKT0+e3RoaXMuX3RyYW5zcG9ydC5jcmVhdGVCaWRpcmVjdGlvbmFsU3RyZWFtKCkudGhlbigodD0+e2NvbnN0IGU9ZnVuY3Rpb24odCxlKXt3fHwodz1uZXcgVGV4dERlY29kZXIpO2NvbnN0IHM9W107bGV0IG49MCxpPS0xLG89ITE7cmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybShhLGgpe2ZvcihzLnB1c2goYSk7Oyl7aWYoMD09PW4pe2lmKGsocyk8MSlicmVhaztjb25zdCB0PUUocywxKTtvPSEoMTI4Jn50WzBdKSxpPTEyNyZ0WzBdLG49aTwxMjY/MzoxMjY9PT1pPzE6Mn1lbHNlIGlmKDE9PT1uKXtpZihrKHMpPDIpYnJlYWs7Y29uc3QgdD1FKHMsMik7aT1uZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQubGVuZ3RoKS5nZXRVaW50MTYoMCksbj0zfWVsc2UgaWYoMj09PW4pe2lmKGsocyk8OClicmVhaztjb25zdCB0PUUocyw4KSxlPW5ldyBEYXRhVmlldyh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5sZW5ndGgpLG89ZS5nZXRVaW50MzIoMCk7aWYobz5NYXRoLnBvdygyLDIxKS0xKXtoLmVucXVldWUocik7YnJlYWt9aT1vKk1hdGgucG93KDIsMzIpK2UuZ2V0VWludDMyKDQpLG49M31lbHNle2lmKGsocyk8aSlicmVhaztjb25zdCB0PUUocyxpKTtoLmVucXVldWUoZyhvP3Q6dy5kZWNvZGUodCksZSkpLG49MH1pZigwPT09aXx8aT50KXtoLmVucXVldWUocik7YnJlYWt9fX19KX0oTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSkscz10LnJlYWRhYmxlLnBpcGVUaHJvdWdoKGUpLmdldFJlYWRlcigpLG49digpO24ucmVhZGFibGUucGlwZVRvKHQud3JpdGFibGUpLHRoaXMuX3dyaXRlcj1uLndyaXRhYmxlLmdldFdyaXRlcigpO2NvbnN0IGk9KCk9PntzLnJlYWQoKS50aGVuKCgoe2RvbmU6dCx2YWx1ZTplfSk9Pnt0fHwodGhpcy5vblBhY2tldChlKSxpKCkpfSkpLmNhdGNoKCh0PT57fSkpfTtpKCk7Y29uc3Qgbz17dHlwZTpcIm9wZW5cIn07dGhpcy5xdWVyeS5zaWQmJihvLmRhdGE9YHtcInNpZFwiOlwiJHt0aGlzLnF1ZXJ5LnNpZH1cIn1gKSx0aGlzLl93cml0ZXIud3JpdGUobykudGhlbigoKCk9PnRoaXMub25PcGVuKCkpKX0pKX0pKX13cml0ZSh0KXt0aGlzLndyaXRhYmxlPSExO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBzPXRbZV0sbj1lPT09dC5sZW5ndGgtMTt0aGlzLl93cml0ZXIud3JpdGUocykudGhlbigoKCk9PntuJiZUKCgoKT0+e3RoaXMud3JpdGFibGU9ITAsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKX0pLHRoaXMuc2V0VGltZW91dEZuKX0pKX19ZG9DbG9zZSgpe3ZhciB0O251bGw9PT0odD10aGlzLl90cmFuc3BvcnQpfHx2b2lkIDA9PT10fHx0LmNsb3NlKCl9fSxwb2xsaW5nOmNsYXNzIGV4dGVuZHMgVXtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQmJnQuZm9yY2VCYXNlNjQ7dGhpcy5zdXBwb3J0c0JpbmFyeT1NJiYhZX1yZXF1ZXN0KHQ9e30pe3JldHVybiBPYmplY3QuYXNzaWduKHQse3hkOnRoaXMueGR9LHRoaXMub3B0cyksbmV3IEkoVix0aGlzLnVyaSgpLHQpfX19LHo9L14oPzooPyFbXjpAXFwvPyNdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXFwvPyNdKikoPzo6KFteOkBcXC8/I10qKSk/KT9AKT8oKD86W2EtZjAtOV17MCw0fTopezIsN31bYS1mMC05XXswLDR9fFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sSj1bXCJzb3VyY2VcIixcInByb3RvY29sXCIsXCJhdXRob3JpdHlcIixcInVzZXJJbmZvXCIsXCJ1c2VyXCIsXCJwYXNzd29yZFwiLFwiaG9zdFwiLFwicG9ydFwiLFwicmVsYXRpdmVcIixcInBhdGhcIixcImRpcmVjdG9yeVwiLFwiZmlsZVwiLFwicXVlcnlcIixcImFuY2hvclwiXTtmdW5jdGlvbiAkKHQpe2lmKHQubGVuZ3RoPjhlMyl0aHJvd1wiVVJJIHRvbyBsb25nXCI7Y29uc3QgZT10LHM9dC5pbmRleE9mKFwiW1wiKSxuPXQuaW5kZXhPZihcIl1cIik7LTEhPXMmJi0xIT1uJiYodD10LnN1YnN0cmluZygwLHMpK3Quc3Vic3RyaW5nKHMsbikucmVwbGFjZSgvOi9nLFwiO1wiKSt0LnN1YnN0cmluZyhuLHQubGVuZ3RoKSk7bGV0IGk9ei5leGVjKHR8fFwiXCIpLHI9e30sbz0xNDtmb3IoO28tLTspcltKW29dXT1pW29dfHxcIlwiO3JldHVybi0xIT1zJiYtMSE9biYmKHIuc291cmNlPWUsci5ob3N0PXIuaG9zdC5zdWJzdHJpbmcoMSxyLmhvc3QubGVuZ3RoLTEpLnJlcGxhY2UoLzsvZyxcIjpcIiksci5hdXRob3JpdHk9ci5hdXRob3JpdHkucmVwbGFjZShcIltcIixcIlwiKS5yZXBsYWNlKFwiXVwiLFwiXCIpLnJlcGxhY2UoLzsvZyxcIjpcIiksci5pcHY2dXJpPSEwKSxyLnBhdGhOYW1lcz1mdW5jdGlvbih0LGUpe2NvbnN0IHM9L1xcL3syLDl9L2csbj1lLnJlcGxhY2UocyxcIi9cIikuc3BsaXQoXCIvXCIpO1wiL1wiIT1lLnNsaWNlKDAsMSkmJjAhPT1lLmxlbmd0aHx8bi5zcGxpY2UoMCwxKTtcIi9cIj09ZS5zbGljZSgtMSkmJm4uc3BsaWNlKG4ubGVuZ3RoLTEsMSk7cmV0dXJuIG59KDAsci5wYXRoKSxyLnF1ZXJ5S2V5PWZ1bmN0aW9uKHQsZSl7Y29uc3Qgcz17fTtyZXR1cm4gZS5yZXBsYWNlKC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZywoZnVuY3Rpb24odCxlLG4pe2UmJihzW2VdPW4pfSkpLHN9KDAsci5xdWVyeSkscn1jb25zdCBRPVwiZnVuY3Rpb25cIj09dHlwZW9mIGFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHJlbW92ZUV2ZW50TGlzdGVuZXIsWD1bXTtRJiZhZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgoKT0+e1guZm9yRWFjaCgodD0+dCgpKSl9KSwhMSk7Y2xhc3MgRyBleHRlbmRzIEF7Y29uc3RydWN0b3IodCxlKXtpZihzdXBlcigpLHRoaXMuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy53cml0ZUJ1ZmZlcj1bXSx0aGlzLl9wcmV2QnVmZmVyTGVuPTAsdGhpcy5fcGluZ0ludGVydmFsPS0xLHRoaXMuX3BpbmdUaW1lb3V0PS0xLHRoaXMuX21heFBheWxvYWQ9LTEsdGhpcy5fcGluZ1RpbWVvdXRUaW1lPTEvMCx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKGU9dCx0PW51bGwpLHQpe2NvbnN0IHM9JCh0KTtlLmhvc3RuYW1lPXMuaG9zdCxlLnNlY3VyZT1cImh0dHBzXCI9PT1zLnByb3RvY29sfHxcIndzc1wiPT09cy5wcm90b2NvbCxlLnBvcnQ9cy5wb3J0LHMucXVlcnkmJihlLnF1ZXJ5PXMucXVlcnkpfWVsc2UgZS5ob3N0JiYoZS5ob3N0bmFtZT0kKGUuaG9zdCkuaG9zdCk7eCh0aGlzLGUpLHRoaXMuc2VjdXJlPW51bGwhPWUuc2VjdXJlP2Uuc2VjdXJlOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmXCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sLGUuaG9zdG5hbWUmJiFlLnBvcnQmJihlLnBvcnQ9dGhpcy5zZWN1cmU/XCI0NDNcIjpcIjgwXCIpLHRoaXMuaG9zdG5hbWU9ZS5ob3N0bmFtZXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbj9sb2NhdGlvbi5ob3N0bmFtZTpcImxvY2FsaG9zdFwiKSx0aGlzLnBvcnQ9ZS5wb3J0fHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5wb3J0P2xvY2F0aW9uLnBvcnQ6dGhpcy5zZWN1cmU/XCI0NDNcIjpcIjgwXCIpLHRoaXMudHJhbnNwb3J0cz1bXSx0aGlzLl90cmFuc3BvcnRzQnlOYW1lPXt9LGUudHJhbnNwb3J0cy5mb3JFYWNoKCh0PT57Y29uc3QgZT10LnByb3RvdHlwZS5uYW1lO3RoaXMudHJhbnNwb3J0cy5wdXNoKGUpLHRoaXMuX3RyYW5zcG9ydHNCeU5hbWVbZV09dH0pKSx0aGlzLm9wdHM9T2JqZWN0LmFzc2lnbih7cGF0aDpcIi9lbmdpbmUuaW9cIixhZ2VudDohMSx3aXRoQ3JlZGVudGlhbHM6ITEsdXBncmFkZTohMCx0aW1lc3RhbXBQYXJhbTpcInRcIixyZW1lbWJlclVwZ3JhZGU6ITEsYWRkVHJhaWxpbmdTbGFzaDohMCxyZWplY3RVbmF1dGhvcml6ZWQ6ITAscGVyTWVzc2FnZURlZmxhdGU6e3RocmVzaG9sZDoxMDI0fSx0cmFuc3BvcnRPcHRpb25zOnt9LGNsb3NlT25CZWZvcmV1bmxvYWQ6ITF9LGUpLHRoaXMub3B0cy5wYXRoPXRoaXMub3B0cy5wYXRoLnJlcGxhY2UoL1xcLyQvLFwiXCIpKyh0aGlzLm9wdHMuYWRkVHJhaWxpbmdTbGFzaD9cIi9cIjpcIlwiKSxcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5vcHRzLnF1ZXJ5JiYodGhpcy5vcHRzLnF1ZXJ5PWZ1bmN0aW9uKHQpe2xldCBlPXt9LHM9dC5zcGxpdChcIiZcIik7Zm9yKGxldCB0PTAsbj1zLmxlbmd0aDt0PG47dCsrKXtsZXQgbj1zW3RdLnNwbGl0KFwiPVwiKTtlW2RlY29kZVVSSUNvbXBvbmVudChuWzBdKV09ZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0pfXJldHVybiBlfSh0aGlzLm9wdHMucXVlcnkpKSxRJiYodGhpcy5vcHRzLmNsb3NlT25CZWZvcmV1bmxvYWQmJih0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyPSgpPT57dGhpcy50cmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnRyYW5zcG9ydC5jbG9zZSgpKX0sYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsITEpKSxcImxvY2FsaG9zdFwiIT09dGhpcy5ob3N0bmFtZSYmKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyPSgpPT57dGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLHtkZXNjcmlwdGlvbjpcIm5ldHdvcmsgY29ubmVjdGlvbiBsb3N0XCJ9KX0sWC5wdXNoKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKSkpLHRoaXMub3B0cy53aXRoQ3JlZGVudGlhbHMmJih0aGlzLl9jb29raWVKYXI9dm9pZCAwKSx0aGlzLl9vcGVuKCl9Y3JlYXRlVHJhbnNwb3J0KHQpe2NvbnN0IGU9T2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdHMucXVlcnkpO2UuRUlPPTQsZS50cmFuc3BvcnQ9dCx0aGlzLmlkJiYoZS5zaWQ9dGhpcy5pZCk7Y29uc3Qgcz1PYmplY3QuYXNzaWduKHt9LHRoaXMub3B0cyx7cXVlcnk6ZSxzb2NrZXQ6dGhpcyxob3N0bmFtZTp0aGlzLmhvc3RuYW1lLHNlY3VyZTp0aGlzLnNlY3VyZSxwb3J0OnRoaXMucG9ydH0sdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbdF0pO3JldHVybiBuZXcgdGhpcy5fdHJhbnNwb3J0c0J5TmFtZVt0XShzKX1fb3Blbigpe2lmKDA9PT10aGlzLnRyYW5zcG9ydHMubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuc2V0VGltZW91dEZuKCgoKT0+e3RoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIixcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpfSksMCk7Y29uc3QgdD10aGlzLm9wdHMucmVtZW1iZXJVcGdyYWRlJiZHLnByaW9yV2Vic29ja2V0U3VjY2VzcyYmLTEhPT10aGlzLnRyYW5zcG9ydHMuaW5kZXhPZihcIndlYnNvY2tldFwiKT9cIndlYnNvY2tldFwiOnRoaXMudHJhbnNwb3J0c1swXTt0aGlzLnJlYWR5U3RhdGU9XCJvcGVuaW5nXCI7Y29uc3QgZT10aGlzLmNyZWF0ZVRyYW5zcG9ydCh0KTtlLm9wZW4oKSx0aGlzLnNldFRyYW5zcG9ydChlKX1zZXRUcmFuc3BvcnQodCl7dGhpcy50cmFuc3BvcnQmJnRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0PXQsdC5vbihcImRyYWluXCIsdGhpcy5fb25EcmFpbi5iaW5kKHRoaXMpKS5vbihcInBhY2tldFwiLHRoaXMuX29uUGFja2V0LmJpbmQodGhpcykpLm9uKFwiZXJyb3JcIix0aGlzLl9vbkVycm9yLmJpbmQodGhpcykpLm9uKFwiY2xvc2VcIiwodD0+dGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBjbG9zZVwiLHQpKSl9b25PcGVuKCl7dGhpcy5yZWFkeVN0YXRlPVwib3BlblwiLEcucHJpb3JXZWJzb2NrZXRTdWNjZXNzPVwid2Vic29ja2V0XCI9PT10aGlzLnRyYW5zcG9ydC5uYW1lLHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKSx0aGlzLmZsdXNoKCl9X29uUGFja2V0KHQpe2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpc3dpdGNoKHRoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsdCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJoZWFydGJlYXRcIiksdC50eXBlKXtjYXNlXCJvcGVuXCI6dGhpcy5vbkhhbmRzaGFrZShKU09OLnBhcnNlKHQuZGF0YSkpO2JyZWFrO2Nhc2VcInBpbmdcIjp0aGlzLl9zZW5kUGFja2V0KFwicG9uZ1wiKSx0aGlzLmVtaXRSZXNlcnZlZChcInBpbmdcIiksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb25nXCIpLHRoaXMuX3Jlc2V0UGluZ1RpbWVvdXQoKTticmVhaztjYXNlXCJlcnJvclwiOmNvbnN0IGU9bmV3IEVycm9yKFwic2VydmVyIGVycm9yXCIpO2UuY29kZT10LmRhdGEsdGhpcy5fb25FcnJvcihlKTticmVhaztjYXNlXCJtZXNzYWdlXCI6dGhpcy5lbWl0UmVzZXJ2ZWQoXCJkYXRhXCIsdC5kYXRhKSx0aGlzLmVtaXRSZXNlcnZlZChcIm1lc3NhZ2VcIix0LmRhdGEpfX1vbkhhbmRzaGFrZSh0KXt0aGlzLmVtaXRSZXNlcnZlZChcImhhbmRzaGFrZVwiLHQpLHRoaXMuaWQ9dC5zaWQsdGhpcy50cmFuc3BvcnQucXVlcnkuc2lkPXQuc2lkLHRoaXMuX3BpbmdJbnRlcnZhbD10LnBpbmdJbnRlcnZhbCx0aGlzLl9waW5nVGltZW91dD10LnBpbmdUaW1lb3V0LHRoaXMuX21heFBheWxvYWQ9dC5tYXhQYXlsb2FkLHRoaXMub25PcGVuKCksXCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5fcmVzZXRQaW5nVGltZW91dCgpfV9yZXNldFBpbmdUaW1lb3V0KCl7dGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLl9waW5nVGltZW91dFRpbWVyKTtjb25zdCB0PXRoaXMuX3BpbmdJbnRlcnZhbCt0aGlzLl9waW5nVGltZW91dDt0aGlzLl9waW5nVGltZW91dFRpbWU9RGF0ZS5ub3coKSt0LHRoaXMuX3BpbmdUaW1lb3V0VGltZXI9dGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57dGhpcy5fb25DbG9zZShcInBpbmcgdGltZW91dFwiKX0pLHQpLHRoaXMub3B0cy5hdXRvVW5yZWYmJnRoaXMuX3BpbmdUaW1lb3V0VGltZXIudW5yZWYoKX1fb25EcmFpbigpe3RoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsdGhpcy5fcHJldkJ1ZmZlckxlbiksdGhpcy5fcHJldkJ1ZmZlckxlbj0wLDA9PT10aGlzLndyaXRlQnVmZmVyLmxlbmd0aD90aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpOnRoaXMuZmx1c2goKX1mbHVzaCgpe2lmKFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMudHJhbnNwb3J0LndyaXRhYmxlJiYhdGhpcy51cGdyYWRpbmcmJnRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKXtjb25zdCB0PXRoaXMuX2dldFdyaXRhYmxlUGFja2V0cygpO3RoaXMudHJhbnNwb3J0LnNlbmQodCksdGhpcy5fcHJldkJ1ZmZlckxlbj10Lmxlbmd0aCx0aGlzLmVtaXRSZXNlcnZlZChcImZsdXNoXCIpfX1fZ2V0V3JpdGFibGVQYWNrZXRzKCl7aWYoISh0aGlzLl9tYXhQYXlsb2FkJiZcInBvbGxpbmdcIj09PXRoaXMudHJhbnNwb3J0Lm5hbWUmJnRoaXMud3JpdGVCdWZmZXIubGVuZ3RoPjEpKXJldHVybiB0aGlzLndyaXRlQnVmZmVyO2xldCB0PTE7Zm9yKGxldCBzPTA7czx0aGlzLndyaXRlQnVmZmVyLmxlbmd0aDtzKyspe2NvbnN0IG49dGhpcy53cml0ZUJ1ZmZlcltzXS5kYXRhO2lmKG4mJih0Kz1cInN0cmluZ1wiPT10eXBlb2YoZT1uKT9mdW5jdGlvbih0KXtsZXQgZT0wLHM9MDtmb3IobGV0IG49MCxpPXQubGVuZ3RoO248aTtuKyspZT10LmNoYXJDb2RlQXQobiksZTwxMjg/cys9MTplPDIwNDg/cys9MjplPDU1Mjk2fHxlPj01NzM0ND9zKz0zOihuKysscys9NCk7cmV0dXJuIHN9KGUpOk1hdGguY2VpbCgxLjMzKihlLmJ5dGVMZW5ndGh8fGUuc2l6ZSkpKSxzPjAmJnQ+dGhpcy5fbWF4UGF5bG9hZClyZXR1cm4gdGhpcy53cml0ZUJ1ZmZlci5zbGljZSgwLHMpO3QrPTJ9dmFyIGU7cmV0dXJuIHRoaXMud3JpdGVCdWZmZXJ9X2hhc1BpbmdFeHBpcmVkKCl7aWYoIXRoaXMuX3BpbmdUaW1lb3V0VGltZSlyZXR1cm4hMDtjb25zdCB0PURhdGUubm93KCk+dGhpcy5fcGluZ1RpbWVvdXRUaW1lO3JldHVybiB0JiYodGhpcy5fcGluZ1RpbWVvdXRUaW1lPTAsVCgoKCk9Pnt0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpfSksdGhpcy5zZXRUaW1lb3V0Rm4pKSx0fXdyaXRlKHQsZSxzKXtyZXR1cm4gdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIix0LGUscyksdGhpc31zZW5kKHQsZSxzKXtyZXR1cm4gdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIix0LGUscyksdGhpc31fc2VuZFBhY2tldCh0LGUscyxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYobj1lLGU9dm9pZCAwKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYobj1zLHM9bnVsbCksXCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2VkXCI9PT10aGlzLnJlYWR5U3RhdGUpcmV0dXJuOyhzPXN8fHt9KS5jb21wcmVzcz0hMSE9PXMuY29tcHJlc3M7Y29uc3QgaT17dHlwZTp0LGRhdGE6ZSxvcHRpb25zOnN9O3RoaXMuZW1pdFJlc2VydmVkKFwicGFja2V0Q3JlYXRlXCIsaSksdGhpcy53cml0ZUJ1ZmZlci5wdXNoKGkpLG4mJnRoaXMub25jZShcImZsdXNoXCIsbiksdGhpcy5mbHVzaCgpfWNsb3NlKCl7Y29uc3QgdD0oKT0+e3RoaXMuX29uQ2xvc2UoXCJmb3JjZWQgY2xvc2VcIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKX0sZT0oKT0+e3RoaXMub2ZmKFwidXBncmFkZVwiLGUpLHRoaXMub2ZmKFwidXBncmFkZUVycm9yXCIsZSksdCgpfSxzPSgpPT57dGhpcy5vbmNlKFwidXBncmFkZVwiLGUpLHRoaXMub25jZShcInVwZ3JhZGVFcnJvclwiLGUpfTtyZXR1cm5cIm9wZW5pbmdcIiE9PXRoaXMucmVhZHlTdGF0ZSYmXCJvcGVuXCIhPT10aGlzLnJlYWR5U3RhdGV8fCh0aGlzLnJlYWR5U3RhdGU9XCJjbG9zaW5nXCIsdGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5vbmNlKFwiZHJhaW5cIiwoKCk9Pnt0aGlzLnVwZ3JhZGluZz9zKCk6dCgpfSkpOnRoaXMudXBncmFkaW5nP3MoKTp0KCkpLHRoaXN9X29uRXJyb3IodCl7aWYoRy5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9ITEsdGhpcy5vcHRzLnRyeUFsbFRyYW5zcG9ydHMmJnRoaXMudHJhbnNwb3J0cy5sZW5ndGg+MSYmXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpcmV0dXJuIHRoaXMudHJhbnNwb3J0cy5zaGlmdCgpLHRoaXMuX29wZW4oKTt0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsdCksdGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBlcnJvclwiLHQpfV9vbkNsb3NlKHQsZSl7aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlfHxcImNsb3NpbmdcIj09PXRoaXMucmVhZHlTdGF0ZSl7aWYodGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLl9waW5nVGltZW91dFRpbWVyKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJjbG9zZVwiKSx0aGlzLnRyYW5zcG9ydC5jbG9zZSgpLHRoaXMudHJhbnNwb3J0LnJlbW92ZUFsbExpc3RlbmVycygpLFEmJih0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyJiZyZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciwhMSksdGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpKXtjb25zdCB0PVguaW5kZXhPZih0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lcik7LTEhPT10JiZYLnNwbGljZSh0LDEpfXRoaXMucmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMuaWQ9bnVsbCx0aGlzLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsdCxlKSx0aGlzLndyaXRlQnVmZmVyPVtdLHRoaXMuX3ByZXZCdWZmZXJMZW49MH19fUcucHJvdG9jb2w9NDtjbGFzcyBaIGV4dGVuZHMgR3tjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fdXBncmFkZXM9W119b25PcGVuKCl7aWYoc3VwZXIub25PcGVuKCksXCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGUmJnRoaXMub3B0cy51cGdyYWRlKWZvcihsZXQgdD0wO3Q8dGhpcy5fdXBncmFkZXMubGVuZ3RoO3QrKyl0aGlzLl9wcm9iZSh0aGlzLl91cGdyYWRlc1t0XSl9X3Byb2JlKHQpe2xldCBlPXRoaXMuY3JlYXRlVHJhbnNwb3J0KHQpLHM9ITE7Ry5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9ITE7Y29uc3Qgbj0oKT0+e3N8fChlLnNlbmQoW3t0eXBlOlwicGluZ1wiLGRhdGE6XCJwcm9iZVwifV0pLGUub25jZShcInBhY2tldFwiLCh0PT57aWYoIXMpaWYoXCJwb25nXCI9PT10LnR5cGUmJlwicHJvYmVcIj09PXQuZGF0YSl7aWYodGhpcy51cGdyYWRpbmc9ITAsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRpbmdcIixlKSwhZSlyZXR1cm47Ry5wcmlvcldlYnNvY2tldFN1Y2Nlc3M9XCJ3ZWJzb2NrZXRcIj09PWUubmFtZSx0aGlzLnRyYW5zcG9ydC5wYXVzZSgoKCk9PntzfHxcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiYoYygpLHRoaXMuc2V0VHJhbnNwb3J0KGUpLGUuc2VuZChbe3R5cGU6XCJ1cGdyYWRlXCJ9XSksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlXCIsZSksZT1udWxsLHRoaXMudXBncmFkaW5nPSExLHRoaXMuZmx1c2goKSl9KSl9ZWxzZXtjb25zdCB0PW5ldyBFcnJvcihcInByb2JlIGVycm9yXCIpO3QudHJhbnNwb3J0PWUubmFtZSx0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLHQpfX0pKSl9O2Z1bmN0aW9uIGkoKXtzfHwocz0hMCxjKCksZS5jbG9zZSgpLGU9bnVsbCl9Y29uc3Qgcj10PT57Y29uc3Qgcz1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvcjogXCIrdCk7cy50cmFuc3BvcnQ9ZS5uYW1lLGkoKSx0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLHMpfTtmdW5jdGlvbiBvKCl7cihcInRyYW5zcG9ydCBjbG9zZWRcIil9ZnVuY3Rpb24gYSgpe3IoXCJzb2NrZXQgY2xvc2VkXCIpfWZ1bmN0aW9uIGgodCl7ZSYmdC5uYW1lIT09ZS5uYW1lJiZpKCl9Y29uc3QgYz0oKT0+e2UucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsbiksZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsciksZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsbyksdGhpcy5vZmYoXCJjbG9zZVwiLGEpLHRoaXMub2ZmKFwidXBncmFkaW5nXCIsaCl9O2Uub25jZShcIm9wZW5cIixuKSxlLm9uY2UoXCJlcnJvclwiLHIpLGUub25jZShcImNsb3NlXCIsbyksdGhpcy5vbmNlKFwiY2xvc2VcIixhKSx0aGlzLm9uY2UoXCJ1cGdyYWRpbmdcIixoKSwtMSE9PXRoaXMuX3VwZ3JhZGVzLmluZGV4T2YoXCJ3ZWJ0cmFuc3BvcnRcIikmJlwid2VidHJhbnNwb3J0XCIhPT10P3RoaXMuc2V0VGltZW91dEZuKCgoKT0+e3N8fGUub3BlbigpfSksMjAwKTplLm9wZW4oKX1vbkhhbmRzaGFrZSh0KXt0aGlzLl91cGdyYWRlcz10aGlzLl9maWx0ZXJVcGdyYWRlcyh0LnVwZ3JhZGVzKSxzdXBlci5vbkhhbmRzaGFrZSh0KX1fZmlsdGVyVXBncmFkZXModCl7Y29uc3QgZT1bXTtmb3IobGV0IHM9MDtzPHQubGVuZ3RoO3MrKyl+dGhpcy50cmFuc3BvcnRzLmluZGV4T2YodFtzXSkmJmUucHVzaCh0W3NdKTtyZXR1cm4gZX19bGV0IHR0PWNsYXNzIGV4dGVuZHMgWntjb25zdHJ1Y3Rvcih0LGU9e30pe2NvbnN0IHM9XCJvYmplY3RcIj09dHlwZW9mIHQ/dDplOyghcy50cmFuc3BvcnRzfHxzLnRyYW5zcG9ydHMmJlwic3RyaW5nXCI9PXR5cGVvZiBzLnRyYW5zcG9ydHNbMF0pJiYocy50cmFuc3BvcnRzPShzLnRyYW5zcG9ydHN8fFtcInBvbGxpbmdcIixcIndlYnNvY2tldFwiLFwid2VidHJhbnNwb3J0XCJdKS5tYXAoKHQ9PllbdF0pKS5maWx0ZXIoKHQ9PiEhdCkpKSxzdXBlcih0LHMpfX07Y29uc3QgZXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIsc3Q9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxudD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9ifHxcInVuZGVmaW5lZFwiIT10eXBlb2YgQmxvYiYmXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIj09PXN0LmNhbGwoQmxvYiksaXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgRmlsZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZpbGUmJlwiW29iamVjdCBGaWxlQ29uc3RydWN0b3JdXCI9PT1zdC5jYWxsKEZpbGUpO2Z1bmN0aW9uIHJ0KHQpe3JldHVybiBldCYmKHQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8KHQ9PlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcodCk6dC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikodCkpfHxudCYmdCBpbnN0YW5jZW9mIEJsb2J8fGl0JiZ0IGluc3RhbmNlb2YgRmlsZX1mdW5jdGlvbiBvdCh0LGUpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IobGV0IGU9MCxzPXQubGVuZ3RoO2U8cztlKyspaWYob3QodFtlXSkpcmV0dXJuITA7cmV0dXJuITF9aWYocnQodCkpcmV0dXJuITA7aWYodC50b0pTT04mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudG9KU09OJiYxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gb3QodC50b0pTT04oKSwhMCk7Zm9yKGNvbnN0IGUgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKSYmb3QodFtlXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYXQodCl7Y29uc3QgZT1bXSxzPXQuZGF0YSxuPXQ7cmV0dXJuIG4uZGF0YT1odChzLGUpLG4uYXR0YWNobWVudHM9ZS5sZW5ndGgse3BhY2tldDpuLGJ1ZmZlcnM6ZX19ZnVuY3Rpb24gaHQodCxlKXtpZighdClyZXR1cm4gdDtpZihydCh0KSl7Y29uc3Qgcz17X3BsYWNlaG9sZGVyOiEwLG51bTplLmxlbmd0aH07cmV0dXJuIGUucHVzaCh0KSxzfWlmKEFycmF5LmlzQXJyYXkodCkpe2NvbnN0IHM9bmV3IEFycmF5KHQubGVuZ3RoKTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylzW25dPWh0KHRbbl0sZSk7cmV0dXJuIHN9aWYoXCJvYmplY3RcIj09dHlwZW9mIHQmJiEodCBpbnN0YW5jZW9mIERhdGUpKXtjb25zdCBzPXt9O2Zvcihjb25zdCBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihzW25dPWh0KHRbbl0sZSkpO3JldHVybiBzfXJldHVybiB0fWZ1bmN0aW9uIGN0KHQsZSl7cmV0dXJuIHQuZGF0YT1wdCh0LmRhdGEsZSksZGVsZXRlIHQuYXR0YWNobWVudHMsdH1mdW5jdGlvbiBwdCh0LGUpe2lmKCF0KXJldHVybiB0O2lmKHQmJiEwPT09dC5fcGxhY2Vob2xkZXIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0Lm51bSYmdC5udW0+PTAmJnQubnVtPGUubGVuZ3RoKXJldHVybiBlW3QubnVtXTt0aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGF0dGFjaG1lbnRzXCIpfWlmKEFycmF5LmlzQXJyYXkodCkpZm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXT1wdCh0W3NdLGUpO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIHQpZm9yKGNvbnN0IHMgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxzKSYmKHRbc109cHQodFtzXSxlKSk7cmV0dXJuIHR9Y29uc3QgdXQ9W1wiY29ubmVjdFwiLFwiY29ubmVjdF9lcnJvclwiLFwiZGlzY29ubmVjdFwiLFwiZGlzY29ubmVjdGluZ1wiLFwibmV3TGlzdGVuZXJcIixcInJlbW92ZUxpc3RlbmVyXCJdO3ZhciBkdDshZnVuY3Rpb24odCl7dFt0LkNPTk5FQ1Q9MF09XCJDT05ORUNUXCIsdFt0LkRJU0NPTk5FQ1Q9MV09XCJESVNDT05ORUNUXCIsdFt0LkVWRU5UPTJdPVwiRVZFTlRcIix0W3QuQUNLPTNdPVwiQUNLXCIsdFt0LkNPTk5FQ1RfRVJST1I9NF09XCJDT05ORUNUX0VSUk9SXCIsdFt0LkJJTkFSWV9FVkVOVD01XT1cIkJJTkFSWV9FVkVOVFwiLHRbdC5CSU5BUllfQUNLPTZdPVwiQklOQVJZX0FDS1wifShkdHx8KGR0PXt9KSk7ZnVuY3Rpb24gbHQodCl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KX1jbGFzcyBmdCBleHRlbmRzIEF7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnJldml2ZXI9dH1hZGQodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKHRoaXMucmVjb25zdHJ1Y3Rvcil0aHJvdyBuZXcgRXJyb3IoXCJnb3QgcGxhaW50ZXh0IGRhdGEgd2hlbiByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtlPXRoaXMuZGVjb2RlU3RyaW5nKHQpO2NvbnN0IHM9ZS50eXBlPT09ZHQuQklOQVJZX0VWRU5UO3N8fGUudHlwZT09PWR0LkJJTkFSWV9BQ0s/KGUudHlwZT1zP2R0LkVWRU5UOmR0LkFDSyx0aGlzLnJlY29uc3RydWN0b3I9bmV3IHl0KGUpLDA9PT1lLmF0dGFjaG1lbnRzJiZzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsZSkpOnN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIixlKX1lbHNle2lmKCFydCh0KSYmIXQuYmFzZTY0KXRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZTogXCIrdCk7aWYoIXRoaXMucmVjb25zdHJ1Y3Rvcil0aHJvdyBuZXcgRXJyb3IoXCJnb3QgYmluYXJ5IGRhdGEgd2hlbiBub3QgcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7ZT10aGlzLnJlY29uc3RydWN0b3IudGFrZUJpbmFyeURhdGEodCksZSYmKHRoaXMucmVjb25zdHJ1Y3Rvcj1udWxsLHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIixlKSl9fWRlY29kZVN0cmluZyh0KXtsZXQgZT0wO2NvbnN0IHM9e3R5cGU6TnVtYmVyKHQuY2hhckF0KDApKX07aWYodm9pZCAwPT09ZHRbcy50eXBlXSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmtub3duIHBhY2tldCB0eXBlIFwiK3MudHlwZSk7aWYocy50eXBlPT09ZHQuQklOQVJZX0VWRU5UfHxzLnR5cGU9PT1kdC5CSU5BUllfQUNLKXtjb25zdCBuPWUrMTtmb3IoO1wiLVwiIT09dC5jaGFyQXQoKytlKSYmZSE9dC5sZW5ndGg7KTtjb25zdCBpPXQuc3Vic3RyaW5nKG4sZSk7aWYoaSE9TnVtYmVyKGkpfHxcIi1cIiE9PXQuY2hhckF0KGUpKXRocm93IG5ldyBFcnJvcihcIklsbGVnYWwgYXR0YWNobWVudHNcIik7cy5hdHRhY2htZW50cz1OdW1iZXIoaSl9aWYoXCIvXCI9PT10LmNoYXJBdChlKzEpKXtjb25zdCBuPWUrMTtmb3IoOysrZTspe2lmKFwiLFwiPT09dC5jaGFyQXQoZSkpYnJlYWs7aWYoZT09PXQubGVuZ3RoKWJyZWFrfXMubnNwPXQuc3Vic3RyaW5nKG4sZSl9ZWxzZSBzLm5zcD1cIi9cIjtjb25zdCBuPXQuY2hhckF0KGUrMSk7aWYoXCJcIiE9PW4mJk51bWJlcihuKT09bil7Y29uc3Qgbj1lKzE7Zm9yKDsrK2U7KXtjb25zdCBzPXQuY2hhckF0KGUpO2lmKG51bGw9PXN8fE51bWJlcihzKSE9cyl7LS1lO2JyZWFrfWlmKGU9PT10Lmxlbmd0aClicmVha31zLmlkPU51bWJlcih0LnN1YnN0cmluZyhuLGUrMSkpfWlmKHQuY2hhckF0KCsrZSkpe2NvbnN0IG49dGhpcy50cnlQYXJzZSh0LnN1YnN0cihlKSk7aWYoIWZ0LmlzUGF5bG9hZFZhbGlkKHMudHlwZSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBheWxvYWRcIik7cy5kYXRhPW59cmV0dXJuIHN9dHJ5UGFyc2UodCl7dHJ5e3JldHVybiBKU09OLnBhcnNlKHQsdGhpcy5yZXZpdmVyKX1jYXRjaCh0KXtyZXR1cm4hMX19c3RhdGljIGlzUGF5bG9hZFZhbGlkKHQsZSl7c3dpdGNoKHQpe2Nhc2UgZHQuQ09OTkVDVDpyZXR1cm4gbHQoZSk7Y2FzZSBkdC5ESVNDT05ORUNUOnJldHVybiB2b2lkIDA9PT1lO2Nhc2UgZHQuQ09OTkVDVF9FUlJPUjpyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8bHQoZSk7Y2FzZSBkdC5FVkVOVDpjYXNlIGR0LkJJTkFSWV9FVkVOVDpyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBlWzBdfHxcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmLTE9PT11dC5pbmRleE9mKGVbMF0pKTtjYXNlIGR0LkFDSzpjYXNlIGR0LkJJTkFSWV9BQ0s6cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9fWRlc3Ryb3koKXt0aGlzLnJlY29uc3RydWN0b3ImJih0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpLHRoaXMucmVjb25zdHJ1Y3Rvcj1udWxsKX19Y2xhc3MgeXR7Y29uc3RydWN0b3IodCl7dGhpcy5wYWNrZXQ9dCx0aGlzLmJ1ZmZlcnM9W10sdGhpcy5yZWNvblBhY2s9dH10YWtlQmluYXJ5RGF0YSh0KXtpZih0aGlzLmJ1ZmZlcnMucHVzaCh0KSx0aGlzLmJ1ZmZlcnMubGVuZ3RoPT09dGhpcy5yZWNvblBhY2suYXR0YWNobWVudHMpe2NvbnN0IHQ9Y3QodGhpcy5yZWNvblBhY2ssdGhpcy5idWZmZXJzKTtyZXR1cm4gdGhpcy5maW5pc2hlZFJlY29uc3RydWN0aW9uKCksdH1yZXR1cm4gbnVsbH1maW5pc2hlZFJlY29uc3RydWN0aW9uKCl7dGhpcy5yZWNvblBhY2s9bnVsbCx0aGlzLmJ1ZmZlcnM9W119fXZhciBndD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxEZWNvZGVyOmZ0LEVuY29kZXI6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5yZXBsYWNlcj10fWVuY29kZSh0KXtyZXR1cm4gdC50eXBlIT09ZHQuRVZFTlQmJnQudHlwZSE9PWR0LkFDS3x8IW90KHQpP1t0aGlzLmVuY29kZUFzU3RyaW5nKHQpXTp0aGlzLmVuY29kZUFzQmluYXJ5KHt0eXBlOnQudHlwZT09PWR0LkVWRU5UP2R0LkJJTkFSWV9FVkVOVDpkdC5CSU5BUllfQUNLLG5zcDp0Lm5zcCxkYXRhOnQuZGF0YSxpZDp0LmlkfSl9ZW5jb2RlQXNTdHJpbmcodCl7bGV0IGU9XCJcIit0LnR5cGU7cmV0dXJuIHQudHlwZSE9PWR0LkJJTkFSWV9FVkVOVCYmdC50eXBlIT09ZHQuQklOQVJZX0FDS3x8KGUrPXQuYXR0YWNobWVudHMrXCItXCIpLHQubnNwJiZcIi9cIiE9PXQubnNwJiYoZSs9dC5uc3ArXCIsXCIpLG51bGwhPXQuaWQmJihlKz10LmlkKSxudWxsIT10LmRhdGEmJihlKz1KU09OLnN0cmluZ2lmeSh0LmRhdGEsdGhpcy5yZXBsYWNlcikpLGV9ZW5jb2RlQXNCaW5hcnkodCl7Y29uc3QgZT1hdCh0KSxzPXRoaXMuZW5jb2RlQXNTdHJpbmcoZS5wYWNrZXQpLG49ZS5idWZmZXJzO3JldHVybiBuLnVuc2hpZnQocyksbn19LGdldCBQYWNrZXRUeXBlKCl7cmV0dXJuIGR0fSxwcm90b2NvbDo1fSk7ZnVuY3Rpb24gbXQodCxlLHMpe3JldHVybiB0Lm9uKGUscyksZnVuY3Rpb24oKXt0Lm9mZihlLHMpfX1jb25zdCBfdD1PYmplY3QuZnJlZXplKHtjb25uZWN0OjEsY29ubmVjdF9lcnJvcjoxLGRpc2Nvbm5lY3Q6MSxkaXNjb25uZWN0aW5nOjEsbmV3TGlzdGVuZXI6MSxyZW1vdmVMaXN0ZW5lcjoxfSk7Y2xhc3MgYnQgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQsZSxzKXtzdXBlcigpLHRoaXMuY29ubmVjdGVkPSExLHRoaXMucmVjb3ZlcmVkPSExLHRoaXMucmVjZWl2ZUJ1ZmZlcj1bXSx0aGlzLnNlbmRCdWZmZXI9W10sdGhpcy5fcXVldWU9W10sdGhpcy5fcXVldWVTZXE9MCx0aGlzLmlkcz0wLHRoaXMuYWNrcz17fSx0aGlzLmZsYWdzPXt9LHRoaXMuaW89dCx0aGlzLm5zcD1lLHMmJnMuYXV0aCYmKHRoaXMuYXV0aD1zLmF1dGgpLHRoaXMuX29wdHM9T2JqZWN0LmFzc2lnbih7fSxzKSx0aGlzLmlvLl9hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCl9Z2V0IGRpc2Nvbm5lY3RlZCgpe3JldHVybiF0aGlzLmNvbm5lY3RlZH1zdWJFdmVudHMoKXtpZih0aGlzLnN1YnMpcmV0dXJuO2NvbnN0IHQ9dGhpcy5pbzt0aGlzLnN1YnM9W210KHQsXCJvcGVuXCIsdGhpcy5vbm9wZW4uYmluZCh0aGlzKSksbXQodCxcInBhY2tldFwiLHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksbXQodCxcImVycm9yXCIsdGhpcy5vbmVycm9yLmJpbmQodGhpcykpLG10KHQsXCJjbG9zZVwiLHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKV19Z2V0IGFjdGl2ZSgpe3JldHVybiEhdGhpcy5zdWJzfWNvbm5lY3QoKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWR8fCh0aGlzLnN1YkV2ZW50cygpLHRoaXMuaW8uX3JlY29ubmVjdGluZ3x8dGhpcy5pby5vcGVuKCksXCJvcGVuXCI9PT10aGlzLmlvLl9yZWFkeVN0YXRlJiZ0aGlzLm9ub3BlbigpKSx0aGlzfW9wZW4oKXtyZXR1cm4gdGhpcy5jb25uZWN0KCl9c2VuZCguLi50KXtyZXR1cm4gdC51bnNoaWZ0KFwibWVzc2FnZVwiKSx0aGlzLmVtaXQuYXBwbHkodGhpcyx0KSx0aGlzfWVtaXQodCwuLi5lKXt2YXIgcyxuLGk7aWYoX3QuaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKCdcIicrdC50b1N0cmluZygpKydcIiBpcyBhIHJlc2VydmVkIGV2ZW50IG5hbWUnKTtpZihlLnVuc2hpZnQodCksdGhpcy5fb3B0cy5yZXRyaWVzJiYhdGhpcy5mbGFncy5mcm9tUXVldWUmJiF0aGlzLmZsYWdzLnZvbGF0aWxlKXJldHVybiB0aGlzLl9hZGRUb1F1ZXVlKGUpLHRoaXM7Y29uc3Qgcj17dHlwZTpkdC5FVkVOVCxkYXRhOmUsb3B0aW9uczp7fX07aWYoci5vcHRpb25zLmNvbXByZXNzPSExIT09dGhpcy5mbGFncy5jb21wcmVzcyxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdKXtjb25zdCB0PXRoaXMuaWRzKysscz1lLnBvcCgpO3RoaXMuX3JlZ2lzdGVyQWNrQ2FsbGJhY2sodCxzKSxyLmlkPXR9Y29uc3Qgbz1udWxsPT09KG49bnVsbD09PShzPXRoaXMuaW8uZW5naW5lKXx8dm9pZCAwPT09cz92b2lkIDA6cy50cmFuc3BvcnQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLndyaXRhYmxlLGE9dGhpcy5jb25uZWN0ZWQmJiEobnVsbD09PShpPXRoaXMuaW8uZW5naW5lKXx8dm9pZCAwPT09aT92b2lkIDA6aS5faGFzUGluZ0V4cGlyZWQoKSk7cmV0dXJuIHRoaXMuZmxhZ3Mudm9sYXRpbGUmJiFvfHwoYT8odGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyhyKSx0aGlzLnBhY2tldChyKSk6dGhpcy5zZW5kQnVmZmVyLnB1c2gocikpLHRoaXMuZmxhZ3M9e30sdGhpc31fcmVnaXN0ZXJBY2tDYWxsYmFjayh0LGUpe3ZhciBzO2NvbnN0IG49bnVsbCE9PShzPXRoaXMuZmxhZ3MudGltZW91dCkmJnZvaWQgMCE9PXM/czp0aGlzLl9vcHRzLmFja1RpbWVvdXQ7aWYodm9pZCAwPT09bilyZXR1cm4gdm9pZCh0aGlzLmFja3NbdF09ZSk7Y29uc3QgaT10aGlzLmlvLnNldFRpbWVvdXRGbigoKCk9PntkZWxldGUgdGhpcy5hY2tzW3RdO2ZvcihsZXQgZT0wO2U8dGhpcy5zZW5kQnVmZmVyLmxlbmd0aDtlKyspdGhpcy5zZW5kQnVmZmVyW2VdLmlkPT09dCYmdGhpcy5zZW5kQnVmZmVyLnNwbGljZShlLDEpO2UuY2FsbCh0aGlzLG5ldyBFcnJvcihcIm9wZXJhdGlvbiBoYXMgdGltZWQgb3V0XCIpKX0pLG4pLHI9KC4uLnQpPT57dGhpcy5pby5jbGVhclRpbWVvdXRGbihpKSxlLmFwcGx5KHRoaXMsdCl9O3Iud2l0aEVycm9yPSEwLHRoaXMuYWNrc1t0XT1yfWVtaXRXaXRoQWNrKHQsLi4uZSl7cmV0dXJuIG5ldyBQcm9taXNlKCgocyxuKT0+e2NvbnN0IGk9KHQsZSk9PnQ/bih0KTpzKGUpO2kud2l0aEVycm9yPSEwLGUucHVzaChpKSx0aGlzLmVtaXQodCwuLi5lKX0pKX1fYWRkVG9RdWV1ZSh0KXtsZXQgZTtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYoZT10LnBvcCgpKTtjb25zdCBzPXtpZDp0aGlzLl9xdWV1ZVNlcSsrLHRyeUNvdW50OjAscGVuZGluZzohMSxhcmdzOnQsZmxhZ3M6T2JqZWN0LmFzc2lnbih7ZnJvbVF1ZXVlOiEwfSx0aGlzLmZsYWdzKX07dC5wdXNoKCgodCwuLi5uKT0+e2lmKHMhPT10aGlzLl9xdWV1ZVswXSlyZXR1cm47cmV0dXJuIG51bGwhPT10P3MudHJ5Q291bnQ+dGhpcy5fb3B0cy5yZXRyaWVzJiYodGhpcy5fcXVldWUuc2hpZnQoKSxlJiZlKHQpKToodGhpcy5fcXVldWUuc2hpZnQoKSxlJiZlKG51bGwsLi4ubikpLHMucGVuZGluZz0hMSx0aGlzLl9kcmFpblF1ZXVlKCl9KSksdGhpcy5fcXVldWUucHVzaChzKSx0aGlzLl9kcmFpblF1ZXVlKCl9X2RyYWluUXVldWUodD0hMSl7aWYoIXRoaXMuY29ubmVjdGVkfHwwPT09dGhpcy5fcXVldWUubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMuX3F1ZXVlWzBdO2UucGVuZGluZyYmIXR8fChlLnBlbmRpbmc9ITAsZS50cnlDb3VudCsrLHRoaXMuZmxhZ3M9ZS5mbGFncyx0aGlzLmVtaXQuYXBwbHkodGhpcyxlLmFyZ3MpKX1wYWNrZXQodCl7dC5uc3A9dGhpcy5uc3AsdGhpcy5pby5fcGFja2V0KHQpfW9ub3Blbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuYXV0aD90aGlzLmF1dGgoKHQ9Pnt0aGlzLl9zZW5kQ29ubmVjdFBhY2tldCh0KX0pKTp0aGlzLl9zZW5kQ29ubmVjdFBhY2tldCh0aGlzLmF1dGgpfV9zZW5kQ29ubmVjdFBhY2tldCh0KXt0aGlzLnBhY2tldCh7dHlwZTpkdC5DT05ORUNULGRhdGE6dGhpcy5fcGlkP09iamVjdC5hc3NpZ24oe3BpZDp0aGlzLl9waWQsb2Zmc2V0OnRoaXMuX2xhc3RPZmZzZXR9LHQpOnR9KX1vbmVycm9yKHQpe3RoaXMuY29ubmVjdGVkfHx0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIix0KX1vbmNsb3NlKHQsZSl7dGhpcy5jb25uZWN0ZWQ9ITEsZGVsZXRlIHRoaXMuaWQsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsdCxlKSx0aGlzLl9jbGVhckFja3MoKX1fY2xlYXJBY2tzKCl7T2JqZWN0LmtleXModGhpcy5hY2tzKS5mb3JFYWNoKCh0PT57aWYoIXRoaXMuc2VuZEJ1ZmZlci5zb21lKChlPT5TdHJpbmcoZS5pZCk9PT10KSkpe2NvbnN0IGU9dGhpcy5hY2tzW3RdO2RlbGV0ZSB0aGlzLmFja3NbdF0sZS53aXRoRXJyb3ImJmUuY2FsbCh0aGlzLG5ldyBFcnJvcihcInNvY2tldCBoYXMgYmVlbiBkaXNjb25uZWN0ZWRcIikpfX0pKX1vbnBhY2tldCh0KXtpZih0Lm5zcD09PXRoaXMubnNwKXN3aXRjaCh0LnR5cGUpe2Nhc2UgZHQuQ09OTkVDVDp0LmRhdGEmJnQuZGF0YS5zaWQ/dGhpcy5vbmNvbm5lY3QodC5kYXRhLnNpZCx0LmRhdGEucGlkKTp0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIixuZXcgRXJyb3IoXCJJdCBzZWVtcyB5b3UgYXJlIHRyeWluZyB0byByZWFjaCBhIFNvY2tldC5JTyBzZXJ2ZXIgaW4gdjIueCB3aXRoIGEgdjMueCBjbGllbnQsIGJ1dCB0aGV5IGFyZSBub3QgY29tcGF0aWJsZSAobW9yZSBpbmZvcm1hdGlvbiBoZXJlOiBodHRwczovL3NvY2tldC5pby9kb2NzL3YzL21pZ3JhdGluZy1mcm9tLTIteC10by0zLTAvKVwiKSk7YnJlYWs7Y2FzZSBkdC5FVkVOVDpjYXNlIGR0LkJJTkFSWV9FVkVOVDp0aGlzLm9uZXZlbnQodCk7YnJlYWs7Y2FzZSBkdC5BQ0s6Y2FzZSBkdC5CSU5BUllfQUNLOnRoaXMub25hY2sodCk7YnJlYWs7Y2FzZSBkdC5ESVNDT05ORUNUOnRoaXMub25kaXNjb25uZWN0KCk7YnJlYWs7Y2FzZSBkdC5DT05ORUNUX0VSUk9SOnRoaXMuZGVzdHJveSgpO2NvbnN0IGU9bmV3IEVycm9yKHQuZGF0YS5tZXNzYWdlKTtlLmRhdGE9dC5kYXRhLmRhdGEsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsZSl9fW9uZXZlbnQodCl7Y29uc3QgZT10LmRhdGF8fFtdO251bGwhPXQuaWQmJmUucHVzaCh0aGlzLmFjayh0LmlkKSksdGhpcy5jb25uZWN0ZWQ/dGhpcy5lbWl0RXZlbnQoZSk6dGhpcy5yZWNlaXZlQnVmZmVyLnB1c2goT2JqZWN0LmZyZWV6ZShlKSl9ZW1pdEV2ZW50KHQpe2lmKHRoaXMuX2FueUxpc3RlbmVycyYmdGhpcy5fYW55TGlzdGVuZXJzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9hbnlMaXN0ZW5lcnMuc2xpY2UoKTtmb3IoY29uc3QgcyBvZiBlKXMuYXBwbHkodGhpcyx0KX1zdXBlci5lbWl0LmFwcGx5KHRoaXMsdCksdGhpcy5fcGlkJiZ0Lmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJih0aGlzLl9sYXN0T2Zmc2V0PXRbdC5sZW5ndGgtMV0pfWFjayh0KXtjb25zdCBlPXRoaXM7bGV0IHM9ITE7cmV0dXJuIGZ1bmN0aW9uKC4uLm4pe3N8fChzPSEwLGUucGFja2V0KHt0eXBlOmR0LkFDSyxpZDp0LGRhdGE6bn0pKX19b25hY2sodCl7Y29uc3QgZT10aGlzLmFja3NbdC5pZF07XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGRlbGV0ZSB0aGlzLmFja3NbdC5pZF0sZS53aXRoRXJyb3ImJnQuZGF0YS51bnNoaWZ0KG51bGwpLGUuYXBwbHkodGhpcyx0LmRhdGEpKX1vbmNvbm5lY3QodCxlKXt0aGlzLmlkPXQsdGhpcy5yZWNvdmVyZWQ9ZSYmdGhpcy5fcGlkPT09ZSx0aGlzLl9waWQ9ZSx0aGlzLmNvbm5lY3RlZD0hMCx0aGlzLmVtaXRCdWZmZXJlZCgpLHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdFwiKSx0aGlzLl9kcmFpblF1ZXVlKCEwKX1lbWl0QnVmZmVyZWQoKXt0aGlzLnJlY2VpdmVCdWZmZXIuZm9yRWFjaCgodD0+dGhpcy5lbWl0RXZlbnQodCkpKSx0aGlzLnJlY2VpdmVCdWZmZXI9W10sdGhpcy5zZW5kQnVmZmVyLmZvckVhY2goKHQ9Pnt0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHQpLHRoaXMucGFja2V0KHQpfSkpLHRoaXMuc2VuZEJ1ZmZlcj1bXX1vbmRpc2Nvbm5lY3QoKXt0aGlzLmRlc3Ryb3koKSx0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKX1kZXN0cm95KCl7dGhpcy5zdWJzJiYodGhpcy5zdWJzLmZvckVhY2goKHQ9PnQoKSkpLHRoaXMuc3Vicz12b2lkIDApLHRoaXMuaW8uX2Rlc3Ryb3kodGhpcyl9ZGlzY29ubmVjdCgpe3JldHVybiB0aGlzLmNvbm5lY3RlZCYmdGhpcy5wYWNrZXQoe3R5cGU6ZHQuRElTQ09OTkVDVH0pLHRoaXMuZGVzdHJveSgpLHRoaXMuY29ubmVjdGVkJiZ0aGlzLm9uY2xvc2UoXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiKSx0aGlzfWNsb3NlKCl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdCgpfWNvbXByZXNzKHQpe3JldHVybiB0aGlzLmZsYWdzLmNvbXByZXNzPXQsdGhpc31nZXQgdm9sYXRpbGUoKXtyZXR1cm4gdGhpcy5mbGFncy52b2xhdGlsZT0hMCx0aGlzfXRpbWVvdXQodCl7cmV0dXJuIHRoaXMuZmxhZ3MudGltZW91dD10LHRoaXN9b25BbnkodCl7cmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycz10aGlzLl9hbnlMaXN0ZW5lcnN8fFtdLHRoaXMuX2FueUxpc3RlbmVycy5wdXNoKHQpLHRoaXN9cHJlcGVuZEFueSh0KXtyZXR1cm4gdGhpcy5fYW55TGlzdGVuZXJzPXRoaXMuX2FueUxpc3RlbmVyc3x8W10sdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQodCksdGhpc31vZmZBbnkodCl7aWYoIXRoaXMuX2FueUxpc3RlbmVycylyZXR1cm4gdGhpcztpZih0KXtjb25zdCBlPXRoaXMuX2FueUxpc3RlbmVycztmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKylpZih0PT09ZVtzXSlyZXR1cm4gZS5zcGxpY2UocywxKSx0aGlzfWVsc2UgdGhpcy5fYW55TGlzdGVuZXJzPVtdO3JldHVybiB0aGlzfWxpc3RlbmVyc0FueSgpe3JldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnN8fFtdfW9uQW55T3V0Z29pbmcodCl7cmV0dXJuIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzPXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzfHxbXSx0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5wdXNoKHQpLHRoaXN9cHJlcGVuZEFueU91dGdvaW5nKHQpe3JldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycz10aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVyc3x8W10sdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMudW5zaGlmdCh0KSx0aGlzfW9mZkFueU91dGdvaW5nKHQpe2lmKCF0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycylyZXR1cm4gdGhpcztpZih0KXtjb25zdCBlPXRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKWlmKHQ9PT1lW3NdKXJldHVybiBlLnNwbGljZShzLDEpLHRoaXN9ZWxzZSB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycz1bXTtyZXR1cm4gdGhpc31saXN0ZW5lcnNBbnlPdXRnb2luZygpe3JldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVyc3x8W119bm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnModCl7aWYodGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMmJnRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLmxlbmd0aCl7Y29uc3QgZT10aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5zbGljZSgpO2Zvcihjb25zdCBzIG9mIGUpcy5hcHBseSh0aGlzLHQuZGF0YSl9fX1mdW5jdGlvbiB2dCh0KXt0PXR8fHt9LHRoaXMubXM9dC5taW58fDEwMCx0aGlzLm1heD10Lm1heHx8MWU0LHRoaXMuZmFjdG9yPXQuZmFjdG9yfHwyLHRoaXMuaml0dGVyPXQuaml0dGVyPjAmJnQuaml0dGVyPD0xP3Quaml0dGVyOjAsdGhpcy5hdHRlbXB0cz0wfXZ0LnByb3RvdHlwZS5kdXJhdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMubXMqTWF0aC5wb3codGhpcy5mYWN0b3IsdGhpcy5hdHRlbXB0cysrKTtpZih0aGlzLmppdHRlcil7dmFyIGU9TWF0aC5yYW5kb20oKSxzPU1hdGguZmxvb3IoZSp0aGlzLmppdHRlcip0KTt0PTEmTWF0aC5mbG9vcigxMCplKT90K3M6dC1zfXJldHVybiAwfE1hdGgubWluKHQsdGhpcy5tYXgpfSx2dC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmF0dGVtcHRzPTB9LHZ0LnByb3RvdHlwZS5zZXRNaW49ZnVuY3Rpb24odCl7dGhpcy5tcz10fSx2dC5wcm90b3R5cGUuc2V0TWF4PWZ1bmN0aW9uKHQpe3RoaXMubWF4PXR9LHZ0LnByb3RvdHlwZS5zZXRKaXR0ZXI9ZnVuY3Rpb24odCl7dGhpcy5qaXR0ZXI9dH07Y2xhc3Mgd3QgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQsZSl7dmFyIHM7c3VwZXIoKSx0aGlzLm5zcHM9e30sdGhpcy5zdWJzPVtdLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKSwoZT1lfHx7fSkucGF0aD1lLnBhdGh8fFwiL3NvY2tldC5pb1wiLHRoaXMub3B0cz1lLHgodGhpcyxlKSx0aGlzLnJlY29ubmVjdGlvbighMSE9PWUucmVjb25uZWN0aW9uKSx0aGlzLnJlY29ubmVjdGlvbkF0dGVtcHRzKGUucmVjb25uZWN0aW9uQXR0ZW1wdHN8fDEvMCksdGhpcy5yZWNvbm5lY3Rpb25EZWxheShlLnJlY29ubmVjdGlvbkRlbGF5fHwxZTMpLHRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgoZS5yZWNvbm5lY3Rpb25EZWxheU1heHx8NWUzKSx0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IobnVsbCE9PShzPWUucmFuZG9taXphdGlvbkZhY3RvcikmJnZvaWQgMCE9PXM/czouNSksdGhpcy5iYWNrb2ZmPW5ldyB2dCh7bWluOnRoaXMucmVjb25uZWN0aW9uRGVsYXkoKSxtYXg6dGhpcy5yZWNvbm5lY3Rpb25EZWxheU1heCgpLGppdHRlcjp0aGlzLnJhbmRvbWl6YXRpb25GYWN0b3IoKX0pLHRoaXMudGltZW91dChudWxsPT1lLnRpbWVvdXQ/MmU0OmUudGltZW91dCksdGhpcy5fcmVhZHlTdGF0ZT1cImNsb3NlZFwiLHRoaXMudXJpPXQ7Y29uc3Qgbj1lLnBhcnNlcnx8Z3Q7dGhpcy5lbmNvZGVyPW5ldyBuLkVuY29kZXIsdGhpcy5kZWNvZGVyPW5ldyBuLkRlY29kZXIsdGhpcy5fYXV0b0Nvbm5lY3Q9ITEhPT1lLmF1dG9Db25uZWN0LHRoaXMuX2F1dG9Db25uZWN0JiZ0aGlzLm9wZW4oKX1yZWNvbm5lY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JlY29ubmVjdGlvbj0hIXQsdHx8KHRoaXMuc2tpcFJlY29ubmVjdD0hMCksdGhpcyk6dGhpcy5fcmVjb25uZWN0aW9ufXJlY29ubmVjdGlvbkF0dGVtcHRzKHQpe3JldHVybiB2b2lkIDA9PT10P3RoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzOih0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cz10LHRoaXMpfXJlY29ubmVjdGlvbkRlbGF5KHQpe3ZhciBlO3JldHVybiB2b2lkIDA9PT10P3RoaXMuX3JlY29ubmVjdGlvbkRlbGF5Oih0aGlzLl9yZWNvbm5lY3Rpb25EZWxheT10LG51bGw9PT0oZT10aGlzLmJhY2tvZmYpfHx2b2lkIDA9PT1lfHxlLnNldE1pbih0KSx0aGlzKX1yYW5kb21pemF0aW9uRmFjdG9yKHQpe3ZhciBlO3JldHVybiB2b2lkIDA9PT10P3RoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I6KHRoaXMuX3JhbmRvbWl6YXRpb25GYWN0b3I9dCxudWxsPT09KGU9dGhpcy5iYWNrb2ZmKXx8dm9pZCAwPT09ZXx8ZS5zZXRKaXR0ZXIodCksdGhpcyl9cmVjb25uZWN0aW9uRGVsYXlNYXgodCl7dmFyIGU7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg6KHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4PXQsbnVsbD09PShlPXRoaXMuYmFja29mZil8fHZvaWQgMD09PWV8fGUuc2V0TWF4KHQpLHRoaXMpfXRpbWVvdXQodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3RpbWVvdXQ9dCx0aGlzKTp0aGlzLl90aW1lb3V0fW1heWJlUmVjb25uZWN0T25PcGVuKCl7IXRoaXMuX3JlY29ubmVjdGluZyYmdGhpcy5fcmVjb25uZWN0aW9uJiYwPT09dGhpcy5iYWNrb2ZmLmF0dGVtcHRzJiZ0aGlzLnJlY29ubmVjdCgpfW9wZW4odCl7aWYofnRoaXMuX3JlYWR5U3RhdGUuaW5kZXhPZihcIm9wZW5cIikpcmV0dXJuIHRoaXM7dGhpcy5lbmdpbmU9bmV3IHR0KHRoaXMudXJpLHRoaXMub3B0cyk7Y29uc3QgZT10aGlzLmVuZ2luZSxzPXRoaXM7dGhpcy5fcmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLnNraXBSZWNvbm5lY3Q9ITE7Y29uc3Qgbj1tdChlLFwib3BlblwiLChmdW5jdGlvbigpe3Mub25vcGVuKCksdCYmdCgpfSkpLGk9ZT0+e3RoaXMuY2xlYW51cCgpLHRoaXMuX3JlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsZSksdD90KGUpOnRoaXMubWF5YmVSZWNvbm5lY3RPbk9wZW4oKX0scj1tdChlLFwiZXJyb3JcIixpKTtpZighMSE9PXRoaXMuX3RpbWVvdXQpe2NvbnN0IHQ9dGhpcy5fdGltZW91dCxzPXRoaXMuc2V0VGltZW91dEZuKCgoKT0+e24oKSxpKG5ldyBFcnJvcihcInRpbWVvdXRcIikpLGUuY2xvc2UoKX0pLHQpO3RoaXMub3B0cy5hdXRvVW5yZWYmJnMudW5yZWYoKSx0aGlzLnN1YnMucHVzaCgoKCk9Pnt0aGlzLmNsZWFyVGltZW91dEZuKHMpfSkpfXJldHVybiB0aGlzLnN1YnMucHVzaChuKSx0aGlzLnN1YnMucHVzaChyKSx0aGlzfWNvbm5lY3QodCl7cmV0dXJuIHRoaXMub3Blbih0KX1vbm9wZW4oKXt0aGlzLmNsZWFudXAoKSx0aGlzLl9yZWFkeVN0YXRlPVwib3BlblwiLHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtjb25zdCB0PXRoaXMuZW5naW5lO3RoaXMuc3Vicy5wdXNoKG10KHQsXCJwaW5nXCIsdGhpcy5vbnBpbmcuYmluZCh0aGlzKSksbXQodCxcImRhdGFcIix0aGlzLm9uZGF0YS5iaW5kKHRoaXMpKSxtdCh0LFwiZXJyb3JcIix0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksbXQodCxcImNsb3NlXCIsdGhpcy5vbmNsb3NlLmJpbmQodGhpcykpLG10KHRoaXMuZGVjb2RlcixcImRlY29kZWRcIix0aGlzLm9uZGVjb2RlZC5iaW5kKHRoaXMpKSl9b25waW5nKCl7dGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpfW9uZGF0YSh0KXt0cnl7dGhpcy5kZWNvZGVyLmFkZCh0KX1jYXRjaCh0KXt0aGlzLm9uY2xvc2UoXCJwYXJzZSBlcnJvclwiLHQpfX1vbmRlY29kZWQodCl7VCgoKCk9Pnt0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLHQpfSksdGhpcy5zZXRUaW1lb3V0Rm4pfW9uZXJyb3IodCl7dGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLHQpfXNvY2tldCh0LGUpe2xldCBzPXRoaXMubnNwc1t0XTtyZXR1cm4gcz90aGlzLl9hdXRvQ29ubmVjdCYmIXMuYWN0aXZlJiZzLmNvbm5lY3QoKToocz1uZXcgYnQodGhpcyx0LGUpLHRoaXMubnNwc1t0XT1zKSxzfV9kZXN0cm95KHQpe2NvbnN0IGU9T2JqZWN0LmtleXModGhpcy5uc3BzKTtmb3IoY29uc3QgdCBvZiBlKXtpZih0aGlzLm5zcHNbdF0uYWN0aXZlKXJldHVybn10aGlzLl9jbG9zZSgpfV9wYWNrZXQodCl7Y29uc3QgZT10aGlzLmVuY29kZXIuZW5jb2RlKHQpO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXRoaXMuZW5naW5lLndyaXRlKGVbc10sdC5vcHRpb25zKX1jbGVhbnVwKCl7dGhpcy5zdWJzLmZvckVhY2goKHQ9PnQoKSkpLHRoaXMuc3Vicy5sZW5ndGg9MCx0aGlzLmRlY29kZXIuZGVzdHJveSgpfV9jbG9zZSgpe3RoaXMuc2tpcFJlY29ubmVjdD0hMCx0aGlzLl9yZWNvbm5lY3Rpbmc9ITEsdGhpcy5vbmNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpfWRpc2Nvbm5lY3QoKXtyZXR1cm4gdGhpcy5fY2xvc2UoKX1vbmNsb3NlKHQsZSl7dmFyIHM7dGhpcy5jbGVhbnVwKCksbnVsbD09PShzPXRoaXMuZW5naW5lKXx8dm9pZCAwPT09c3x8cy5jbG9zZSgpLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuX3JlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmVtaXRSZXNlcnZlZChcImNsb3NlXCIsdCxlKSx0aGlzLl9yZWNvbm5lY3Rpb24mJiF0aGlzLnNraXBSZWNvbm5lY3QmJnRoaXMucmVjb25uZWN0KCl9cmVjb25uZWN0KCl7aWYodGhpcy5fcmVjb25uZWN0aW5nfHx0aGlzLnNraXBSZWNvbm5lY3QpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzO2lmKHRoaXMuYmFja29mZi5hdHRlbXB0cz49dGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpdGhpcy5iYWNrb2ZmLnJlc2V0KCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpLHRoaXMuX3JlY29ubmVjdGluZz0hMTtlbHNle2NvbnN0IGU9dGhpcy5iYWNrb2ZmLmR1cmF0aW9uKCk7dGhpcy5fcmVjb25uZWN0aW5nPSEwO2NvbnN0IHM9dGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57dC5za2lwUmVjb25uZWN0fHwodGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfYXR0ZW1wdFwiLHQuYmFja29mZi5hdHRlbXB0cyksdC5za2lwUmVjb25uZWN0fHx0Lm9wZW4oKGU9PntlPyh0Ll9yZWNvbm5lY3Rpbmc9ITEsdC5yZWNvbm5lY3QoKSx0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9lcnJvclwiLGUpKTp0Lm9ucmVjb25uZWN0KCl9KSkpfSksZSk7dGhpcy5vcHRzLmF1dG9VbnJlZiYmcy51bnJlZigpLHRoaXMuc3Vicy5wdXNoKCgoKT0+e3RoaXMuY2xlYXJUaW1lb3V0Rm4ocyl9KSl9fW9ucmVjb25uZWN0KCl7Y29uc3QgdD10aGlzLmJhY2tvZmYuYXR0ZW1wdHM7dGhpcy5fcmVjb25uZWN0aW5nPSExLHRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0XCIsdCl9fWNvbnN0IGt0PXt9O2Z1bmN0aW9uIEV0KHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIHQmJihlPXQsdD12b2lkIDApO2NvbnN0IHM9ZnVuY3Rpb24odCxlPVwiXCIscyl7bGV0IG49dDtzPXN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24sbnVsbD09dCYmKHQ9cy5wcm90b2NvbCtcIi8vXCIrcy5ob3N0KSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKFwiL1wiPT09dC5jaGFyQXQoMCkmJih0PVwiL1wiPT09dC5jaGFyQXQoMSk/cy5wcm90b2NvbCt0OnMuaG9zdCt0KSwvXihodHRwcz98d3NzPyk6XFwvXFwvLy50ZXN0KHQpfHwodD12b2lkIDAhPT1zP3MucHJvdG9jb2wrXCIvL1wiK3Q6XCJodHRwczovL1wiK3QpLG49JCh0KSksbi5wb3J0fHwoL14oaHR0cHx3cykkLy50ZXN0KG4ucHJvdG9jb2wpP24ucG9ydD1cIjgwXCI6L14oaHR0cHx3cylzJC8udGVzdChuLnByb3RvY29sKSYmKG4ucG9ydD1cIjQ0M1wiKSksbi5wYXRoPW4ucGF0aHx8XCIvXCI7Y29uc3QgaT0tMSE9PW4uaG9zdC5pbmRleE9mKFwiOlwiKT9cIltcIituLmhvc3QrXCJdXCI6bi5ob3N0O3JldHVybiBuLmlkPW4ucHJvdG9jb2wrXCI6Ly9cIitpK1wiOlwiK24ucG9ydCtlLG4uaHJlZj1uLnByb3RvY29sK1wiOi8vXCIraSsocyYmcy5wb3J0PT09bi5wb3J0P1wiXCI6XCI6XCIrbi5wb3J0KSxufSh0LChlPWV8fHt9KS5wYXRofHxcIi9zb2NrZXQuaW9cIiksbj1zLnNvdXJjZSxpPXMuaWQscj1zLnBhdGgsbz1rdFtpXSYmciBpbiBrdFtpXS5uc3BzO2xldCBhO3JldHVybiBlLmZvcmNlTmV3fHxlW1wiZm9yY2UgbmV3IGNvbm5lY3Rpb25cIl18fCExPT09ZS5tdWx0aXBsZXh8fG8/YT1uZXcgd3QobixlKTooa3RbaV18fChrdFtpXT1uZXcgd3QobixlKSksYT1rdFtpXSkscy5xdWVyeSYmIWUucXVlcnkmJihlLnF1ZXJ5PXMucXVlcnlLZXkpLGEuc29ja2V0KHMucGF0aCxlKX1PYmplY3QuYXNzaWduKEV0LHtNYW5hZ2VyOnd0LFNvY2tldDpidCxpbzpFdCxjb25uZWN0OkV0fSk7Y29uc3QgQXQ9XCJ4LWFwaS10b2tlblwiO2NsYXNzIFR0IGV4dGVuZHMgRXZlbnRUYXJnZXR7Z2V0IGNvbm5lY3RlZCgpe3ZhciB0LGU7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5zb2NrZXQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbm5lY3RlZCkmJnZvaWQgMCE9PWUmJmV9Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLnRva2VuPXQsdGhpcy5zb2NrZXQ9bnVsbH1jbG9zZSgpe3RoaXMuc29ja2V0JiZ0aGlzLnNvY2tldC5jb25uZWN0ZWQmJih0aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnNvY2tldC5jbG9zZSgpKX1saXN0ZW4odCxlLHMpe3ZhciBuLGk7aWYodGhpcy5zb2NrZXQmJnRoaXMuc29ja2V0LmNvbm5lY3RlZCYmKHRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuc29ja2V0LmNsb3NlKCkpLDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgZXZlbnQgdHlwZSBtdXN0IGJlIHByb3ZpZGVkXCIpO3RoaXMuc29ja2V0PUV0KGBodHRwczovL3JlYWx0aW1lLmpzb25wYWQuaW8/JHtuZXcgVVJMU2VhcmNoUGFyYW1zKHtldmVudFR5cGVzOnQuam9pbihcIixcIiksbGlzdElkczpudWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5qb2luKFwiLFwiKSkmJnZvaWQgMCE9PW4/bjpcIlwiLGl0ZW1JZHM6bnVsbCE9PShpPW51bGw9PXM/dm9pZCAwOnMuam9pbihcIixcIikpJiZ2b2lkIDAhPT1pP2k6XCJcIn0pfWAse2V4dHJhSGVhZGVyczp7W0F0XTp0aGlzLnRva2VufX0pLHRoaXMuc29ja2V0Lm9uKFwiY29ubmVjdFwiLHRoaXMuaGFuZGxlQ29ubmVjdGVkLmJpbmQodGhpcykpLHRoaXMuc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLHRoaXMuaGFuZGxlRGlzY29ubmVjdGVkLmJpbmQodGhpcykpLHRoaXMuc29ja2V0Lm9uKFwiZXJyb3JcIix0aGlzLmhhbmRsZUVycm9yLmJpbmQodGhpcykpLHRoaXMuc29ja2V0Lm9uKFwibGlzdC1jcmVhdGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJsaXN0LWNyZWF0ZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwibGlzdC11cGRhdGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJsaXN0LXVwZGF0ZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwibGlzdC1kZWxldGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJsaXN0LWRlbGV0ZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwiaXRlbS1jcmVhdGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJpdGVtLWNyZWF0ZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwiaXRlbS11cGRhdGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJpdGVtLXVwZGF0ZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwiaXRlbS1yZXN0b3JlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwiaXRlbS1yZXN0b3JlZFwiKSksdGhpcy5zb2NrZXQub24oXCJpdGVtLWRlbGV0ZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcIml0ZW0tZGVsZXRlZFwiKSl9aGFuZGxlQ29ubmVjdGVkKCl7dGhpcy5kaXNwYXRjaEV2ZW50KFR0LmNvbm5lY3RlZCl9aGFuZGxlRGlzY29ubmVjdGVkKCl7dGhpcy5kaXNwYXRjaEV2ZW50KFR0LmRpc2Nvbm5lY3RlZCl9aGFuZGxlRXJyb3IodCl7dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImVycm9yXCIse2RldGFpbDp0fSkpfWhhbmRsZUV2ZW50KHQsbil7bGV0IGk7dHJ5e2k9SlNPTi5wYXJzZShuKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCB0aGlzLmhhbmRsZUVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIGRhdGFcIil9c3dpdGNoKHQpe2Nhc2VcImxpc3QtY3JlYXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgcyhcImxpc3QtY3JlYXRlZFwiLGkpKTticmVhaztjYXNlXCJsaXN0LXVwZGF0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IHMoXCJsaXN0LXVwZGF0ZWRcIixpKSk7YnJlYWs7Y2FzZVwibGlzdC1kZWxldGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBzKFwibGlzdC1kZWxldGVkXCIsaSkpO2JyZWFrO2Nhc2VcIml0ZW0tY3JlYXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZShcIml0ZW0tY3JlYXRlZFwiLGkpKTticmVhaztjYXNlXCJpdGVtLXVwZGF0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGUoXCJpdGVtLXVwZGF0ZWRcIixpKSk7YnJlYWs7Y2FzZVwiaXRlbS1yZXN0b3JlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZShcIml0ZW0tcmVzdG9yZWRcIixpKSk7YnJlYWs7Y2FzZVwiaXRlbS1kZWxldGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlKFwiaXRlbS1kZWxldGVkXCIsaSkpfX19VHQuY29ubmVjdGVkPW5ldyBFdmVudChcImNvbm5lY3RlZFwiKSxUdC5kaXNjb25uZWN0ZWQ9bmV3IEV2ZW50KFwiZGlzY29ubmVjdGVkXCIpLHQuSXRlbUV2ZW50PWUsdC5MaXN0RXZlbnQ9cyx0LmRlZmF1bHQ9VHQsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KSk7XG4iLCIhZnVuY3Rpb24odCxpKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9pKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxpKTppKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuSlNPTlBhZD17fSl9KHRoaXMsKGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2NsYXNzIGl7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KSxsYXN0QWN0aXZlQXQ6dC5sYXN0QWN0aXZlQXQ/bmV3IERhdGUodC5sYXN0QWN0aXZlQXQpOm51bGx9KX19Y2xhc3MgZXtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpLHVzZXI6dC51c2VyP25ldyBpKHQudXNlcik6dm9pZCAwfSl9fWNsYXNzIG57Y29uc3RydWN0b3IodCl7dGhpcy5sYXN0TG9naW5BdD1udWxsLE9iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCksdXNlcjp0LnVzZXI/bmV3IGkodC51c2VyKTp2b2lkIDAsbGFzdExvZ2luQXQ6dC5sYXN0TG9naW5BdD9uZXcgRGF0ZSh0Lmxhc3RMb2dpbkF0KTpudWxsfSl9fWNsYXNzIG97Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KX0pfX1jbGFzcyBze2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCl9KX19Y2xhc3MgZHtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpLHVzZXI6dC51c2VyP25ldyBpKHQudXNlcik6dm9pZCAwfSl9fWZ1bmN0aW9uIGEodCwuLi5pKXtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHQpLmZpbHRlcigoKFt0XSk9PiFpLmluY2x1ZGVzKHQpKSkpfWNvbnN0IGw9XCJ4LWFwaS10b2tlblwiO2FzeW5jIGZ1bmN0aW9uIHIodCxpLGUsbixvLHMsZCl7Y29uc3QgYT1uP25ldyBVUkxTZWFyY2hQYXJhbXMoey4uLk9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhuKS5tYXAoKChbdCxpXSk9Plt0LGkudG9TdHJpbmcoKV0pKSl9KTpcIlwiLHI9e1tsXTp0LFwiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCJ9O3MmJihyW1wieC1pZGVudGl0eS1ncm91cFwiXT1zKSxkJiYocltcIngtaWRlbnRpdHktdG9rZW5cIl09ZCk7Y29uc3QgdT1hd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkuanNvbnBhZC5pbyR7ZX0/JHthfWAse21ldGhvZDppLGhlYWRlcnM6cixib2R5Om8/SlNPTi5zdHJpbmdpZnkobyk6dm9pZCAwfSk7aWYoIXUub2spdGhyb3cgbmV3IEVycm9yKGF3YWl0IHUudGV4dCgpKTtyZXR1cm4gMjA0PT09dS5zdGF0dXM/bnVsbDphd2FpdCB1Lmpzb24oKX10LkV2ZW50PWUsdC5JbmRleD1vLHQuSXRlbT1zLHQuTGlzdD1kLHQuVXNlcj1pLHQuZGVmYXVsdD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGksZSl7dGhpcy50b2tlbj10LHRoaXMuaWRlbnRpdHlHcm91cD1pLHRoaXMuaWRlbnRpdHlUb2tlbj1lfWFzeW5jIGNyZWF0ZUxpc3QodCl7cmV0dXJuIG5ldyBkKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixcIi9saXN0c1wiLHZvaWQgMCx0KSl9YXN5bmMgZmV0Y2hMaXN0cyh0KXtjb25zdCBpPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLFwiL2xpc3RzXCIsdCk7cmV0dXJuey4uLmksZGF0YTppLmRhdGEubWFwKCh0PT5uZXcgZCh0KSkpfX1hc3luYyBmZXRjaExpc3QodCl7cmV0dXJuIG5ldyBkKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fWApKX1hc3luYyBzZWFyY2hMaXN0KHQsaSxlKXtyZXR1cm4oYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L3NlYXJjaGAse3F1ZXJ5OmksLi4uZX0pKS5tYXAoKHQ9PlwiaXRlbVwiaW4gdD97cmVsZXZhbmNlOnQucmVsZXZhbmNlLGl0ZW06bmV3IHModC5pdGVtKX06dCkpfWFzeW5jIGZldGNoTGlzdFN0YXRzKHQsaSl7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9zdGF0c2AsaSl9YXN5bmMgZmV0Y2hMaXN0RXZlbnRzKHQsaSl7Y29uc3Qgbj1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vZXZlbnRzYCxpKTtyZXR1cm57Li4ubixkYXRhOm4uZGF0YS5tYXAoKHQ9Pm5ldyBlKHQpKSl9fWFzeW5jIGZldGNoTGlzdEV2ZW50KHQsaSl7cmV0dXJuIG5ldyBlKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9ldmVudHMvJHtpfWApKX1hc3luYyB1cGRhdGVMaXN0KHQsaSl7cmV0dXJuIG5ldyBkKGF3YWl0IHIodGhpcy50b2tlbixcIlBVVFwiLGAvbGlzdHMvJHt0fWAsdm9pZCAwLGkpKX1hc3luYyBkZWxldGVMaXN0KHQpe2F3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLGAvbGlzdHMvJHt0fWApfWFzeW5jIGNyZWF0ZUl0ZW0odCxpLGUsbil7dmFyIG8sZDtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLGAvbGlzdHMvJHt0fS9pdGVtc2AsZSxpLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1uP3ZvaWQgMDpuLmdyb3VwKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bj92b2lkIDA6bi50b2tlbikmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBmZXRjaEl0ZW1zKHQsaSxlKXt2YXIgbixvO2NvbnN0IGQ9YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zYCxpLHZvaWQgMCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5ncm91cCkmJnZvaWQgMCE9PW4/bjp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWU/dm9pZCAwOmUudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKTtyZXR1cm57Li4uZCxkYXRhOmQuZGF0YS5tYXAoKHQ9Pm5ldyBzKHQpKSl9fWFzeW5jIGZldGNoSXRlbXNEYXRhKHQsaSxlKXt2YXIgbixvO2NvbnN0IHM9KG51bGw9PWk/dm9pZCAwOmkucG9pbnRlcik/YC8ke2kucG9pbnRlcn1gOlwiXCI7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy9kYXRhJHtzfWAsaT9hKGksXCJwb2ludGVyXCIpOnZvaWQgMCx2b2lkIDAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuZ3JvdXApJiZ2b2lkIDAhPT1uP246dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1lP3ZvaWQgMDplLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbil9YXN5bmMgZmV0Y2hJdGVtKHQsaSxlLG4pe3ZhciBvLGQ7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9YCxlLHZvaWQgMCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09bj92b2lkIDA6bi5ncm91cCkmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW4/dm9pZCAwOm4udG9rZW4pJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgZmV0Y2hJdGVtRGF0YSh0LGksZSxuKXt2YXIgbyxzO2NvbnN0IGQ9KG51bGw9PWU/dm9pZCAwOmUucG9pbnRlcik/YC8ke2UucG9pbnRlcn1gOlwiXCI7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2RhdGEke2R9YCxlP2EoZSxcInBvaW50ZXJcIik6dm9pZCAwLHZvaWQgMCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09bj92b2lkIDA6bi5ncm91cCkmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShzPW51bGw9PW4/dm9pZCAwOm4udG9rZW4pJiZ2b2lkIDAhPT1zP3M6dGhpcy5pZGVudGl0eVRva2VuKX1hc3luYyBmZXRjaEl0ZW1TdGF0cyh0LGksZSl7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L3N0YXRzYCxlKX1hc3luYyBmZXRjaEl0ZW1FdmVudHModCxpLG4pe2NvbnN0IG89YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZXZlbnRzYCxuKTtyZXR1cm57Li4ubyxkYXRhOm8uZGF0YS5tYXAoKHQ9Pm5ldyBlKHQpKSl9fWFzeW5jIGZldGNoSXRlbUV2ZW50KHQsaSxuKXtyZXR1cm4gbmV3IGUoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZXZlbnRzLyR7bn1gKSl9YXN5bmMgdXBkYXRlSXRlbSh0LGksZSxuLG8pe3ZhciBkLGE7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIlBVVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9YCxuLGUsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW8/dm9pZCAwOm8uZ3JvdXApJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oYT1udWxsPT1vP3ZvaWQgMDpvLnRva2VuKSYmdm9pZCAwIT09YT9hOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIHVwZGF0ZUl0ZW1EYXRhKHQsaSxlLG4sbyl7dmFyIGQsYTtjb25zdCBsPShudWxsPT1uP3ZvaWQgMDpuLnBvaW50ZXIpP2AvJHtuLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZGF0YSR7bH1gLG4sZSwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bz92b2lkIDA6by5ncm91cCkmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShhPW51bGw9PW8/dm9pZCAwOm8udG9rZW4pJiZ2b2lkIDAhPT1hP2E6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgcmVwbGFjZUl0ZW1EYXRhKHQsaSxlLG4sbyl7dmFyIGQsYTtjb25zdCBsPShudWxsPT1uP3ZvaWQgMDpuLnBvaW50ZXIpP2AvJHtuLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJQVVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9kYXRhJHtsfWAsbixlLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1vP3ZvaWQgMDpvLmdyb3VwKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGE9bnVsbD09bz92b2lkIDA6by50b2tlbikmJnZvaWQgMCE9PWE/YTp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBwYXRjaEl0ZW1EYXRhKHQsaSxlLG4sbyl7dmFyIGQsYTtjb25zdCBsPShudWxsPT1uP3ZvaWQgMDpuLnBvaW50ZXIpP2AvJHtuLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJQQVRDSFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2RhdGEke2x9YCxuLGUsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW8/dm9pZCAwOm8uZ3JvdXApJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oYT1udWxsPT1vP3ZvaWQgMDpvLnRva2VuKSYmdm9pZCAwIT09YT9hOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGRlbGV0ZUl0ZW0odCxpLGUpe3ZhciBuLG87YXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX1gLHZvaWQgMCx2b2lkIDAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuZ3JvdXApJiZ2b2lkIDAhPT1uP246dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1lP3ZvaWQgMDplLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbil9YXN5bmMgZGVsZXRlSXRlbURhdGEodCxpLGUsbil7dmFyIG8sZDtjb25zdCBhPShudWxsPT1lP3ZvaWQgMDplLnBvaW50ZXIpP2AvJHtlLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9kYXRhJHthfWAsZSx2b2lkIDAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PW4/dm9pZCAwOm4uZ3JvdXApJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1uP3ZvaWQgMDpuLnRva2VuKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGNyZWF0ZUluZGV4KHQsaSl7cmV0dXJuIG5ldyBvKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixgL2xpc3RzLyR7dH0vaW5kZXhlc2Asdm9pZCAwLGkpKX1hc3luYyBmZXRjaEluZGV4ZXModCxpKXtjb25zdCBlPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzYCxpKTtyZXR1cm57Li4uZSxkYXRhOmUuZGF0YS5tYXAoKHQ9Pm5ldyBvKHQpKSl9fWFzeW5jIGZldGNoSW5kZXgodCxpKXtyZXR1cm4gbmV3IG8oYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfWApKX1hc3luYyBmZXRjaEluZGV4U3RhdHModCxpLGUpe3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9L3N0YXRzYCxlKX1hc3luYyBmZXRjaEluZGV4RXZlbnRzKHQsaSxuKXtjb25zdCBvPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX0vZXZlbnRzYCxuKTtyZXR1cm57Li4ubyxkYXRhOm8uZGF0YS5tYXAoKHQ9Pm5ldyBlKHQpKSl9fWFzeW5jIGZldGNoSW5kZXhFdmVudCh0LGksbil7cmV0dXJuIG5ldyBlKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX0vZXZlbnRzLyR7bn1gKSl9YXN5bmMgdXBkYXRlSW5kZXgodCxpLGUpe3JldHVybiBuZXcgbyhhd2FpdCByKHRoaXMudG9rZW4sXCJQQVRDSFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX1gLHZvaWQgMCxlKSl9YXN5bmMgZGVsZXRlSW5kZXgodCxpKXthd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9YCl9YXN5bmMgY3JlYXRlSWRlbnRpdHkodCl7cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixcIi9pZGVudGl0aWVzXCIsdm9pZCAwLHQpKX1hc3luYyBmZXRjaElkZW50aXRpZXModCl7Y29uc3QgaT1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixcIi9pZGVudGl0aWVzXCIsdCk7cmV0dXJuey4uLmksZGF0YTppLmRhdGEubWFwKCh0PT5uZXcgbih0KSkpfX1hc3luYyBmZXRjaElkZW50aXR5KHQpe3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2lkZW50aXRpZXMvJHt0fWApKX1hc3luYyBmZXRjaElkZW50aXR5U3RhdHModCxpKXtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9pZGVudGl0aWVzLyR7dH0vc3RhdHNgLGkpfWFzeW5jIGZldGNoSWRlbnRpdHlFdmVudHModCxpKXtjb25zdCBuPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvaWRlbnRpdGllcy8ke3R9L2V2ZW50c2AsaSk7cmV0dXJuey4uLm4sZGF0YTpuLmRhdGEubWFwKCh0PT5uZXcgZSh0KSkpfX1hc3luYyBmZXRjaElkZW50aXR5RXZlbnQodCxpKXtyZXR1cm4gbmV3IGUoYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9pZGVudGl0aWVzLyR7dH0vZXZlbnRzLyR7aX1gKSl9YXN5bmMgdXBkYXRlSWRlbnRpdHkodCxpKXtyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiUFVUXCIsYC9pZGVudGl0aWVzLyR7dH1gLHZvaWQgMCxpKSl9YXN5bmMgZGVsZXRlSWRlbnRpdHkodCl7YXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsYC9pZGVudGl0aWVzLyR7dH1gKX1hc3luYyByZWdpc3RlcklkZW50aXR5KHQsaSl7dmFyIGUsbztyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLFwiL2lkZW50aXRpZXMvcmVnaXN0ZXJcIix2b2lkIDAsdCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09aT92b2lkIDA6aS5ncm91cCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWk/dm9pZCAwOmkudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgbG9naW5JZGVudGl0eSh0LGkpe3ZhciBlLG87Y29uc3Qgcz1hd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsXCIvaWRlbnRpdGllcy9sb2dpblwiLHZvaWQgMCx0LChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT1pP3ZvaWQgMDppLmdyb3VwKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09aT92b2lkIDA6aS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pO3JldHVybiB0aGlzLmlkZW50aXR5R3JvdXA9cy5ncm91cHx8dm9pZCAwLHRoaXMuaWRlbnRpdHlUb2tlbj1zLnRva2VufHx2b2lkIDAsW25ldyBuKGEocyxcInRva2VuXCIpKSx0aGlzLmlkZW50aXR5VG9rZW5dfWFzeW5jIGxvZ291dElkZW50aXR5KHQpe3ZhciBpLGU7YXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLFwiL2lkZW50aXRpZXMvbG9nb3V0XCIsdm9pZCAwLHZvaWQgMCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC5ncm91cCkmJnZvaWQgMCE9PWk/aTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQudG9rZW4pJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eVRva2VuKSx0aGlzLmlkZW50aXR5R3JvdXA9dm9pZCAwLHRoaXMuaWRlbnRpdHlUb2tlbj12b2lkIDB9YXN5bmMgZmV0Y2hTZWxmSWRlbnRpdHkodCl7dmFyIGksZTtyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsXCIvaWRlbnRpdGllcy9zZWxmXCIsdm9pZCAwLHZvaWQgMCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGk9bnVsbD09dD92b2lkIDA6dC5ncm91cCkmJnZvaWQgMCE9PWk/aTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQudG9rZW4pJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgdXBkYXRlU2VsZklkZW50aXR5KHQsaSl7dmFyIGUsbztyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiUFVUXCIsXCIvaWRlbnRpdGllcy9zZWxmXCIsdm9pZCAwLHQsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PWk/dm9pZCAwOmkuZ3JvdXApJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1pP3ZvaWQgMDppLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGRlbGV0ZVNlbGZJZGVudGl0eSh0KXt2YXIgaSxlO2F3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLFwiL2lkZW50aXRpZXMvc2VsZlwiLHZvaWQgMCx2b2lkIDAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShpPW51bGw9PXQ/dm9pZCAwOnQuZ3JvdXApJiZ2b2lkIDAhPT1pP2k6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0LnRva2VuKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlUb2tlbil9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0pKTtcbiIsImltcG9ydCBKU09OUGFkUmVhbHRpbWUsIHtcbiAgSXRlbUV2ZW50LFxufSBmcm9tICdAYmFzZW1lbnR1bml2ZXJzZS9qc29ucGFkLXJlYWx0aW1lLXNkayc7XG5pbXBvcnQgSlNPTlBhZCBmcm9tICdAYmFzZW1lbnR1bml2ZXJzZS9qc29ucGFkLXNkayc7XG5pbXBvcnQge1xuICBHYW1lQ3JlYXRlZEV2ZW50LFxuICBHYW1lRmluaXNoZWRFdmVudCxcbiAgUGxheWVySm9pbmVkRXZlbnQsXG4gIFBsYXllck1vdmVkRXZlbnQsXG4gIFRpbWVkT3V0RXZlbnQsXG59IGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB7IENsaWVudE9wdGlvbnMsIEdhbWUsIEdhbWVTdGF0dXMsIFNlcmlhbGlzZWRHYW1lIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBDbGllbnQgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IGRlZmF1bHRPcHRpb25zOiBDbGllbnRPcHRpb25zID0ge1xuICAgIGpzb25wYWRDbGllbnRUb2tlbjogJycsXG4gICAganNvbnBhZEdhbWVzTGlzdDogJycsXG4gICAgYXNvYmlTZXJ2ZXJVcmw6ICcnLFxuICB9O1xuXG4gIHB1YmxpYyBvcHRpb25zOiBDbGllbnRPcHRpb25zO1xuICBwdWJsaWMganNvbnBhZDogSlNPTlBhZDtcbiAgcHVibGljIGpzb25wYWRSZWFsdGltZTogSlNPTlBhZFJlYWx0aW1lO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBQYXJ0aWFsPENsaWVudE9wdGlvbnM+KSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIENsaWVudC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyA/PyB7fSk7XG5cbiAgICAvLyBJbml0aWFsaXNlIGpzb25wYWQgU0RLXG4gICAgdGhpcy5qc29ucGFkID0gbmV3IEpTT05QYWQodGhpcy5vcHRpb25zLmpzb25wYWRDbGllbnRUb2tlbik7XG5cbiAgICAvLyBJbml0aWFsaXNlIGpzb25wYWQgcmVhbHRpbWUgU0RLXG4gICAgdGhpcy5qc29ucGFkUmVhbHRpbWUgPSBuZXcgSlNPTlBhZFJlYWx0aW1lKHRoaXMub3B0aW9ucy5qc29ucGFkQ2xpZW50VG9rZW4pO1xuICAgIHRoaXMuanNvbnBhZFJlYWx0aW1lLmxpc3RlbihcbiAgICAgIFsnaXRlbS1jcmVhdGVkJywgJ2l0ZW0tdXBkYXRlZCddLFxuICAgICAgW3RoaXMub3B0aW9ucy5qc29ucGFkR2FtZXNMaXN0XSxcbiAgICAgIFsnKiddXG4gICAgKTtcblxuICAgIC8vIEF0dGFjaCBqc29ucGFkIHJlYWx0aW1lIGV2ZW50IGhhbmRsZXJzXG4gICAgdGhpcy5qc29ucGFkUmVhbHRpbWUuYWRkRXZlbnRMaXN0ZW5lcignaXRlbS1jcmVhdGVkJywgKGU6IEl0ZW1FdmVudCkgPT4ge1xuICAgICAgY29uc3QgZ2FtZSA9IHtcbiAgICAgICAgaWQ6IGUuZGV0YWlsLm1vZGVsLmlkLFxuICAgICAgICAuLi5lLmRldGFpbC5tb2RlbC5kYXRhLFxuICAgICAgfSBhcyBHYW1lO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBHYW1lQ3JlYXRlZEV2ZW50KGdhbWUpKTtcbiAgICB9KTtcbiAgICB0aGlzLmpzb25wYWRSZWFsdGltZS5hZGRFdmVudExpc3RlbmVyKCdpdGVtLXVwZGF0ZWQnLCAoZTogSXRlbUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBnYW1lID0ge1xuICAgICAgICBpZDogZS5kZXRhaWwubW9kZWwuaWQsXG4gICAgICAgIC4uLmUuZGV0YWlsLm1vZGVsLmRhdGEsXG4gICAgICB9IGFzIEdhbWU7XG4gICAgICBzd2l0Y2ggKGdhbWUubGFzdEV2ZW50VHlwZSkge1xuICAgICAgICBjYXNlICdnYW1lLWNyZWF0ZWQnOlxuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjYXNlICdwbGF5ZXItam9pbmVkJzpcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFBsYXllckpvaW5lZEV2ZW50KGdhbWUpKTtcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAncGxheWVyLW1vdmVkJzpcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFBsYXllck1vdmVkRXZlbnQoZ2FtZSkpO1xuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjYXNlICd0aW1lZC1vdXQnOlxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgVGltZWRPdXRFdmVudChnYW1lKSk7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgJ2dhbWUtZmluaXNoZWQnOlxuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR2FtZUZpbmlzaGVkRXZlbnQoZ2FtZSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZ2FtZXNcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaEdhbWVzKHBhcmFtZXRlcnM6IHtcbiAgICBwYWdlOiBudW1iZXI7XG4gICAgbGltaXQ6IG51bWJlcjtcbiAgICBvcmRlcjogJ3N0YXR1cycgfCAnc3RhcnRlZCcgfCAnZmluaXNoZWQnO1xuICAgIGRpcmVjdGlvbjogJ2FzYycgfCAnZGVzYyc7XG4gICAgc3RhdHVzOiBHYW1lU3RhdHVzO1xuICB9KTogUHJvbWlzZTx7XG4gICAgcGFnZTogbnVtYmVyO1xuICAgIGxpbWl0OiBudW1iZXI7XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBnYW1lczogR2FtZVtdO1xuICB9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmpzb25wYWQuZmV0Y2hJdGVtcyhcbiAgICAgIHRoaXMub3B0aW9ucy5qc29ucGFkR2FtZXNMaXN0LFxuICAgICAge1xuICAgICAgICAuLi5wYXJhbWV0ZXJzLFxuICAgICAgICBpbmNsdWRlRGF0YTogdHJ1ZSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2U6IHJlc3BvbnNlLnBhZ2UsXG4gICAgICBsaW1pdDogcmVzcG9uc2UubGltaXQsXG4gICAgICB0b3RhbDogcmVzcG9uc2UudG90YWwsXG4gICAgICBnYW1lczogcmVzcG9uc2UuZGF0YS5tYXAoaXRlbSA9PiAoe1xuICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgLi4uaXRlbS5kYXRhLFxuICAgICAgICBzdGFydGVkQXQ6IGl0ZW0uZGF0YS5zdGFydGVkQXQgPyBuZXcgRGF0ZShpdGVtLmRhdGEuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICAgIGZpbmlzaGVkQXQ6IGl0ZW0uZGF0YS5maW5pc2hlZEF0XG4gICAgICAgICAgPyBuZXcgRGF0ZShpdGVtLmRhdGEuZmluaXNoZWRBdClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9KSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaEdhbWUoZ2FtZUlkOiBzdHJpbmcpOiBQcm9taXNlPEdhbWUgfCBudWxsPiB7XG4gICAgY29uc3QgZ2FtZSA9IGF3YWl0IHRoaXMuanNvbnBhZC5mZXRjaEl0ZW1EYXRhPFNlcmlhbGlzZWRHYW1lPihcbiAgICAgIHRoaXMub3B0aW9ucy5qc29ucGFkR2FtZXNMaXN0LFxuICAgICAgZ2FtZUlkXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBpZDogZ2FtZUlkLFxuICAgICAgLi4uZ2FtZSxcbiAgICAgIHN0YXJ0ZWRBdDogZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShnYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgZmluaXNoZWRBdDogZ2FtZS5maW5pc2hlZEF0ID8gbmV3IERhdGUoZ2FtZS5maW5pc2hlZEF0KSA6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbW92ZSBpbiBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaFN0YXRlKGdhbWVJZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxHYW1lPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAke3RoaXMub3B0aW9ucy5hc29iaVNlcnZlclVybH0vc3RhdGUvJHtnYW1lSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uanNvbi5nYW1lLFxuICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgZmluaXNoZWRBdDoganNvbi5nYW1lLmZpbmlzaGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuZmluaXNoZWRBdCkgOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGdhbWUgd2l0aCB0aGUgc3BlY2lmaWVkIHBsYXllciBhcyBQbGF5ZXIgMVxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZUdhbWUoXG4gICAgcGxheWVyTmFtZTogc3RyaW5nLFxuICAgIHBsYXllckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIGdhbWVEYXRhPzogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBudW1QbGF5ZXJzPzogbnVtYmVyXG4gICk6IFByb21pc2U8W0dhbWUsIHN0cmluZ10+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMub3B0aW9ucy5hc29iaVNlcnZlclVybH0vY3JlYXRlLWdhbWVgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHBsYXllck5hbWUsXG4gICAgICAgIHBsYXllckRhdGEsXG4gICAgICAgIGdhbWVEYXRhLFxuICAgICAgICBudW1QbGF5ZXJzLFxuICAgICAgfSksXG4gICAgfSk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgLi4uanNvbi5nYW1lLFxuICAgICAgICBzdGFydGVkQXQ6IGpzb24uZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICAgIGZpbmlzaGVkQXQ6IGpzb24uZ2FtZS5maW5pc2hlZEF0XG4gICAgICAgICAgPyBuZXcgRGF0ZShqc29uLmdhbWUuZmluaXNoZWRBdClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9LFxuICAgICAganNvbi50b2tlbixcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIEpvaW4gYW4gZXhpc3RpbmcgZ2FtZSBhcyBQbGF5ZXIgMitcbiAgICovXG4gIHB1YmxpYyBhc3luYyBqb2luR2FtZShcbiAgICBnYW1lSWQ6IHN0cmluZyxcbiAgICBwbGF5ZXJOYW1lOiBzdHJpbmcsXG4gICAgcGxheWVyRGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgKTogUHJvbWlzZTxbR2FtZSwgc3RyaW5nXT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgJHt0aGlzLm9wdGlvbnMuYXNvYmlTZXJ2ZXJVcmx9L2pvaW4tZ2FtZS8ke2dhbWVJZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwbGF5ZXJOYW1lLFxuICAgICAgICAgIHBsYXllckRhdGEsXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgLi4uanNvbi5nYW1lLFxuICAgICAgICBzdGFydGVkQXQ6IGpzb24uZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICAgIGZpbmlzaGVkQXQ6IGpzb24uZ2FtZS5maW5pc2hlZEF0XG4gICAgICAgICAgPyBuZXcgRGF0ZShqc29uLmdhbWUuZmluaXNoZWRBdClcbiAgICAgICAgICA6IG51bGwsXG4gICAgICB9LFxuICAgICAganNvbi50b2tlbixcbiAgICBdO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBtb3ZlIGluIGEgZ2FtZVxuICAgKi9cbiAgcHVibGljIGFzeW5jIG1vdmUoXG4gICAgZ2FtZUlkOiBzdHJpbmcsXG4gICAgdG9rZW46IHN0cmluZyxcbiAgICBtb3ZlRGF0YTogYW55XG4gICk6IFByb21pc2U8R2FtZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBgJHt0aGlzLm9wdGlvbnMuYXNvYmlTZXJ2ZXJVcmx9L21vdmUvJHtnYW1lSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbW92ZURhdGEsXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG5cbiAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmpzb24uZ2FtZSxcbiAgICAgIHN0YXJ0ZWRBdDoganNvbi5nYW1lLnN0YXJ0ZWRBdCA/IG5ldyBEYXRlKGpzb24uZ2FtZS5zdGFydGVkQXQpIDogbnVsbCxcbiAgICAgIGZpbmlzaGVkQXQ6IGpzb24uZ2FtZS5maW5pc2hlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLmZpbmlzaGVkQXQpIDogbnVsbCxcbiAgICB9O1xuICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgR2FtZUNyZWF0ZWRFdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50PGFueT4ge1xuICBjb25zdHJ1Y3RvcihkZXRhaWw6IEdhbWUpIHtcbiAgICBzdXBlcignZ2FtZS1jcmVhdGVkJywgeyBkZXRhaWwgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBHYW1lRmluaXNoZWRFdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50PGFueT4ge1xuICBjb25zdHJ1Y3RvcihkZXRhaWw6IEdhbWUpIHtcbiAgICBzdXBlcignZ2FtZS1maW5pc2hlZCcsIHsgZGV0YWlsIH0pO1xuICB9XG59XG4iLCJleHBvcnQgKiBmcm9tICcuL2dhbWUtY3JlYXRlZCc7XG5leHBvcnQgKiBmcm9tICcuL2dhbWUtZmluaXNoZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9wbGF5ZXItam9pbmVkJztcbmV4cG9ydCAqIGZyb20gJy4vcGxheWVyLW1vdmVkJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZWQtb3V0JztcbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJKb2luZWRFdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50PGFueT4ge1xuICBjb25zdHJ1Y3RvcihkZXRhaWw6IEdhbWUpIHtcbiAgICBzdXBlcigncGxheWVyLWpvaW5lZCcsIHsgZGV0YWlsIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUGxheWVyTW92ZWRFdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50PGFueT4ge1xuICBjb25zdHJ1Y3RvcihkZXRhaWw6IEdhbWUpIHtcbiAgICBzdXBlcigncGxheWVyLW1vdmVkJywgeyBkZXRhaWwgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEdhbWUgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBUaW1lZE91dEV2ZW50IGV4dGVuZHMgQ3VzdG9tRXZlbnQ8YW55PiB7XG4gIGNvbnN0cnVjdG9yKGRldGFpbDogR2FtZSkge1xuICAgIHN1cGVyKCd0aW1lZC1vdXQnLCB7IGRldGFpbCB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IHsgQ2xpZW50IGFzIEFzb2JpQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG4iLCJleHBvcnQgdHlwZSBDbGllbnRPcHRpb25zID0ge1xuICBqc29ucGFkQ2xpZW50VG9rZW46IHN0cmluZztcbiAganNvbnBhZEdhbWVzTGlzdDogc3RyaW5nO1xuICBhc29iaVNlcnZlclVybDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGVudW0gR2FtZVN0YXR1cyB7XG4gIFdBSVRJTkdfVE9fU1RBUlQgPSAnd2FpdGluZ190b19zdGFydCcsXG4gIFNUQVJURUQgPSAnc3RhcnRlZCcsXG4gIEZJTklTSEVEID0gJ2ZpbmlzaGVkJyxcbn1cblxuZXhwb3J0IGVudW0gUGxheWVyU3RhdHVzIHtcbiAgV0FJVElOR19GT1JfVFVSTiA9ICd3YWl0aW5nX2Zvcl90dXJuJyxcbiAgVEFLSU5HX1RVUk4gPSAndGFraW5nX3R1cm4nLFxuICBGSU5JU0hFRCA9ICdmaW5pc2hlZCcsXG59XG5cbmV4cG9ydCB0eXBlIFBsYXllciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBzdGF0dXM6IFBsYXllclN0YXR1cztcbiAgc3RhdGU/OiBhbnk7XG59O1xuXG5leHBvcnQgdHlwZSBNb3ZlID0ge1xuICBwbGF5ZXJJZDogc3RyaW5nO1xuICBtb3ZlZEF0OiBEYXRlO1xuICBkYXRhOiBhbnk7XG59O1xuXG5leHBvcnQgdHlwZSBHYW1lID0ge1xuICBpZDogc3RyaW5nO1xuICBzdGF0dXM6IEdhbWVTdGF0dXM7XG4gIHN0YXJ0ZWRBdDogRGF0ZSB8IG51bGw7XG4gIGZpbmlzaGVkQXQ6IERhdGUgfCBudWxsO1xuICBsYXN0RXZlbnRUeXBlOlxuICAgIHwgJ2dhbWUtY3JlYXRlZCdcbiAgICB8ICdwbGF5ZXItam9pbmVkJ1xuICAgIHwgJ3BsYXllci1tb3ZlZCdcbiAgICB8ICd0aW1lZC1vdXQnXG4gICAgfCAnZ2FtZS1maW5pc2hlZCc7XG4gIGxhc3RFdmVudERhdGE6IGFueTtcbiAgbnVtUGxheWVyczogbnVtYmVyO1xuICBwbGF5ZXJzOiBQbGF5ZXJbXTtcbiAgbW92ZXM6IE1vdmVbXTtcbiAgcm91bmQ6IG51bWJlcjtcbiAgc3RhdGU6IGFueTtcbiAgdHVybkZpbmlzaGVzQXQ/OiBEYXRlIHwgbnVsbDtcbiAgcm91bmRGaW5pc2hlc0F0PzogRGF0ZSB8IG51bGw7XG4gIGdhbWVGaW5pc2hlc0F0PzogRGF0ZSB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBTZXJpYWxpc2VkR2FtZSA9IE9taXQ8R2FtZSwgJ2lkJyB8ICdzdGFydGVkQXQnIHwgJ2ZpbmlzaGVkQXQnPiAmIHtcbiAgc3RhcnRlZEF0OiBzdHJpbmc7XG4gIGZpbmlzaGVkQXQ6IHN0cmluZztcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXgudHNcIik7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=