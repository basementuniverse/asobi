(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,e){ true?e(exports):0}(this,(function(t){"use strict";class e extends CustomEvent{constructor(t,e){if(e.model.data&&"string"==typeof e.model.data)try{e.model.data=JSON.parse(e.model.data)}catch(t){}super(t,{detail:e})}}class s extends CustomEvent{constructor(t,e){super(t,{detail:e})}}const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);Object.keys(n).forEach((t=>{i[n[t]]=t}));const r={type:"error",data:"parser error"},o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,h=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,c=({type:t,data:e},s,i)=>o&&e instanceof Blob?s?i(e):p(e,i):a&&(e instanceof ArrayBuffer||h(e))?s?i(e):p(new Blob([e]),i):i(n[t]+(e||"")),p=(t,e)=>{const s=new FileReader;return s.onload=function(){const t=s.result.split(",")[1];e("b"+(t||""))},s.readAsDataURL(t)};function u(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let d;const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<64;t++)f[l.charCodeAt(t)]=t;const y="function"==typeof ArrayBuffer,g=(t,e)=>{if("string"!=typeof t)return{type:"message",data:_(t,e)};const s=t.charAt(0);if("b"===s)return{type:"message",data:m(t.substring(1),e)};return i[s]?t.length>1?{type:i[s],data:t.substring(1)}:{type:i[s]}:r},m=(t,e)=>{if(y){const s=(t=>{let e,s,n,i,r,o=.75*t.length,a=t.length,h=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);const c=new ArrayBuffer(o),p=new Uint8Array(c);for(e=0;e<a;e+=4)s=f[t.charCodeAt(e)],n=f[t.charCodeAt(e+1)],i=f[t.charCodeAt(e+2)],r=f[t.charCodeAt(e+3)],p[h++]=s<<2|n>>4,p[h++]=(15&n)<<4|i>>2,p[h++]=(3&i)<<6|63&r;return c})(t);return _(s,e)}return{base64:!0,data:t}},_=(t,e)=>"blob"===e?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer,b=String.fromCharCode(30);function v(){return new TransformStream({transform(t,e){!function(t,e){o&&t.data instanceof Blob?t.data.arrayBuffer().then(u).then(e):a&&(t.data instanceof ArrayBuffer||h(t.data))?e(u(t.data)):c(t,!1,(t=>{d||(d=new TextEncoder),e(d.encode(t))}))}(t,(s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const t=new DataView(i.buffer);t.setUint8(0,126),t.setUint16(1,n)}else{i=new Uint8Array(9);const t=new DataView(i.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(n))}t.data&&"string"!=typeof t.data&&(i[0]|=128),e.enqueue(i),e.enqueue(s)}))}})}let w;function k(t){return t.reduce(((t,e)=>t+e.length),0)}function E(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)s[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function A(t){if(t)return function(t){for(var e in A.prototype)t[e]=A.prototype[e];return t}(t)}A.prototype.on=A.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},A.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},A.prototype.off=A.prototype.removeListener=A.prototype.removeAllListeners=A.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<n.length;i++)if((s=n[i])===e||s.fn===e){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},A.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var i=(s=s.slice(0)).length;n<i;++n)s[n].apply(this,e)}return this},A.prototype.emitReserved=A.prototype.emit,A.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},A.prototype.hasListeners=function(t){return!!this.listeners(t).length};const T="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),O="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function R(t,...e){return e.reduce(((e,s)=>(t.hasOwnProperty(s)&&(e[s]=t[s]),e)),{})}const C=O.setTimeout,B=O.clearTimeout;function x(t,e){e.useNativeTimers?(t.setTimeoutFn=C.bind(O),t.clearTimeoutFn=B.bind(O)):(t.setTimeoutFn=O.setTimeout.bind(O),t.clearTimeoutFn=O.clearTimeout.bind(O))}function S(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class N extends Error{constructor(t,e,s){super(t),this.description=e,this.context=s,this.type="TransportError"}}class L extends A{constructor(t){super(),this.writable=!1,x(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,s){return super.emitReserved("error",new N(t,e,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=g(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}(t);return e.length?"?"+e:""}}class q extends L{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let t=0;this._polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((t,e)=>{const s=t.split(b),n=[];for(let t=0;t<s.length;t++){const i=g(s[t],e);if(n.push(i),"error"===i.type)break}return n})(t,this.socket.binaryType).forEach((t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach(((t,r)=>{c(t,!1,(t=>{n[r]=t,++i===s&&e(n.join(b))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)}}let P=!1;try{P="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}const j=P;function D(){}class U extends q{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let s=location.port;s||(s=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,e){const s=this.request({method:"POST",data:t});s.on("success",e),s.on("error",((t,e)=>{this.onError("xhr post error",t,e)}))}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",((t,e)=>{this.onError("xhr poll error",t,e)})),this.pollXhr=t}}class I extends A{constructor(t,e,s){super(),this.createRequest=t,x(this,s),this._opts=s,this._method=s.method||"GET",this._uri=e,this._data=void 0!==s.data?s.data:null,this._create()}_create(){var t;const e=R(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(e);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let t in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(t)&&s.setRequestHeader(t,this._opts.extraHeaders[t])}}catch(t){}if("POST"===this._method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{s.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var t;3===s.readyState&&(null===(t=this._opts.cookieJar)||void 0===t||t.parseCookies(s.getResponseHeader("set-cookie"))),4===s.readyState&&(200===s.status||1223===s.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"==typeof s.status?s.status:0)}),0))},s.send(this._data)}catch(t){return void this.setTimeoutFn((()=>{this._onError(t)}),0)}"undefined"!=typeof document&&(this._index=I.requestsCount++,I.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=D,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete I.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(I.requestsCount=0,I.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",F);else if("function"==typeof addEventListener){addEventListener("onpagehide"in O?"pagehide":"unload",F,!1)}function F(){for(let t in I.requests)I.requests.hasOwnProperty(t)&&I.requests[t].abort()}const M=function(){const t=V({xdomain:!1});return t&&null!==t.responseType}();function V(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||j))return new XMLHttpRequest}catch(t){}if(!e)try{return new(O[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}const H="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class K extends L{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,s=H?{}:R(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,s)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;c(s,this.supportsBinary,(t=>{try{this.doWrite(s,t)}catch(t){}n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=S()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const W=O.WebSocket||O.MozWebSocket;const Y={websocket:class extends K{createSocket(t,e,s){return H?new W(t,e,s):e?new W(t,e):new W(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class extends L{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((()=>{this.onClose()})).catch((t=>{this.onError("webtransport error",t)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((t=>{const e=function(t,e){w||(w=new TextDecoder);const s=[];let n=0,i=-1,o=!1;return new TransformStream({transform(a,h){for(s.push(a);;){if(0===n){if(k(s)<1)break;const t=E(s,1);o=!(128&~t[0]),i=127&t[0],n=i<126?3:126===i?1:2}else if(1===n){if(k(s)<2)break;const t=E(s,2);i=new DataView(t.buffer,t.byteOffset,t.length).getUint16(0),n=3}else if(2===n){if(k(s)<8)break;const t=E(s,8),e=new DataView(t.buffer,t.byteOffset,t.length),o=e.getUint32(0);if(o>Math.pow(2,21)-1){h.enqueue(r);break}i=o*Math.pow(2,32)+e.getUint32(4),n=3}else{if(k(s)<i)break;const t=E(s,i);h.enqueue(g(o?t:w.decode(t),e)),n=0}if(0===i||i>t){h.enqueue(r);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(e).getReader(),n=v();n.readable.pipeTo(t.writable),this._writer=n.writable.getWriter();const i=()=>{s.read().then((({done:t,value:e})=>{t||(this.onPacket(e),i())})).catch((t=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const s=t[e],n=e===t.length-1;this._writer.write(s).then((()=>{n&&T((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class extends U{constructor(t){super(t);const e=t&&t.forceBase64;this.supportsBinary=M&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new I(V,this.uri(),t)}}},z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,J=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $(t){if(t.length>8e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");-1!=s&&-1!=n&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=z.exec(t||""),r={},o=14;for(;o--;)r[J[o]]=i[o]||"";return-1!=s&&-1!=n&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");"/"!=e.slice(0,1)&&0!==e.length||n.splice(0,1);"/"==e.slice(-1)&&n.splice(n.length-1,1);return n}(0,r.path),r.queryKey=function(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(s[e]=n)})),s}(0,r.query),r}const Q="function"==typeof addEventListener&&"function"==typeof removeEventListener,X=[];Q&&addEventListener("offline",(()=>{X.forEach((t=>t()))}),!1);class G extends A{constructor(t,e){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&"object"==typeof t&&(e=t,t=null),t){const s=$(t);e.hostname=s.host,e.secure="https"===s.protocol||"wss"===s.protocol,e.port=s.port,s.query&&(e.query=s.query)}else e.host&&(e.hostname=$(e.host).host);x(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},e.transports.forEach((t=>{const e=t.prototype.name;this.transports.push(e),this._transportsByName[e]=t})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},e),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(t){let e={},s=t.split("&");for(let t=0,n=s.length;t<n;t++){let n=s[t].split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return e}(this.opts.query)),Q&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},X.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const s=Object.assign({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const t=this.opts.rememberUpgrade&&G.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const e=this.createTransport(t);e.open(),this.setTransport(e)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(t=>this._onClose("transport close",t)))}onOpen(){this.readyState="open",G.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let s=0;s<this.writeBuffer.length;s++){const n=this.writeBuffer[s].data;if(n&&(t+="string"==typeof(e=n)?function(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}(e):Math.ceil(1.33*(e.byteLength||e.size))),s>0&&t>this._maxPayload)return this.writeBuffer.slice(0,s);t+=2}var e;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,T((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),t}write(t,e,s){return this._sendPacket("message",t,e,s),this}send(t,e,s){return this._sendPacket("message",t,e,s),this}_sendPacket(t,e,s,n){if("function"==typeof e&&(n=e,e=void 0),"function"==typeof s&&(n=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const i={type:t,data:e,options:s};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},s=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?s():t()})):this.upgrading?s():t()),this}_onError(t){if(G.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Q&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const t=X.indexOf(this._offlineEventListener);-1!==t&&X.splice(t,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}}}G.protocol=4;class Z extends G{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),s=!1;G.priorWebsocketSuccess=!1;const n=()=>{s||(e.send([{type:"ping",data:"probe"}]),e.once("packet",(t=>{if(!s)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;G.priorWebsocketSuccess="websocket"===e.name,this.transport.pause((()=>{s||"closed"!==this.readyState&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}})))};function i(){s||(s=!0,c(),e.close(),e=null)}const r=t=>{const s=new Error("probe error: "+t);s.transport=e.name,i(),this.emitReserved("upgradeError",s)};function o(){r("transport closed")}function a(){r("socket closed")}function h(t){e&&t.name!==e.name&&i()}const c=()=>{e.removeListener("open",n),e.removeListener("error",r),e.removeListener("close",o),this.off("close",a),this.off("upgrading",h)};e.once("open",n),e.once("error",r),e.once("close",o),this.once("close",a),this.once("upgrading",h),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((()=>{s||e.open()}),200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&e.push(t[s]);return e}}let tt=class extends Z{constructor(t,e={}){const s="object"==typeof t?t:e;(!s.transports||s.transports&&"string"==typeof s.transports[0])&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map((t=>Y[t])).filter((t=>!!t))),super(t,s)}};const et="function"==typeof ArrayBuffer,st=Object.prototype.toString,nt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===st.call(Blob),it="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===st.call(File);function rt(t){return et&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||nt&&t instanceof Blob||it&&t instanceof File}function ot(t,e){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,s=t.length;e<s;e++)if(ot(t[e]))return!0;return!1}if(rt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return ot(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&ot(t[e]))return!0;return!1}function at(t){const e=[],s=t.data,n=t;return n.data=ht(s,e),n.attachments=e.length,{packet:n,buffers:e}}function ht(t,e){if(!t)return t;if(rt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=ht(t[n],e);return s}if("object"==typeof t&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=ht(t[n],e));return s}return t}function ct(t,e){return t.data=pt(t.data,e),delete t.attachments,t}function pt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=pt(t[s],e);else if("object"==typeof t)for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=pt(t[s],e));return t}const ut=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var dt;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(dt||(dt={}));function lt(t){return"[object Object]"===Object.prototype.toString.call(t)}class ft extends A{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const s=e.type===dt.BINARY_EVENT;s||e.type===dt.BINARY_ACK?(e.type=s?dt.EVENT:dt.ACK,this.reconstructor=new yt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!rt(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const s={type:Number(t.charAt(0))};if(void 0===dt[s.type])throw new Error("unknown packet type "+s.type);if(s.type===dt.BINARY_EVENT||s.type===dt.BINARY_ACK){const n=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const i=t.substring(n,e);if(i!=Number(i)||"-"!==t.charAt(e))throw new Error("Illegal attachments");s.attachments=Number(i)}if("/"===t.charAt(e+1)){const n=e+1;for(;++e;){if(","===t.charAt(e))break;if(e===t.length)break}s.nsp=t.substring(n,e)}else s.nsp="/";const n=t.charAt(e+1);if(""!==n&&Number(n)==n){const n=e+1;for(;++e;){const s=t.charAt(e);if(null==s||Number(s)!=s){--e;break}if(e===t.length)break}s.id=Number(t.substring(n,e+1))}if(t.charAt(++e)){const n=this.tryParse(t.substr(e));if(!ft.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case dt.CONNECT:return lt(e);case dt.DISCONNECT:return void 0===e;case dt.CONNECT_ERROR:return"string"==typeof e||lt(e);case dt.EVENT:case dt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===ut.indexOf(e[0]));case dt.ACK:case dt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=ct(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var gt=Object.freeze({__proto__:null,Decoder:ft,Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==dt.EVENT&&t.type!==dt.ACK||!ot(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===dt.EVENT?dt.BINARY_EVENT:dt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return t.type!==dt.BINARY_EVENT&&t.type!==dt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=at(t),s=this.encodeAsString(e.packet),n=e.buffers;return n.unshift(s),n}},get PacketType(){return dt},protocol:5});function mt(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const _t=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class bt extends A{constructor(t,e,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[mt(t,"open",this.onopen.bind(this)),mt(t,"packet",this.onpacket.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var s,n,i;if(_t.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const r={type:dt.EVENT,data:e,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const t=this.ids++,s=e.pop();this._registerAckCallback(t,s),r.id=t}const o=null===(n=null===(s=this.io.engine)||void 0===s?void 0:s.transport)||void 0===n?void 0:n.writable,a=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!o||(a?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var s;const n=null!==(s=this.flags.timeout)&&void 0!==s?s:this._opts.ackTimeout;if(void 0===n)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error("operation has timed out"))}),n),r=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,t)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise(((s,n)=>{const i=(t,e)=>t?n(t):s(e);i.withError=!0,e.push(i),this.emit(t,...e)}))}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...n)=>{if(s!==this._queue[0])return;return null!==t?s.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...n)),s.pending=!1,this._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((t=>{if(!this.sendBuffer.some((e=>String(e.id)===t))){const e=this.acks[t];delete this.acks[t],e.withError&&e.call(this,new Error("socket has been disconnected"))}}))}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case dt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dt.EVENT:case dt.BINARY_EVENT:this.onevent(t);break;case dt.ACK:case dt.BINARY_ACK:this.onack(t);break;case dt.DISCONNECT:this.ondisconnect();break;case dt.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const s of e)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let s=!1;return function(...n){s||(s=!0,e.packet({type:dt.ACK,id:t,data:n}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let s=0;s<e.length;s++)if(t===e[s])return e.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const s of e)s.apply(this,t.data)}}}function vt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+s:t-s}return 0|Math.min(t,this.max)},vt.prototype.reset=function(){this.attempts=0},vt.prototype.setMin=function(t){this.ms=t},vt.prototype.setMax=function(t){this.max=t},vt.prototype.setJitter=function(t){this.jitter=t};class wt extends A{constructor(t,e){var s;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,x(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=e.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const n=e.parser||gt;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tt(this.uri,this.opts);const e=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const n=mt(e,"open",(function(){s.onopen(),t&&t()})),i=e=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",e),t?t(e):this.maybeReconnectOnOpen()},r=mt(e,"error",i);if(!1!==this._timeout){const t=this._timeout,s=this.setTimeoutFn((()=>{n(),i(new Error("timeout")),e.close()}),t);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}return this.subs.push(n),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(mt(t,"ping",this.onping.bind(this)),mt(t,"data",this.ondata.bind(this)),mt(t,"error",this.onerror.bind(this)),mt(t,"close",this.onclose.bind(this)),mt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}}ondecoded(t){T((()=>{this.emitReserved("packet",t)}),this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new bt(this,t,e),this.nsps[t]=s),s}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let s=0;s<e.length;s++)this.engine.write(e[s],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var s;this.cleanup(),null===(s=this.engine)||void 0===s||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()})))}),e);this.opts.autoUnref&&s.unref(),this.subs.push((()=>{this.clearTimeoutFn(s)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const kt={};function Et(t,e){"object"==typeof t&&(e=t,t=void 0);const s=function(t,e="",s){let n=t;s=s||"undefined"!=typeof location&&location,null==t&&(t=s.protocol+"//"+s.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?s.protocol+t:s.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==s?s.protocol+"//"+t:"https://"+t),n=$(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(s&&s.port===n.port?"":":"+n.port),n}(t,(e=e||{}).path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=kt[i]&&r in kt[i].nsps;let a;return e.forceNew||e["force new connection"]||!1===e.multiplex||o?a=new wt(n,e):(kt[i]||(kt[i]=new wt(n,e)),a=kt[i]),s.query&&!e.query&&(e.query=s.queryKey),a.socket(s.path,e)}Object.assign(Et,{Manager:wt,Socket:bt,io:Et,connect:Et});const At="x-api-token";class Tt extends EventTarget{get connected(){var t,e;return null!==(e=null===(t=this.socket)||void 0===t?void 0:t.connected)&&void 0!==e&&e}constructor(t){super(),this.token=t,this.socket=null}close(){this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close())}listen(t,e,s){var n,i;if(this.socket&&this.socket.connected&&(this.socket.removeAllListeners(),this.socket.close()),0===t.length)throw new Error("At least one event type must be provided");this.socket=Et(`https://realtime.jsonpad.io?${new URLSearchParams({eventTypes:t.join(","),listIds:null!==(n=null==e?void 0:e.join(","))&&void 0!==n?n:"",itemIds:null!==(i=null==s?void 0:s.join(","))&&void 0!==i?i:""})}`,{extraHeaders:{[At]:this.token}}),this.socket.on("connect",this.handleConnected.bind(this)),this.socket.on("disconnect",this.handleDisconnected.bind(this)),this.socket.on("error",this.handleError.bind(this)),this.socket.on("list-created",this.handleEvent.bind(this,"list-created")),this.socket.on("list-updated",this.handleEvent.bind(this,"list-updated")),this.socket.on("list-deleted",this.handleEvent.bind(this,"list-deleted")),this.socket.on("item-created",this.handleEvent.bind(this,"item-created")),this.socket.on("item-updated",this.handleEvent.bind(this,"item-updated")),this.socket.on("item-restored",this.handleEvent.bind(this,"item-restored")),this.socket.on("item-deleted",this.handleEvent.bind(this,"item-deleted"))}handleConnected(){this.dispatchEvent(Tt.connected)}handleDisconnected(){this.dispatchEvent(Tt.disconnected)}handleError(t){this.dispatchEvent(new CustomEvent("error",{detail:t}))}handleEvent(t,n){let i;try{i=JSON.parse(n)}catch(t){return void this.handleError("Failed to parse data")}switch(t){case"list-created":this.dispatchEvent(new s("list-created",i));break;case"list-updated":this.dispatchEvent(new s("list-updated",i));break;case"list-deleted":this.dispatchEvent(new s("list-deleted",i));break;case"item-created":this.dispatchEvent(new e("item-created",i));break;case"item-updated":this.dispatchEvent(new e("item-updated",i));break;case"item-restored":this.dispatchEvent(new e("item-restored",i));break;case"item-deleted":this.dispatchEvent(new e("item-deleted",i))}}}Tt.connected=new Event("connected"),Tt.disconnected=new Event("disconnected"),t.ItemEvent=e,t.ListEvent=s,t.default=Tt,Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports) {

!function(t,i){ true?i(exports):0}(this,(function(t){"use strict";class i{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),lastActiveAt:t.lastActiveAt?new Date(t.lastActiveAt):null})}}class e{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}class n{constructor(t){this.lastLoginAt=null,Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0,lastLoginAt:t.lastLoginAt?new Date(t.lastLoginAt):null})}}class o{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class s{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt)})}}class d{constructor(t){Object.assign(this,{...t,createdAt:new Date(t.createdAt),updatedAt:new Date(t.updatedAt),user:t.user?new i(t.user):void 0})}}function a(t,...i){return Object.fromEntries(Object.entries(t).filter((([t])=>!i.includes(t))))}const l="x-api-token";async function r(t,i,e,n,o,s,d){const a=n?new URLSearchParams({...Object.fromEntries(Object.entries(n).map((([t,i])=>[t,i.toString()])))}):"",r={[l]:t,"Content-Type":"application/json"};s&&(r["x-identity-group"]=s),d&&(r["x-identity-token"]=d);const u=await fetch(`https://api.jsonpad.io${e}?${a}`,{method:i,headers:r,body:o?JSON.stringify(o):void 0});if(!u.ok)throw new Error(await u.text());return 204===u.status?null:await u.json()}t.Event=e,t.Index=o,t.Item=s,t.List=d,t.User=i,t.default=class{constructor(t,i,e){this.token=t,this.identityGroup=i,this.identityToken=e}async createList(t){return new d(await r(this.token,"POST","/lists",void 0,t))}async fetchLists(t){const i=await r(this.token,"GET","/lists",t);return{...i,data:i.data.map((t=>new d(t)))}}async fetchList(t){return new d(await r(this.token,"GET",`/lists/${t}`))}async searchList(t,i,e){return(await r(this.token,"GET",`/lists/${t}/search`,{query:i,...e})).map((t=>"item"in t?{relevance:t.relevance,item:new s(t.item)}:t))}async fetchListStats(t,i){return await r(this.token,"GET",`/lists/${t}/stats`,i)}async fetchListEvents(t,i){const n=await r(this.token,"GET",`/lists/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchListEvent(t,i){return new e(await r(this.token,"GET",`/lists/${t}/events/${i}`))}async updateList(t,i){return new d(await r(this.token,"PUT",`/lists/${t}`,void 0,i))}async deleteList(t){await r(this.token,"DELETE",`/lists/${t}`)}async createItem(t,i,e,n){var o,d;return new s(await r(this.token,"POST",`/lists/${t}/items`,e,i,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItems(t,i,e){var n,o;const d=await r(this.token,"GET",`/lists/${t}/items`,i,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken);return{...d,data:d.data.map((t=>new s(t)))}}async fetchItemsData(t,i,e){var n,o;const s=(null==i?void 0:i.pointer)?`/${i.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/data${s}`,i?a(i,"pointer"):void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async fetchItem(t,i,e,n){var o,d;return new s(await r(this.token,"GET",`/lists/${t}/items/${i}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async fetchItemData(t,i,e,n){var o,s;const d=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return await r(this.token,"GET",`/lists/${t}/items/${i}/data${d}`,e?a(e,"pointer"):void 0,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(s=null==n?void 0:n.token)&&void 0!==s?s:this.identityToken)}async fetchItemStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/items/${i}/stats`,e)}async fetchItemEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/items/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchItemEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/items/${i}/events/${n}`))}async updateItem(t,i,e,n,o){var d,a;return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async updateItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"POST",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async replaceItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PUT",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async patchItemData(t,i,e,n,o){var d,a;const l=(null==n?void 0:n.pointer)?`/${n.pointer}`:"";return new s(await r(this.token,"PATCH",`/lists/${t}/items/${i}/data${l}`,n,e,(null==o?void 0:o.ignore)?void 0:null!==(d=null==o?void 0:o.group)&&void 0!==d?d:this.identityGroup,(null==o?void 0:o.ignore)?void 0:null!==(a=null==o?void 0:o.token)&&void 0!==a?a:this.identityToken))}async deleteItem(t,i,e){var n,o;await r(this.token,"DELETE",`/lists/${t}/items/${i}`,void 0,void 0,(null==e?void 0:e.ignore)?void 0:null!==(n=null==e?void 0:e.group)&&void 0!==n?n:this.identityGroup,(null==e?void 0:e.ignore)?void 0:null!==(o=null==e?void 0:e.token)&&void 0!==o?o:this.identityToken)}async deleteItemData(t,i,e,n){var o,d;const a=(null==e?void 0:e.pointer)?`/${e.pointer}`:"";return new s(await r(this.token,"DELETE",`/lists/${t}/items/${i}/data${a}`,e,void 0,(null==n?void 0:n.ignore)?void 0:null!==(o=null==n?void 0:n.group)&&void 0!==o?o:this.identityGroup,(null==n?void 0:n.ignore)?void 0:null!==(d=null==n?void 0:n.token)&&void 0!==d?d:this.identityToken))}async createIndex(t,i){return new o(await r(this.token,"POST",`/lists/${t}/indexes`,void 0,i))}async fetchIndexes(t,i){const e=await r(this.token,"GET",`/lists/${t}/indexes`,i);return{...e,data:e.data.map((t=>new o(t)))}}async fetchIndex(t,i){return new o(await r(this.token,"GET",`/lists/${t}/indexes/${i}`))}async fetchIndexStats(t,i,e){return await r(this.token,"GET",`/lists/${t}/indexes/${i}/stats`,e)}async fetchIndexEvents(t,i,n){const o=await r(this.token,"GET",`/lists/${t}/indexes/${i}/events`,n);return{...o,data:o.data.map((t=>new e(t)))}}async fetchIndexEvent(t,i,n){return new e(await r(this.token,"GET",`/lists/${t}/indexes/${i}/events/${n}`))}async updateIndex(t,i,e){return new o(await r(this.token,"PATCH",`/lists/${t}/indexes/${i}`,void 0,e))}async deleteIndex(t,i){await r(this.token,"DELETE",`/lists/${t}/indexes/${i}`)}async createIdentity(t){return new n(await r(this.token,"POST","/identities",void 0,t))}async fetchIdentities(t){const i=await r(this.token,"GET","/identities",t);return{...i,data:i.data.map((t=>new n(t)))}}async fetchIdentity(t){return new n(await r(this.token,"GET",`/identities/${t}`))}async fetchIdentityStats(t,i){return await r(this.token,"GET",`/identities/${t}/stats`,i)}async fetchIdentityEvents(t,i){const n=await r(this.token,"GET",`/identities/${t}/events`,i);return{...n,data:n.data.map((t=>new e(t)))}}async fetchIdentityEvent(t,i){return new e(await r(this.token,"GET",`/identities/${t}/events/${i}`))}async updateIdentity(t,i){return new n(await r(this.token,"PUT",`/identities/${t}`,void 0,i))}async deleteIdentity(t){await r(this.token,"DELETE",`/identities/${t}`)}async registerIdentity(t,i){var e,o;return new n(await r(this.token,"POST","/identities/register",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async loginIdentity(t,i){var e,o;const s=await r(this.token,"POST","/identities/login",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken);return this.identityGroup=s.group||void 0,this.identityToken=s.token||void 0,[new n(a(s,"token")),this.identityToken]}async logoutIdentity(t){var i,e;await r(this.token,"POST","/identities/logout",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken),this.identityGroup=void 0,this.identityToken=void 0}async fetchSelfIdentity(t){var i,e;return new n(await r(this.token,"GET","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken))}async updateSelfIdentity(t,i){var e,o;return new n(await r(this.token,"PUT","/identities/self",void 0,t,(null==i?void 0:i.ignore)?void 0:null!==(e=null==i?void 0:i.group)&&void 0!==e?e:this.identityGroup,(null==i?void 0:i.ignore)?void 0:null!==(o=null==i?void 0:i.token)&&void 0!==o?o:this.identityToken))}async deleteSelfIdentity(t){var i,e;await r(this.token,"DELETE","/identities/self",void 0,void 0,(null==t?void 0:t.ignore)?void 0:null!==(i=null==t?void 0:t.group)&&void 0!==i?i:this.identityGroup,(null==t?void 0:t.ignore)?void 0:null!==(e=null==t?void 0:t.token)&&void 0!==e?e:this.identityToken)}},Object.defineProperty(t,"__esModule",{value:!0})}));


/***/ }),

/***/ "./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Client = void 0;
const jsonpad_realtime_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-realtime-sdk */ "./node_modules/@basementuniverse/jsonpad-realtime-sdk/build/jsonpad-realtime-sdk.js");
const jsonpad_sdk_1 = __webpack_require__(/*! @basementuniverse/jsonpad-sdk */ "./node_modules/@basementuniverse/jsonpad-sdk/build/jsonpad-sdk.js");
const events_1 = __webpack_require__(/*! ./events */ "./src/events/index.ts");
class Client extends EventTarget {
    constructor(options) {
        super();
        this.options = Object.assign({}, Client.defaultOptions, options !== null && options !== void 0 ? options : {});
        this.jsonpad = new jsonpad_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime = new jsonpad_realtime_sdk_1.default(this.options.jsonpadClientToken);
        this.jsonpadRealtime.listen(['item-created', 'item-updated'], [this.options.jsonpadGamesList], ['*']);
        this.jsonpadRealtime.addEventListener('item-created', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            this.dispatchEvent(new events_1.GameCreatedEvent(game));
        });
        this.jsonpadRealtime.addEventListener('item-updated', (e) => {
            const game = {
                id: e.detail.model.id,
                ...e.detail.model.data,
            };
            switch (game.lastEventType) {
                case 'game-created':
                    return;
                case 'player-joined':
                    this.dispatchEvent(new events_1.PlayerJoinedEvent(game));
                    return;
                case 'player-moved':
                    this.dispatchEvent(new events_1.PlayerMovedEvent(game));
                    return;
                case 'timed-out':
                    this.dispatchEvent(new events_1.TimedOutEvent(game));
                    return;
                case 'game-finished':
                    this.dispatchEvent(new events_1.GameFinishedEvent(game));
                    return;
            }
        });
    }
    async fetchGames(parameters) {
        const response = await this.jsonpad.fetchItems(this.options.jsonpadGamesList, {
            ...parameters,
            includeData: true,
        });
        return {
            page: response.page,
            limit: response.limit,
            total: response.total,
            games: response.data.map(item => ({
                id: item.id,
                ...item.data,
                startedAt: item.data.startedAt ? new Date(item.data.startedAt) : null,
                finishedAt: item.data.finishedAt
                    ? new Date(item.data.finishedAt)
                    : null,
            })),
        };
    }
    async fetchGame(gameId) {
        const game = await this.jsonpad.fetchItemData(this.options.jsonpadGamesList, gameId);
        return {
            id: gameId,
            ...game,
            startedAt: game.startedAt ? new Date(game.startedAt) : null,
            finishedAt: game.finishedAt ? new Date(game.finishedAt) : null,
        };
    }
    async fetchState(gameId, token) {
        const response = await fetch(`${this.options.asobiServerUrl}/state/${gameId}`, {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${token}`,
            },
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return {
            ...json.game,
            startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
            finishedAt: json.game.finishedAt ? new Date(json.game.finishedAt) : null,
        };
    }
    async createGame(playerName, playerData, gameData) {
        const response = await fetch(`${this.options.asobiServerUrl}/create-game`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
                gameData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async joinGame(gameId, playerName, playerData) {
        const response = await fetch(`${this.options.asobiServerUrl}/join-game/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                playerName,
                playerData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return [
            {
                ...json.game,
                startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
                finishedAt: json.game.finishedAt
                    ? new Date(json.game.finishedAt)
                    : null,
            },
            json.token,
        ];
    }
    async move(gameId, token, moveData) {
        const response = await fetch(`${this.options.asobiServerUrl}/move/${gameId}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                Authorization: `Bearer ${token}`,
            },
            body: JSON.stringify({
                moveData,
            }),
        });
        if (!response.ok) {
            throw new Error(await response.text());
        }
        const json = await response.json();
        return {
            ...json.game,
            startedAt: json.game.startedAt ? new Date(json.game.startedAt) : null,
            finishedAt: json.game.finishedAt ? new Date(json.game.finishedAt) : null,
        };
    }
}
exports.Client = Client;
Client.defaultOptions = {
    jsonpadClientToken: '',
    jsonpadGamesList: '',
    asobiServerUrl: '',
};


/***/ }),

/***/ "./src/events/game-created.ts":
/*!************************************!*\
  !*** ./src/events/game-created.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameCreatedEvent = void 0;
class GameCreatedEvent extends CustomEvent {
    constructor(detail) {
        super('game-created', { detail });
    }
}
exports.GameCreatedEvent = GameCreatedEvent;


/***/ }),

/***/ "./src/events/game-finished.ts":
/*!*************************************!*\
  !*** ./src/events/game-finished.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.GameFinishedEvent = void 0;
class GameFinishedEvent extends CustomEvent {
    constructor(detail) {
        super('game-finished', { detail });
    }
}
exports.GameFinishedEvent = GameFinishedEvent;


/***/ }),

/***/ "./src/events/index.ts":
/*!*****************************!*\
  !*** ./src/events/index.ts ***!
  \*****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./game-created */ "./src/events/game-created.ts"), exports);
__exportStar(__webpack_require__(/*! ./game-finished */ "./src/events/game-finished.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-joined */ "./src/events/player-joined.ts"), exports);
__exportStar(__webpack_require__(/*! ./player-moved */ "./src/events/player-moved.ts"), exports);
__exportStar(__webpack_require__(/*! ./timed-out */ "./src/events/timed-out.ts"), exports);


/***/ }),

/***/ "./src/events/player-joined.ts":
/*!*************************************!*\
  !*** ./src/events/player-joined.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerJoinedEvent = void 0;
class PlayerJoinedEvent extends CustomEvent {
    constructor(detail) {
        super('player-joined', { detail });
    }
}
exports.PlayerJoinedEvent = PlayerJoinedEvent;


/***/ }),

/***/ "./src/events/player-moved.ts":
/*!************************************!*\
  !*** ./src/events/player-moved.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerMovedEvent = void 0;
class PlayerMovedEvent extends CustomEvent {
    constructor(detail) {
        super('player-moved', { detail });
    }
}
exports.PlayerMovedEvent = PlayerMovedEvent;


/***/ }),

/***/ "./src/events/timed-out.ts":
/*!*********************************!*\
  !*** ./src/events/timed-out.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TimedOutEvent = void 0;
class TimedOutEvent extends CustomEvent {
    constructor(detail) {
        super('timed-out', { detail });
    }
}
exports.TimedOutEvent = TimedOutEvent;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AsobiClient = void 0;
var client_1 = __webpack_require__(/*! ./client */ "./src/client.ts");
Object.defineProperty(exports, "AsobiClient", ({ enumerable: true, get: function () { return client_1.Client; } }));
__exportStar(__webpack_require__(/*! ./types */ "./src/types.ts"), exports);


/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PlayerStatus = exports.GameStatus = void 0;
var GameStatus;
(function (GameStatus) {
    GameStatus["WAITING_TO_START"] = "waiting_to_start";
    GameStatus["STARTED"] = "started";
    GameStatus["FINISHED"] = "finished";
})(GameStatus = exports.GameStatus || (exports.GameStatus = {}));
var PlayerStatus;
(function (PlayerStatus) {
    PlayerStatus["WAITING_FOR_TURN"] = "waiting_for_turn";
    PlayerStatus["TAKING_TURN"] = "taking_turn";
    PlayerStatus["FINISHED"] = "finished";
})(PlayerStatus = exports.PlayerStatus || (exports.PlayerStatus = {}));


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsRUFKVyxVQUFVLEdBQVYsa0JBQVUsS0FBVixrQkFBVSxRQUlyQjtBQUVELElBQVksWUFJWDtBQUpELFdBQVksWUFBWTtJQUN0QixxREFBcUM7SUFDckMsMkNBQTJCO0lBQzNCLHFDQUFxQjtBQUN2QixDQUFDLEVBSlcsWUFBWSxHQUFaLG9CQUFZLEtBQVosb0JBQVksUUFJdkI7Ozs7Ozs7VUNoQkQ7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7OztVRXRCQTtVQUNBO1VBQ0E7VUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vbm9kZV9tb2R1bGVzL0BiYXNlbWVudHVuaXZlcnNlL2pzb25wYWQtcmVhbHRpbWUtc2RrL2J1aWxkL2pzb25wYWQtcmVhbHRpbWUtc2RrLmpzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL25vZGVfbW9kdWxlcy9AYmFzZW1lbnR1bml2ZXJzZS9qc29ucGFkLXNkay9idWlsZC9qc29ucGFkLXNkay5qcyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvY2xpZW50LnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvZ2FtZS1jcmVhdGVkLnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvZ2FtZS1maW5pc2hlZC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvZXZlbnRzL2luZGV4LnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC8uL3NyYy9ldmVudHMvcGxheWVyLWpvaW5lZC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvZXZlbnRzL3BsYXllci1tb3ZlZC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvZXZlbnRzL3RpbWVkLW91dC50cyIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vQGJhc2VtZW50dW5pdmVyc2UvYXNvYmktY2xpZW50Ly4vc3JjL3R5cGVzLnRzIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvd2VicGFjay9iZWZvcmUtc3RhcnR1cCIsIndlYnBhY2s6Ly9AYmFzZW1lbnR1bml2ZXJzZS9hc29iaS1jbGllbnQvd2VicGFjay9zdGFydHVwIiwid2VicGFjazovL0BiYXNlbWVudHVuaXZlcnNlL2Fzb2JpLWNsaWVudC93ZWJwYWNrL2FmdGVyLXN0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHNlbGYsICgpID0+IHtcbnJldHVybiAiLCIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXhwb3J0c1wiXSxlKTplKCh0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dHx8c2VsZikuSlNPTlBhZFJlYWx0aW1lPXt9KX0odGhpcywoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7Y2xhc3MgZSBleHRlbmRzIEN1c3RvbUV2ZW50e2NvbnN0cnVjdG9yKHQsZSl7aWYoZS5tb2RlbC5kYXRhJiZcInN0cmluZ1wiPT10eXBlb2YgZS5tb2RlbC5kYXRhKXRyeXtlLm1vZGVsLmRhdGE9SlNPTi5wYXJzZShlLm1vZGVsLmRhdGEpfWNhdGNoKHQpe31zdXBlcih0LHtkZXRhaWw6ZX0pfX1jbGFzcyBzIGV4dGVuZHMgQ3VzdG9tRXZlbnR7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LHtkZXRhaWw6ZX0pfX1jb25zdCBuPU9iamVjdC5jcmVhdGUobnVsbCk7bi5vcGVuPVwiMFwiLG4uY2xvc2U9XCIxXCIsbi5waW5nPVwiMlwiLG4ucG9uZz1cIjNcIixuLm1lc3NhZ2U9XCI0XCIsbi51cGdyYWRlPVwiNVwiLG4ubm9vcD1cIjZcIjtjb25zdCBpPU9iamVjdC5jcmVhdGUobnVsbCk7T2JqZWN0LmtleXMobikuZm9yRWFjaCgodD0+e2lbblt0XV09dH0pKTtjb25zdCByPXt0eXBlOlwiZXJyb3JcIixkYXRhOlwicGFyc2VyIGVycm9yXCJ9LG89XCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2ImJlwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQmxvYiksYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlcixoPXQ9PlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcodCk6dCYmdC5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcixjPSh7dHlwZTp0LGRhdGE6ZX0scyxpKT0+byYmZSBpbnN0YW5jZW9mIEJsb2I/cz9pKGUpOnAoZSxpKTphJiYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxoKGUpKT9zP2koZSk6cChuZXcgQmxvYihbZV0pLGkpOmkoblt0XSsoZXx8XCJcIikpLHA9KHQsZSk9Pntjb25zdCBzPW5ldyBGaWxlUmVhZGVyO3JldHVybiBzLm9ubG9hZD1mdW5jdGlvbigpe2NvbnN0IHQ9cy5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdO2UoXCJiXCIrKHR8fFwiXCIpKX0scy5yZWFkQXNEYXRhVVJMKHQpfTtmdW5jdGlvbiB1KHQpe3JldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheT90OnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDhBcnJheSh0KTpuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoKX1sZXQgZDtjb25zdCBsPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL1wiLGY9XCJ1bmRlZmluZWRcIj09dHlwZW9mIFVpbnQ4QXJyYXk/W106bmV3IFVpbnQ4QXJyYXkoMjU2KTtmb3IobGV0IHQ9MDt0PDY0O3QrKylmW2wuY2hhckNvZGVBdCh0KV09dDtjb25zdCB5PVwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLGc9KHQsZSk9PntpZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm57dHlwZTpcIm1lc3NhZ2VcIixkYXRhOl8odCxlKX07Y29uc3Qgcz10LmNoYXJBdCgwKTtpZihcImJcIj09PXMpcmV0dXJue3R5cGU6XCJtZXNzYWdlXCIsZGF0YTptKHQuc3Vic3RyaW5nKDEpLGUpfTtyZXR1cm4gaVtzXT90Lmxlbmd0aD4xP3t0eXBlOmlbc10sZGF0YTp0LnN1YnN0cmluZygxKX06e3R5cGU6aVtzXX06cn0sbT0odCxlKT0+e2lmKHkpe2NvbnN0IHM9KHQ9PntsZXQgZSxzLG4saSxyLG89Ljc1KnQubGVuZ3RoLGE9dC5sZW5ndGgsaD0wO1wiPVwiPT09dFt0Lmxlbmd0aC0xXSYmKG8tLSxcIj1cIj09PXRbdC5sZW5ndGgtMl0mJm8tLSk7Y29uc3QgYz1uZXcgQXJyYXlCdWZmZXIobykscD1uZXcgVWludDhBcnJheShjKTtmb3IoZT0wO2U8YTtlKz00KXM9Zlt0LmNoYXJDb2RlQXQoZSldLG49Zlt0LmNoYXJDb2RlQXQoZSsxKV0saT1mW3QuY2hhckNvZGVBdChlKzIpXSxyPWZbdC5jaGFyQ29kZUF0KGUrMyldLHBbaCsrXT1zPDwyfG4+PjQscFtoKytdPSgxNSZuKTw8NHxpPj4yLHBbaCsrXT0oMyZpKTw8Nnw2MyZyO3JldHVybiBjfSkodCk7cmV0dXJuIF8ocyxlKX1yZXR1cm57YmFzZTY0OiEwLGRhdGE6dH19LF89KHQsZSk9PlwiYmxvYlwiPT09ZT90IGluc3RhbmNlb2YgQmxvYj90Om5ldyBCbG9iKFt0XSk6dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3Q6dC5idWZmZXIsYj1TdHJpbmcuZnJvbUNoYXJDb2RlKDMwKTtmdW5jdGlvbiB2KCl7cmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybSh0LGUpeyFmdW5jdGlvbih0LGUpe28mJnQuZGF0YSBpbnN0YW5jZW9mIEJsb2I/dC5kYXRhLmFycmF5QnVmZmVyKCkudGhlbih1KS50aGVuKGUpOmEmJih0LmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8aCh0LmRhdGEpKT9lKHUodC5kYXRhKSk6Yyh0LCExLCh0PT57ZHx8KGQ9bmV3IFRleHRFbmNvZGVyKSxlKGQuZW5jb2RlKHQpKX0pKX0odCwocz0+e2NvbnN0IG49cy5sZW5ndGg7bGV0IGk7aWYobjwxMjYpaT1uZXcgVWludDhBcnJheSgxKSxuZXcgRGF0YVZpZXcoaS5idWZmZXIpLnNldFVpbnQ4KDAsbik7ZWxzZSBpZihuPDY1NTM2KXtpPW5ldyBVaW50OEFycmF5KDMpO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGkuYnVmZmVyKTt0LnNldFVpbnQ4KDAsMTI2KSx0LnNldFVpbnQxNigxLG4pfWVsc2V7aT1uZXcgVWludDhBcnJheSg5KTtjb25zdCB0PW5ldyBEYXRhVmlldyhpLmJ1ZmZlcik7dC5zZXRVaW50OCgwLDEyNyksdC5zZXRCaWdVaW50NjQoMSxCaWdJbnQobikpfXQuZGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuZGF0YSYmKGlbMF18PTEyOCksZS5lbnF1ZXVlKGkpLGUuZW5xdWV1ZShzKX0pKX19KX1sZXQgdztmdW5jdGlvbiBrKHQpe3JldHVybiB0LnJlZHVjZSgoKHQsZSk9PnQrZS5sZW5ndGgpLDApfWZ1bmN0aW9uIEUodCxlKXtpZih0WzBdLmxlbmd0aD09PWUpcmV0dXJuIHQuc2hpZnQoKTtjb25zdCBzPW5ldyBVaW50OEFycmF5KGUpO2xldCBuPTA7Zm9yKGxldCBpPTA7aTxlO2krKylzW2ldPXRbMF1bbisrXSxuPT09dFswXS5sZW5ndGgmJih0LnNoaWZ0KCksbj0wKTtyZXR1cm4gdC5sZW5ndGgmJm48dFswXS5sZW5ndGgmJih0WzBdPXRbMF0uc2xpY2UobikpLHN9ZnVuY3Rpb24gQSh0KXtpZih0KXJldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gQS5wcm90b3R5cGUpdFtlXT1BLnByb3RvdHlwZVtlXTtyZXR1cm4gdH0odCl9QS5wcm90b3R5cGUub249QS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSwodGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdPXRoaXMuX2NhbGxiYWNrc1tcIiRcIit0XXx8W10pLnB1c2goZSksdGhpc30sQS5wcm90b3R5cGUub25jZT1mdW5jdGlvbih0LGUpe2Z1bmN0aW9uIHMoKXt0aGlzLm9mZih0LHMpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBzLmZuPWUsdGhpcy5vbih0LHMpLHRoaXN9LEEucHJvdG90eXBlLm9mZj1BLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1BLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9QS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe2lmKHRoaXMuX2NhbGxiYWNrcz10aGlzLl9jYWxsYmFja3N8fHt9LDA9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2NhbGxiYWNrcz17fSx0aGlzO3ZhciBzLG49dGhpcy5fY2FsbGJhY2tzW1wiJFwiK3RdO2lmKCFuKXJldHVybiB0aGlzO2lmKDE9PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpcztmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylpZigocz1uW2ldKT09PWV8fHMuZm49PT1lKXtuLnNwbGljZShpLDEpO2JyZWFrfXJldHVybiAwPT09bi5sZW5ndGgmJmRlbGV0ZSB0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sdGhpc30sQS5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbih0KXt0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fTtmb3IodmFyIGU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSkscz10aGlzLl9jYWxsYmFja3NbXCIkXCIrdF0sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspZVtuLTFdPWFyZ3VtZW50c1tuXTtpZihzKXtuPTA7Zm9yKHZhciBpPShzPXMuc2xpY2UoMCkpLmxlbmd0aDtuPGk7KytuKXNbbl0uYXBwbHkodGhpcyxlKX1yZXR1cm4gdGhpc30sQS5wcm90b3R5cGUuZW1pdFJlc2VydmVkPUEucHJvdG90eXBlLmVtaXQsQS5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWxsYmFja3M9dGhpcy5fY2FsbGJhY2tzfHx7fSx0aGlzLl9jYWxsYmFja3NbXCIkXCIrdF18fFtdfSxBLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLmxpc3RlbmVycyh0KS5sZW5ndGh9O2NvbnN0IFQ9XCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgUHJvbWlzZS5yZXNvbHZlP3Q9PlByb21pc2UucmVzb2x2ZSgpLnRoZW4odCk6KHQsZSk9PmUodCwwKSxPPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2Z1bmN0aW9uIFIodCwuLi5lKXtyZXR1cm4gZS5yZWR1Y2UoKChlLHMpPT4odC5oYXNPd25Qcm9wZXJ0eShzKSYmKGVbc109dFtzXSksZSkpLHt9KX1jb25zdCBDPU8uc2V0VGltZW91dCxCPU8uY2xlYXJUaW1lb3V0O2Z1bmN0aW9uIHgodCxlKXtlLnVzZU5hdGl2ZVRpbWVycz8odC5zZXRUaW1lb3V0Rm49Qy5iaW5kKE8pLHQuY2xlYXJUaW1lb3V0Rm49Qi5iaW5kKE8pKToodC5zZXRUaW1lb3V0Rm49Ty5zZXRUaW1lb3V0LmJpbmQoTyksdC5jbGVhclRpbWVvdXRGbj1PLmNsZWFyVGltZW91dC5iaW5kKE8pKX1mdW5jdGlvbiBTKCl7cmV0dXJuIERhdGUubm93KCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygzKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiw1KX1jbGFzcyBOIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlLHMpe3N1cGVyKHQpLHRoaXMuZGVzY3JpcHRpb249ZSx0aGlzLmNvbnRleHQ9cyx0aGlzLnR5cGU9XCJUcmFuc3BvcnRFcnJvclwifX1jbGFzcyBMIGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMud3JpdGFibGU9ITEseCh0aGlzLHQpLHRoaXMub3B0cz10LHRoaXMucXVlcnk9dC5xdWVyeSx0aGlzLnNvY2tldD10LnNvY2tldCx0aGlzLnN1cHBvcnRzQmluYXJ5PSF0LmZvcmNlQmFzZTY0fW9uRXJyb3IodCxlLHMpe3JldHVybiBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLG5ldyBOKHQsZSxzKSksdGhpc31vcGVuKCl7cmV0dXJuIHRoaXMucmVhZHlTdGF0ZT1cIm9wZW5pbmdcIix0aGlzLmRvT3BlbigpLHRoaXN9Y2xvc2UoKXtyZXR1cm5cIm9wZW5pbmdcIiE9PXRoaXMucmVhZHlTdGF0ZSYmXCJvcGVuXCIhPT10aGlzLnJlYWR5U3RhdGV8fCh0aGlzLmRvQ2xvc2UoKSx0aGlzLm9uQ2xvc2UoKSksdGhpc31zZW5kKHQpe1wib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLndyaXRlKHQpfW9uT3Blbigpe3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLndyaXRhYmxlPSEwLHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIil9b25EYXRhKHQpe2NvbnN0IGU9Zyh0LHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpO3RoaXMub25QYWNrZXQoZSl9b25QYWNrZXQodCl7c3VwZXIuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsdCl9b25DbG9zZSh0KXt0aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIixzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLHQpfXBhdXNlKHQpe31jcmVhdGVVcmkodCxlPXt9KXtyZXR1cm4gdCtcIjovL1wiK3RoaXMuX2hvc3RuYW1lKCkrdGhpcy5fcG9ydCgpK3RoaXMub3B0cy5wYXRoK3RoaXMuX3F1ZXJ5KGUpfV9ob3N0bmFtZSgpe2NvbnN0IHQ9dGhpcy5vcHRzLmhvc3RuYW1lO3JldHVybi0xPT09dC5pbmRleE9mKFwiOlwiKT90OlwiW1wiK3QrXCJdXCJ9X3BvcnQoKXtyZXR1cm4gdGhpcy5vcHRzLnBvcnQmJih0aGlzLm9wdHMuc2VjdXJlJiZOdW1iZXIoNDQzIT09dGhpcy5vcHRzLnBvcnQpfHwhdGhpcy5vcHRzLnNlY3VyZSYmODAhPT1OdW1iZXIodGhpcy5vcHRzLnBvcnQpKT9cIjpcIit0aGlzLm9wdHMucG9ydDpcIlwifV9xdWVyeSh0KXtjb25zdCBlPWZ1bmN0aW9uKHQpe2xldCBlPVwiXCI7Zm9yKGxldCBzIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShzKSYmKGUubGVuZ3RoJiYoZSs9XCImXCIpLGUrPWVuY29kZVVSSUNvbXBvbmVudChzKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQodFtzXSkpO3JldHVybiBlfSh0KTtyZXR1cm4gZS5sZW5ndGg/XCI/XCIrZTpcIlwifX1jbGFzcyBxIGV4dGVuZHMgTHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksdGhpcy5fcG9sbGluZz0hMX1nZXQgbmFtZSgpe3JldHVyblwicG9sbGluZ1wifWRvT3Blbigpe3RoaXMuX3BvbGwoKX1wYXVzZSh0KXt0aGlzLnJlYWR5U3RhdGU9XCJwYXVzaW5nXCI7Y29uc3QgZT0oKT0+e3RoaXMucmVhZHlTdGF0ZT1cInBhdXNlZFwiLHQoKX07aWYodGhpcy5fcG9sbGluZ3x8IXRoaXMud3JpdGFibGUpe2xldCB0PTA7dGhpcy5fcG9sbGluZyYmKHQrKyx0aGlzLm9uY2UoXCJwb2xsQ29tcGxldGVcIiwoZnVuY3Rpb24oKXstLXR8fGUoKX0pKSksdGhpcy53cml0YWJsZXx8KHQrKyx0aGlzLm9uY2UoXCJkcmFpblwiLChmdW5jdGlvbigpey0tdHx8ZSgpfSkpKX1lbHNlIGUoKX1fcG9sbCgpe3RoaXMuX3BvbGxpbmc9ITAsdGhpcy5kb1BvbGwoKSx0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIil9b25EYXRhKHQpeygodCxlKT0+e2NvbnN0IHM9dC5zcGxpdChiKSxuPVtdO2ZvcihsZXQgdD0wO3Q8cy5sZW5ndGg7dCsrKXtjb25zdCBpPWcoc1t0XSxlKTtpZihuLnB1c2goaSksXCJlcnJvclwiPT09aS50eXBlKWJyZWFrfXJldHVybiBufSkodCx0aGlzLnNvY2tldC5iaW5hcnlUeXBlKS5mb3JFYWNoKCh0PT57aWYoXCJvcGVuaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUmJlwib3BlblwiPT09dC50eXBlJiZ0aGlzLm9uT3BlbigpLFwiY2xvc2VcIj09PXQudHlwZSlyZXR1cm4gdGhpcy5vbkNsb3NlKHtkZXNjcmlwdGlvbjpcInRyYW5zcG9ydCBjbG9zZWQgYnkgdGhlIHNlcnZlclwifSksITE7dGhpcy5vblBhY2tldCh0KX0pKSxcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5fcG9sbGluZz0hMSx0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxDb21wbGV0ZVwiKSxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZSYmdGhpcy5fcG9sbCgpKX1kb0Nsb3NlKCl7Y29uc3QgdD0oKT0+e3RoaXMud3JpdGUoW3t0eXBlOlwiY2xvc2VcIn1dKX07XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGU/dCgpOnRoaXMub25jZShcIm9wZW5cIix0KX13cml0ZSh0KXt0aGlzLndyaXRhYmxlPSExLCgodCxlKT0+e2NvbnN0IHM9dC5sZW5ndGgsbj1uZXcgQXJyYXkocyk7bGV0IGk9MDt0LmZvckVhY2goKCh0LHIpPT57Yyh0LCExLCh0PT57bltyXT10LCsraT09PXMmJmUobi5qb2luKGIpKX0pKX0pKX0pKHQsKHQ9Pnt0aGlzLmRvV3JpdGUodCwoKCk9Pnt0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIil9KSl9KSl9dXJpKCl7Y29uc3QgdD10aGlzLm9wdHMuc2VjdXJlP1wiaHR0cHNcIjpcImh0dHBcIixlPXRoaXMucXVlcnl8fHt9O3JldHVybiExIT09dGhpcy5vcHRzLnRpbWVzdGFtcFJlcXVlc3RzJiYoZVt0aGlzLm9wdHMudGltZXN0YW1wUGFyYW1dPVMoKSksdGhpcy5zdXBwb3J0c0JpbmFyeXx8ZS5zaWR8fChlLmI2ND0xKSx0aGlzLmNyZWF0ZVVyaSh0LGUpfX1sZXQgUD0hMTt0cnl7UD1cInVuZGVmaW5lZFwiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3QmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fWNvbnN0IGo9UDtmdW5jdGlvbiBEKCl7fWNsYXNzIFUgZXh0ZW5kcyBxe2NvbnN0cnVjdG9yKHQpe2lmKHN1cGVyKHQpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbil7Y29uc3QgZT1cImh0dHBzOlwiPT09bG9jYXRpb24ucHJvdG9jb2w7bGV0IHM9bG9jYXRpb24ucG9ydDtzfHwocz1lP1wiNDQzXCI6XCI4MFwiKSx0aGlzLnhkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmdC5ob3N0bmFtZSE9PWxvY2F0aW9uLmhvc3RuYW1lfHxzIT09dC5wb3J0fX1kb1dyaXRlKHQsZSl7Y29uc3Qgcz10aGlzLnJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIixkYXRhOnR9KTtzLm9uKFwic3VjY2Vzc1wiLGUpLHMub24oXCJlcnJvclwiLCgodCxlKT0+e3RoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsdCxlKX0pKX1kb1BvbGwoKXtjb25zdCB0PXRoaXMucmVxdWVzdCgpO3Qub24oXCJkYXRhXCIsdGhpcy5vbkRhdGEuYmluZCh0aGlzKSksdC5vbihcImVycm9yXCIsKCh0LGUpPT57dGhpcy5vbkVycm9yKFwieGhyIHBvbGwgZXJyb3JcIix0LGUpfSkpLHRoaXMucG9sbFhocj10fX1jbGFzcyBJIGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0LGUscyl7c3VwZXIoKSx0aGlzLmNyZWF0ZVJlcXVlc3Q9dCx4KHRoaXMscyksdGhpcy5fb3B0cz1zLHRoaXMuX21ldGhvZD1zLm1ldGhvZHx8XCJHRVRcIix0aGlzLl91cmk9ZSx0aGlzLl9kYXRhPXZvaWQgMCE9PXMuZGF0YT9zLmRhdGE6bnVsbCx0aGlzLl9jcmVhdGUoKX1fY3JlYXRlKCl7dmFyIHQ7Y29uc3QgZT1SKHRoaXMuX29wdHMsXCJhZ2VudFwiLFwicGZ4XCIsXCJrZXlcIixcInBhc3NwaHJhc2VcIixcImNlcnRcIixcImNhXCIsXCJjaXBoZXJzXCIsXCJyZWplY3RVbmF1dGhvcml6ZWRcIixcImF1dG9VbnJlZlwiKTtlLnhkb21haW49ISF0aGlzLl9vcHRzLnhkO2NvbnN0IHM9dGhpcy5feGhyPXRoaXMuY3JlYXRlUmVxdWVzdChlKTt0cnl7cy5vcGVuKHRoaXMuX21ldGhvZCx0aGlzLl91cmksITApO3RyeXtpZih0aGlzLl9vcHRzLmV4dHJhSGVhZGVycyl7cy5zZXREaXNhYmxlSGVhZGVyQ2hlY2smJnMuc2V0RGlzYWJsZUhlYWRlckNoZWNrKCEwKTtmb3IobGV0IHQgaW4gdGhpcy5fb3B0cy5leHRyYUhlYWRlcnMpdGhpcy5fb3B0cy5leHRyYUhlYWRlcnMuaGFzT3duUHJvcGVydHkodCkmJnMuc2V0UmVxdWVzdEhlYWRlcih0LHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzW3RdKX19Y2F0Y2godCl7fWlmKFwiUE9TVFwiPT09dGhpcy5fbWV0aG9kKXRyeXtzLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKX1jYXRjaCh0KXt9dHJ5e3Muc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiKi8qXCIpfWNhdGNoKHQpe31udWxsPT09KHQ9dGhpcy5fb3B0cy5jb29raWVKYXIpfHx2b2lkIDA9PT10fHx0LmFkZENvb2tpZXMocyksXCJ3aXRoQ3JlZGVudGlhbHNcImluIHMmJihzLndpdGhDcmVkZW50aWFscz10aGlzLl9vcHRzLndpdGhDcmVkZW50aWFscyksdGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dCYmKHMudGltZW91dD10aGlzLl9vcHRzLnJlcXVlc3RUaW1lb3V0KSxzLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e3ZhciB0OzM9PT1zLnJlYWR5U3RhdGUmJihudWxsPT09KHQ9dGhpcy5fb3B0cy5jb29raWVKYXIpfHx2b2lkIDA9PT10fHx0LnBhcnNlQ29va2llcyhzLmdldFJlc3BvbnNlSGVhZGVyKFwic2V0LWNvb2tpZVwiKSkpLDQ9PT1zLnJlYWR5U3RhdGUmJigyMDA9PT1zLnN0YXR1c3x8MTIyMz09PXMuc3RhdHVzP3RoaXMuX29uTG9hZCgpOnRoaXMuc2V0VGltZW91dEZuKCgoKT0+e3RoaXMuX29uRXJyb3IoXCJudW1iZXJcIj09dHlwZW9mIHMuc3RhdHVzP3Muc3RhdHVzOjApfSksMCkpfSxzLnNlbmQodGhpcy5fZGF0YSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5zZXRUaW1lb3V0Rm4oKCgpPT57dGhpcy5fb25FcnJvcih0KX0pLDApfVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmKHRoaXMuX2luZGV4PUkucmVxdWVzdHNDb3VudCsrLEkucmVxdWVzdHNbdGhpcy5faW5kZXhdPXRoaXMpfV9vbkVycm9yKHQpe3RoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIix0LHRoaXMuX3hociksdGhpcy5fY2xlYW51cCghMCl9X2NsZWFudXAodCl7aWYodm9pZCAwIT09dGhpcy5feGhyJiZudWxsIT09dGhpcy5feGhyKXtpZih0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlPUQsdCl0cnl7dGhpcy5feGhyLmFib3J0KCl9Y2F0Y2godCl7fVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmZGVsZXRlIEkucmVxdWVzdHNbdGhpcy5faW5kZXhdLHRoaXMuX3hocj1udWxsfX1fb25Mb2FkKCl7Y29uc3QgdD10aGlzLl94aHIucmVzcG9uc2VUZXh0O251bGwhPT10JiYodGhpcy5lbWl0UmVzZXJ2ZWQoXCJkYXRhXCIsdCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJzdWNjZXNzXCIpLHRoaXMuX2NsZWFudXAoKSl9YWJvcnQoKXt0aGlzLl9jbGVhbnVwKCl9fWlmKEkucmVxdWVzdHNDb3VudD0wLEkucmVxdWVzdHM9e30sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGF0dGFjaEV2ZW50KWF0dGFjaEV2ZW50KFwib251bmxvYWRcIixGKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFkZEV2ZW50TGlzdGVuZXIpe2FkZEV2ZW50TGlzdGVuZXIoXCJvbnBhZ2VoaWRlXCJpbiBPP1wicGFnZWhpZGVcIjpcInVubG9hZFwiLEYsITEpfWZ1bmN0aW9uIEYoKXtmb3IobGV0IHQgaW4gSS5yZXF1ZXN0cylJLnJlcXVlc3RzLmhhc093blByb3BlcnR5KHQpJiZJLnJlcXVlc3RzW3RdLmFib3J0KCl9Y29uc3QgTT1mdW5jdGlvbigpe2NvbnN0IHQ9Vih7eGRvbWFpbjohMX0pO3JldHVybiB0JiZudWxsIT09dC5yZXNwb25zZVR5cGV9KCk7ZnVuY3Rpb24gVih0KXtjb25zdCBlPXQueGRvbWFpbjt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFhNTEh0dHBSZXF1ZXN0JiYoIWV8fGopKXJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fWlmKCFlKXRyeXtyZXR1cm4gbmV3KE9bW1wiQWN0aXZlXCJdLmNvbmNhdChcIk9iamVjdFwiKS5qb2luKFwiWFwiKV0pKFwiTWljcm9zb2Z0LlhNTEhUVFBcIil9Y2F0Y2godCl7fX1jb25zdCBIPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PXR5cGVvZiBuYXZpZ2F0b3IucHJvZHVjdCYmXCJyZWFjdG5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QudG9Mb3dlckNhc2UoKTtjbGFzcyBLIGV4dGVuZHMgTHtnZXQgbmFtZSgpe3JldHVyblwid2Vic29ja2V0XCJ9ZG9PcGVuKCl7Y29uc3QgdD10aGlzLnVyaSgpLGU9dGhpcy5vcHRzLnByb3RvY29scyxzPUg/e306Uih0aGlzLm9wdHMsXCJhZ2VudFwiLFwicGVyTWVzc2FnZURlZmxhdGVcIixcInBmeFwiLFwia2V5XCIsXCJwYXNzcGhyYXNlXCIsXCJjZXJ0XCIsXCJjYVwiLFwiY2lwaGVyc1wiLFwicmVqZWN0VW5hdXRob3JpemVkXCIsXCJsb2NhbEFkZHJlc3NcIixcInByb3RvY29sVmVyc2lvblwiLFwib3JpZ2luXCIsXCJtYXhQYXlsb2FkXCIsXCJmYW1pbHlcIixcImNoZWNrU2VydmVySWRlbnRpdHlcIik7dGhpcy5vcHRzLmV4dHJhSGVhZGVycyYmKHMuaGVhZGVycz10aGlzLm9wdHMuZXh0cmFIZWFkZXJzKTt0cnl7dGhpcy53cz10aGlzLmNyZWF0ZVNvY2tldCh0LGUscyl9Y2F0Y2godCl7cmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIix0KX10aGlzLndzLmJpbmFyeVR5cGU9dGhpcy5zb2NrZXQuYmluYXJ5VHlwZSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCl9YWRkRXZlbnRMaXN0ZW5lcnMoKXt0aGlzLndzLm9ub3Blbj0oKT0+e3RoaXMub3B0cy5hdXRvVW5yZWYmJnRoaXMud3MuX3NvY2tldC51bnJlZigpLHRoaXMub25PcGVuKCl9LHRoaXMud3Mub25jbG9zZT10PT50aGlzLm9uQ2xvc2Uoe2Rlc2NyaXB0aW9uOlwid2Vic29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkXCIsY29udGV4dDp0fSksdGhpcy53cy5vbm1lc3NhZ2U9dD0+dGhpcy5vbkRhdGEodC5kYXRhKSx0aGlzLndzLm9uZXJyb3I9dD0+dGhpcy5vbkVycm9yKFwid2Vic29ja2V0IGVycm9yXCIsdCl9d3JpdGUodCl7dGhpcy53cml0YWJsZT0hMTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcz10W2VdLG49ZT09PXQubGVuZ3RoLTE7YyhzLHRoaXMuc3VwcG9ydHNCaW5hcnksKHQ9Pnt0cnl7dGhpcy5kb1dyaXRlKHMsdCl9Y2F0Y2godCl7fW4mJlQoKCgpPT57dGhpcy53cml0YWJsZT0hMCx0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpfSksdGhpcy5zZXRUaW1lb3V0Rm4pfSkpfX1kb0Nsb3NlKCl7dm9pZCAwIT09dGhpcy53cyYmKHRoaXMud3Mub25lcnJvcj0oKT0+e30sdGhpcy53cy5jbG9zZSgpLHRoaXMud3M9bnVsbCl9dXJpKCl7Y29uc3QgdD10aGlzLm9wdHMuc2VjdXJlP1wid3NzXCI6XCJ3c1wiLGU9dGhpcy5xdWVyeXx8e307cmV0dXJuIHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cyYmKGVbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXT1TKCkpLHRoaXMuc3VwcG9ydHNCaW5hcnl8fChlLmI2ND0xKSx0aGlzLmNyZWF0ZVVyaSh0LGUpfX1jb25zdCBXPU8uV2ViU29ja2V0fHxPLk1veldlYlNvY2tldDtjb25zdCBZPXt3ZWJzb2NrZXQ6Y2xhc3MgZXh0ZW5kcyBLe2NyZWF0ZVNvY2tldCh0LGUscyl7cmV0dXJuIEg/bmV3IFcodCxlLHMpOmU/bmV3IFcodCxlKTpuZXcgVyh0KX1kb1dyaXRlKHQsZSl7dGhpcy53cy5zZW5kKGUpfX0sd2VidHJhbnNwb3J0OmNsYXNzIGV4dGVuZHMgTHtnZXQgbmFtZSgpe3JldHVyblwid2VidHJhbnNwb3J0XCJ9ZG9PcGVuKCl7dHJ5e3RoaXMuX3RyYW5zcG9ydD1uZXcgV2ViVHJhbnNwb3J0KHRoaXMuY3JlYXRlVXJpKFwiaHR0cHNcIiksdGhpcy5vcHRzLnRyYW5zcG9ydE9wdGlvbnNbdGhpcy5uYW1lXSl9Y2F0Y2godCl7cmV0dXJuIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIix0KX10aGlzLl90cmFuc3BvcnQuY2xvc2VkLnRoZW4oKCgpPT57dGhpcy5vbkNsb3NlKCl9KSkuY2F0Y2goKHQ9Pnt0aGlzLm9uRXJyb3IoXCJ3ZWJ0cmFuc3BvcnQgZXJyb3JcIix0KX0pKSx0aGlzLl90cmFuc3BvcnQucmVhZHkudGhlbigoKCk9Pnt0aGlzLl90cmFuc3BvcnQuY3JlYXRlQmlkaXJlY3Rpb25hbFN0cmVhbSgpLnRoZW4oKHQ9Pntjb25zdCBlPWZ1bmN0aW9uKHQsZSl7d3x8KHc9bmV3IFRleHREZWNvZGVyKTtjb25zdCBzPVtdO2xldCBuPTAsaT0tMSxvPSExO3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0oYSxoKXtmb3Iocy5wdXNoKGEpOzspe2lmKDA9PT1uKXtpZihrKHMpPDEpYnJlYWs7Y29uc3QgdD1FKHMsMSk7bz0hKDEyOCZ+dFswXSksaT0xMjcmdFswXSxuPWk8MTI2PzM6MTI2PT09aT8xOjJ9ZWxzZSBpZigxPT09bil7aWYoayhzKTwyKWJyZWFrO2NvbnN0IHQ9RShzLDIpO2k9bmV3IERhdGFWaWV3KHQuYnVmZmVyLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCkuZ2V0VWludDE2KDApLG49M31lbHNlIGlmKDI9PT1uKXtpZihrKHMpPDgpYnJlYWs7Y29uc3QgdD1FKHMsOCksZT1uZXcgRGF0YVZpZXcodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQubGVuZ3RoKSxvPWUuZ2V0VWludDMyKDApO2lmKG8+TWF0aC5wb3coMiwyMSktMSl7aC5lbnF1ZXVlKHIpO2JyZWFrfWk9bypNYXRoLnBvdygyLDMyKStlLmdldFVpbnQzMig0KSxuPTN9ZWxzZXtpZihrKHMpPGkpYnJlYWs7Y29uc3QgdD1FKHMsaSk7aC5lbnF1ZXVlKGcobz90OncuZGVjb2RlKHQpLGUpKSxuPTB9aWYoMD09PWl8fGk+dCl7aC5lbnF1ZXVlKHIpO2JyZWFrfX19fSl9KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLHM9dC5yZWFkYWJsZS5waXBlVGhyb3VnaChlKS5nZXRSZWFkZXIoKSxuPXYoKTtuLnJlYWRhYmxlLnBpcGVUbyh0LndyaXRhYmxlKSx0aGlzLl93cml0ZXI9bi53cml0YWJsZS5nZXRXcml0ZXIoKTtjb25zdCBpPSgpPT57cy5yZWFkKCkudGhlbigoKHtkb25lOnQsdmFsdWU6ZX0pPT57dHx8KHRoaXMub25QYWNrZXQoZSksaSgpKX0pKS5jYXRjaCgodD0+e30pKX07aSgpO2NvbnN0IG89e3R5cGU6XCJvcGVuXCJ9O3RoaXMucXVlcnkuc2lkJiYoby5kYXRhPWB7XCJzaWRcIjpcIiR7dGhpcy5xdWVyeS5zaWR9XCJ9YCksdGhpcy5fd3JpdGVyLndyaXRlKG8pLnRoZW4oKCgpPT50aGlzLm9uT3BlbigpKSl9KSl9KSl9d3JpdGUodCl7dGhpcy53cml0YWJsZT0hMTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcz10W2VdLG49ZT09PXQubGVuZ3RoLTE7dGhpcy5fd3JpdGVyLndyaXRlKHMpLnRoZW4oKCgpPT57biYmVCgoKCk9Pnt0aGlzLndyaXRhYmxlPSEwLHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIil9KSx0aGlzLnNldFRpbWVvdXRGbil9KSl9fWRvQ2xvc2UoKXt2YXIgdDtudWxsPT09KHQ9dGhpcy5fdHJhbnNwb3J0KXx8dm9pZCAwPT09dHx8dC5jbG9zZSgpfX0scG9sbGluZzpjbGFzcyBleHRlbmRzIFV7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10JiZ0LmZvcmNlQmFzZTY0O3RoaXMuc3VwcG9ydHNCaW5hcnk9TSYmIWV9cmVxdWVzdCh0PXt9KXtyZXR1cm4gT2JqZWN0LmFzc2lnbih0LHt4ZDp0aGlzLnhkfSx0aGlzLm9wdHMpLG5ldyBJKFYsdGhpcy51cmkoKSx0KX19fSx6PS9eKD86KD8hW146QFxcLz8jXSs6W146QFxcL10qQCkoaHR0cHxodHRwc3x3c3x3c3MpOlxcL1xcLyk/KCg/OigoW146QFxcLz8jXSopKD86OihbXjpAXFwvPyNdKikpPyk/QCk/KCg/OlthLWYwLTldezAsNH06KXsyLDd9W2EtZjAtOV17MCw0fXxbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLEo9W1wic291cmNlXCIsXCJwcm90b2NvbFwiLFwiYXV0aG9yaXR5XCIsXCJ1c2VySW5mb1wiLFwidXNlclwiLFwicGFzc3dvcmRcIixcImhvc3RcIixcInBvcnRcIixcInJlbGF0aXZlXCIsXCJwYXRoXCIsXCJkaXJlY3RvcnlcIixcImZpbGVcIixcInF1ZXJ5XCIsXCJhbmNob3JcIl07ZnVuY3Rpb24gJCh0KXtpZih0Lmxlbmd0aD44ZTMpdGhyb3dcIlVSSSB0b28gbG9uZ1wiO2NvbnN0IGU9dCxzPXQuaW5kZXhPZihcIltcIiksbj10LmluZGV4T2YoXCJdXCIpOy0xIT1zJiYtMSE9biYmKHQ9dC5zdWJzdHJpbmcoMCxzKSt0LnN1YnN0cmluZyhzLG4pLnJlcGxhY2UoLzovZyxcIjtcIikrdC5zdWJzdHJpbmcobix0Lmxlbmd0aCkpO2xldCBpPXouZXhlYyh0fHxcIlwiKSxyPXt9LG89MTQ7Zm9yKDtvLS07KXJbSltvXV09aVtvXXx8XCJcIjtyZXR1cm4tMSE9cyYmLTEhPW4mJihyLnNvdXJjZT1lLHIuaG9zdD1yLmhvc3Quc3Vic3RyaW5nKDEsci5ob3N0Lmxlbmd0aC0xKS5yZXBsYWNlKC87L2csXCI6XCIpLHIuYXV0aG9yaXR5PXIuYXV0aG9yaXR5LnJlcGxhY2UoXCJbXCIsXCJcIikucmVwbGFjZShcIl1cIixcIlwiKS5yZXBsYWNlKC87L2csXCI6XCIpLHIuaXB2NnVyaT0hMCksci5wYXRoTmFtZXM9ZnVuY3Rpb24odCxlKXtjb25zdCBzPS9cXC97Miw5fS9nLG49ZS5yZXBsYWNlKHMsXCIvXCIpLnNwbGl0KFwiL1wiKTtcIi9cIiE9ZS5zbGljZSgwLDEpJiYwIT09ZS5sZW5ndGh8fG4uc3BsaWNlKDAsMSk7XCIvXCI9PWUuc2xpY2UoLTEpJiZuLnNwbGljZShuLmxlbmd0aC0xLDEpO3JldHVybiBufSgwLHIucGF0aCksci5xdWVyeUtleT1mdW5jdGlvbih0LGUpe2NvbnN0IHM9e307cmV0dXJuIGUucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csKGZ1bmN0aW9uKHQsZSxuKXtlJiYoc1tlXT1uKX0pKSxzfSgwLHIucXVlcnkpLHJ9Y29uc3QgUT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhZGRFdmVudExpc3RlbmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByZW1vdmVFdmVudExpc3RlbmVyLFg9W107USYmYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKCk9PntYLmZvckVhY2goKHQ9PnQoKSkpfSksITEpO2NsYXNzIEcgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQsZSl7aWYoc3VwZXIoKSx0aGlzLmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHRoaXMud3JpdGVCdWZmZXI9W10sdGhpcy5fcHJldkJ1ZmZlckxlbj0wLHRoaXMuX3BpbmdJbnRlcnZhbD0tMSx0aGlzLl9waW5nVGltZW91dD0tMSx0aGlzLl9tYXhQYXlsb2FkPS0xLHRoaXMuX3BpbmdUaW1lb3V0VGltZT0xLzAsdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihlPXQsdD1udWxsKSx0KXtjb25zdCBzPSQodCk7ZS5ob3N0bmFtZT1zLmhvc3QsZS5zZWN1cmU9XCJodHRwc1wiPT09cy5wcm90b2NvbHx8XCJ3c3NcIj09PXMucHJvdG9jb2wsZS5wb3J0PXMucG9ydCxzLnF1ZXJ5JiYoZS5xdWVyeT1zLnF1ZXJ5KX1lbHNlIGUuaG9zdCYmKGUuaG9zdG5hbWU9JChlLmhvc3QpLmhvc3QpO3godGhpcyxlKSx0aGlzLnNlY3VyZT1udWxsIT1lLnNlY3VyZT9lLnNlY3VyZTpcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24mJlwiaHR0cHM6XCI9PT1sb2NhdGlvbi5wcm90b2NvbCxlLmhvc3RuYW1lJiYhZS5wb3J0JiYoZS5wb3J0PXRoaXMuc2VjdXJlP1wiNDQzXCI6XCI4MFwiKSx0aGlzLmhvc3RuYW1lPWUuaG9zdG5hbWV8fChcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24/bG9jYXRpb24uaG9zdG5hbWU6XCJsb2NhbGhvc3RcIiksdGhpcy5wb3J0PWUucG9ydHx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24ucG9ydD9sb2NhdGlvbi5wb3J0OnRoaXMuc2VjdXJlP1wiNDQzXCI6XCI4MFwiKSx0aGlzLnRyYW5zcG9ydHM9W10sdGhpcy5fdHJhbnNwb3J0c0J5TmFtZT17fSxlLnRyYW5zcG9ydHMuZm9yRWFjaCgodD0+e2NvbnN0IGU9dC5wcm90b3R5cGUubmFtZTt0aGlzLnRyYW5zcG9ydHMucHVzaChlKSx0aGlzLl90cmFuc3BvcnRzQnlOYW1lW2VdPXR9KSksdGhpcy5vcHRzPU9iamVjdC5hc3NpZ24oe3BhdGg6XCIvZW5naW5lLmlvXCIsYWdlbnQ6ITEsd2l0aENyZWRlbnRpYWxzOiExLHVwZ3JhZGU6ITAsdGltZXN0YW1wUGFyYW06XCJ0XCIscmVtZW1iZXJVcGdyYWRlOiExLGFkZFRyYWlsaW5nU2xhc2g6ITAscmVqZWN0VW5hdXRob3JpemVkOiEwLHBlck1lc3NhZ2VEZWZsYXRlOnt0aHJlc2hvbGQ6MTAyNH0sdHJhbnNwb3J0T3B0aW9uczp7fSxjbG9zZU9uQmVmb3JldW5sb2FkOiExfSxlKSx0aGlzLm9wdHMucGF0aD10aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLyxcIlwiKSsodGhpcy5vcHRzLmFkZFRyYWlsaW5nU2xhc2g/XCIvXCI6XCJcIiksXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0cy5xdWVyeSYmKHRoaXMub3B0cy5xdWVyeT1mdW5jdGlvbih0KXtsZXQgZT17fSxzPXQuc3BsaXQoXCImXCIpO2ZvcihsZXQgdD0wLG49cy5sZW5ndGg7dDxuO3QrKyl7bGV0IG49c1t0XS5zcGxpdChcIj1cIik7ZVtkZWNvZGVVUklDb21wb25lbnQoblswXSldPWRlY29kZVVSSUNvbXBvbmVudChuWzFdKX1yZXR1cm4gZX0odGhpcy5vcHRzLnF1ZXJ5KSksUSYmKHRoaXMub3B0cy5jbG9zZU9uQmVmb3JldW5sb2FkJiYodGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lcj0oKT0+e3RoaXMudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSl9LGFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLl9iZWZvcmV1bmxvYWRFdmVudExpc3RlbmVyLCExKSksXCJsb2NhbGhvc3RcIiE9PXRoaXMuaG9zdG5hbWUmJih0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lcj0oKT0+e3RoaXMuX29uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIix7ZGVzY3JpcHRpb246XCJuZXR3b3JrIGNvbm5lY3Rpb24gbG9zdFwifSl9LFgucHVzaCh0aGlzLl9vZmZsaW5lRXZlbnRMaXN0ZW5lcikpKSx0aGlzLm9wdHMud2l0aENyZWRlbnRpYWxzJiYodGhpcy5fY29va2llSmFyPXZvaWQgMCksdGhpcy5fb3BlbigpfWNyZWF0ZVRyYW5zcG9ydCh0KXtjb25zdCBlPU9iamVjdC5hc3NpZ24oe30sdGhpcy5vcHRzLnF1ZXJ5KTtlLkVJTz00LGUudHJhbnNwb3J0PXQsdGhpcy5pZCYmKGUuc2lkPXRoaXMuaWQpO2NvbnN0IHM9T2JqZWN0LmFzc2lnbih7fSx0aGlzLm9wdHMse3F1ZXJ5OmUsc29ja2V0OnRoaXMsaG9zdG5hbWU6dGhpcy5ob3N0bmFtZSxzZWN1cmU6dGhpcy5zZWN1cmUscG9ydDp0aGlzLnBvcnR9LHRoaXMub3B0cy50cmFuc3BvcnRPcHRpb25zW3RdKTtyZXR1cm4gbmV3IHRoaXMuX3RyYW5zcG9ydHNCeU5hbWVbdF0ocyl9X29wZW4oKXtpZigwPT09dGhpcy50cmFuc3BvcnRzLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLnNldFRpbWVvdXRGbigoKCk9Pnt0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsXCJObyB0cmFuc3BvcnRzIGF2YWlsYWJsZVwiKX0pLDApO2NvbnN0IHQ9dGhpcy5vcHRzLnJlbWVtYmVyVXBncmFkZSYmRy5wcmlvcldlYnNvY2tldFN1Y2Nlc3MmJi0xIT09dGhpcy50cmFuc3BvcnRzLmluZGV4T2YoXCJ3ZWJzb2NrZXRcIik/XCJ3ZWJzb2NrZXRcIjp0aGlzLnRyYW5zcG9ydHNbMF07dGhpcy5yZWFkeVN0YXRlPVwib3BlbmluZ1wiO2NvbnN0IGU9dGhpcy5jcmVhdGVUcmFuc3BvcnQodCk7ZS5vcGVuKCksdGhpcy5zZXRUcmFuc3BvcnQoZSl9c2V0VHJhbnNwb3J0KHQpe3RoaXMudHJhbnNwb3J0JiZ0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnRyYW5zcG9ydD10LHQub24oXCJkcmFpblwiLHRoaXMuX29uRHJhaW4uYmluZCh0aGlzKSkub24oXCJwYWNrZXRcIix0aGlzLl9vblBhY2tldC5iaW5kKHRoaXMpKS5vbihcImVycm9yXCIsdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpKS5vbihcImNsb3NlXCIsKHQ9PnRoaXMuX29uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIix0KSkpfW9uT3Blbigpe3RoaXMucmVhZHlTdGF0ZT1cIm9wZW5cIixHLnByaW9yV2Vic29ja2V0U3VjY2Vzcz1cIndlYnNvY2tldFwiPT09dGhpcy50cmFuc3BvcnQubmFtZSx0aGlzLmVtaXRSZXNlcnZlZChcIm9wZW5cIiksdGhpcy5mbHVzaCgpfV9vblBhY2tldCh0KXtpZihcIm9wZW5pbmdcIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJvcGVuXCI9PT10aGlzLnJlYWR5U3RhdGV8fFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXN3aXRjaCh0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldFwiLHQpLHRoaXMuZW1pdFJlc2VydmVkKFwiaGVhcnRiZWF0XCIpLHQudHlwZSl7Y2FzZVwib3BlblwiOnRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZSh0LmRhdGEpKTticmVhaztjYXNlXCJwaW5nXCI6dGhpcy5fc2VuZFBhY2tldChcInBvbmdcIiksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpLHRoaXMuZW1pdFJlc2VydmVkKFwicG9uZ1wiKSx0aGlzLl9yZXNldFBpbmdUaW1lb3V0KCk7YnJlYWs7Y2FzZVwiZXJyb3JcIjpjb25zdCBlPW5ldyBFcnJvcihcInNlcnZlciBlcnJvclwiKTtlLmNvZGU9dC5kYXRhLHRoaXMuX29uRXJyb3IoZSk7YnJlYWs7Y2FzZVwibWVzc2FnZVwiOnRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLHQuZGF0YSksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJtZXNzYWdlXCIsdC5kYXRhKX19b25IYW5kc2hha2UodCl7dGhpcy5lbWl0UmVzZXJ2ZWQoXCJoYW5kc2hha2VcIix0KSx0aGlzLmlkPXQuc2lkLHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZD10LnNpZCx0aGlzLl9waW5nSW50ZXJ2YWw9dC5waW5nSW50ZXJ2YWwsdGhpcy5fcGluZ1RpbWVvdXQ9dC5waW5nVGltZW91dCx0aGlzLl9tYXhQYXlsb2FkPXQubWF4UGF5bG9hZCx0aGlzLm9uT3BlbigpLFwiY2xvc2VkXCIhPT10aGlzLnJlYWR5U3RhdGUmJnRoaXMuX3Jlc2V0UGluZ1RpbWVvdXQoKX1fcmVzZXRQaW5nVGltZW91dCgpe3RoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5fcGluZ1RpbWVvdXRUaW1lcik7Y29uc3QgdD10aGlzLl9waW5nSW50ZXJ2YWwrdGhpcy5fcGluZ1RpbWVvdXQ7dGhpcy5fcGluZ1RpbWVvdXRUaW1lPURhdGUubm93KCkrdCx0aGlzLl9waW5nVGltZW91dFRpbWVyPXRoaXMuc2V0VGltZW91dEZuKCgoKT0+e3RoaXMuX29uQ2xvc2UoXCJwaW5nIHRpbWVvdXRcIil9KSx0KSx0aGlzLm9wdHMuYXV0b1VucmVmJiZ0aGlzLl9waW5nVGltZW91dFRpbWVyLnVucmVmKCl9X29uRHJhaW4oKXt0aGlzLndyaXRlQnVmZmVyLnNwbGljZSgwLHRoaXMuX3ByZXZCdWZmZXJMZW4pLHRoaXMuX3ByZXZCdWZmZXJMZW49MCwwPT09dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg/dGhpcy5lbWl0UmVzZXJ2ZWQoXCJkcmFpblwiKTp0aGlzLmZsdXNoKCl9Zmx1c2goKXtpZihcImNsb3NlZFwiIT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLnRyYW5zcG9ydC53cml0YWJsZSYmIXRoaXMudXBncmFkaW5nJiZ0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCl7Y29uc3QgdD10aGlzLl9nZXRXcml0YWJsZVBhY2tldHMoKTt0aGlzLnRyYW5zcG9ydC5zZW5kKHQpLHRoaXMuX3ByZXZCdWZmZXJMZW49dC5sZW5ndGgsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJmbHVzaFwiKX19X2dldFdyaXRhYmxlUGFja2V0cygpe2lmKCEodGhpcy5fbWF4UGF5bG9hZCYmXCJwb2xsaW5nXCI9PT10aGlzLnRyYW5zcG9ydC5uYW1lJiZ0aGlzLndyaXRlQnVmZmVyLmxlbmd0aD4xKSlyZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtsZXQgdD0xO2ZvcihsZXQgcz0wO3M8dGhpcy53cml0ZUJ1ZmZlci5sZW5ndGg7cysrKXtjb25zdCBuPXRoaXMud3JpdGVCdWZmZXJbc10uZGF0YTtpZihuJiYodCs9XCJzdHJpbmdcIj09dHlwZW9mKGU9bik/ZnVuY3Rpb24odCl7bGV0IGU9MCxzPTA7Zm9yKGxldCBuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWU9dC5jaGFyQ29kZUF0KG4pLGU8MTI4P3MrPTE6ZTwyMDQ4P3MrPTI6ZTw1NTI5Nnx8ZT49NTczNDQ/cys9MzoobisrLHMrPTQpO3JldHVybiBzfShlKTpNYXRoLmNlaWwoMS4zMyooZS5ieXRlTGVuZ3RofHxlLnNpemUpKSkscz4wJiZ0PnRoaXMuX21heFBheWxvYWQpcmV0dXJuIHRoaXMud3JpdGVCdWZmZXIuc2xpY2UoMCxzKTt0Kz0yfXZhciBlO3JldHVybiB0aGlzLndyaXRlQnVmZmVyfV9oYXNQaW5nRXhwaXJlZCgpe2lmKCF0aGlzLl9waW5nVGltZW91dFRpbWUpcmV0dXJuITA7Y29uc3QgdD1EYXRlLm5vdygpPnRoaXMuX3BpbmdUaW1lb3V0VGltZTtyZXR1cm4gdCYmKHRoaXMuX3BpbmdUaW1lb3V0VGltZT0wLFQoKCgpPT57dGhpcy5fb25DbG9zZShcInBpbmcgdGltZW91dFwiKX0pLHRoaXMuc2V0VGltZW91dEZuKSksdH13cml0ZSh0LGUscyl7cmV0dXJuIHRoaXMuX3NlbmRQYWNrZXQoXCJtZXNzYWdlXCIsdCxlLHMpLHRoaXN9c2VuZCh0LGUscyl7cmV0dXJuIHRoaXMuX3NlbmRQYWNrZXQoXCJtZXNzYWdlXCIsdCxlLHMpLHRoaXN9X3NlbmRQYWNrZXQodCxlLHMsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKG49ZSxlPXZvaWQgMCksXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmKG49cyxzPW51bGwpLFwiY2xvc2luZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcImNsb3NlZFwiPT09dGhpcy5yZWFkeVN0YXRlKXJldHVybjsocz1zfHx7fSkuY29tcHJlc3M9ITEhPT1zLmNvbXByZXNzO2NvbnN0IGk9e3R5cGU6dCxkYXRhOmUsb3B0aW9uczpzfTt0aGlzLmVtaXRSZXNlcnZlZChcInBhY2tldENyZWF0ZVwiLGkpLHRoaXMud3JpdGVCdWZmZXIucHVzaChpKSxuJiZ0aGlzLm9uY2UoXCJmbHVzaFwiLG4pLHRoaXMuZmx1c2goKX1jbG9zZSgpe2NvbnN0IHQ9KCk9Pnt0aGlzLl9vbkNsb3NlKFwiZm9yY2VkIGNsb3NlXCIpLHRoaXMudHJhbnNwb3J0LmNsb3NlKCl9LGU9KCk9Pnt0aGlzLm9mZihcInVwZ3JhZGVcIixlKSx0aGlzLm9mZihcInVwZ3JhZGVFcnJvclwiLGUpLHQoKX0scz0oKT0+e3RoaXMub25jZShcInVwZ3JhZGVcIixlKSx0aGlzLm9uY2UoXCJ1cGdyYWRlRXJyb3JcIixlKX07cmV0dXJuXCJvcGVuaW5nXCIhPT10aGlzLnJlYWR5U3RhdGUmJlwib3BlblwiIT09dGhpcy5yZWFkeVN0YXRlfHwodGhpcy5yZWFkeVN0YXRlPVwiY2xvc2luZ1wiLHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoP3RoaXMub25jZShcImRyYWluXCIsKCgpPT57dGhpcy51cGdyYWRpbmc/cygpOnQoKX0pKTp0aGlzLnVwZ3JhZGluZz9zKCk6dCgpKSx0aGlzfV9vbkVycm9yKHQpe2lmKEcucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExLHRoaXMub3B0cy50cnlBbGxUcmFuc3BvcnRzJiZ0aGlzLnRyYW5zcG9ydHMubGVuZ3RoPjEmJlwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlKXJldHVybiB0aGlzLnRyYW5zcG9ydHMuc2hpZnQoKSx0aGlzLl9vcGVuKCk7dGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLHQpLHRoaXMuX29uQ2xvc2UoXCJ0cmFuc3BvcnQgZXJyb3JcIix0KX1fb25DbG9zZSh0LGUpe2lmKFwib3BlbmluZ1wiPT09dGhpcy5yZWFkeVN0YXRlfHxcIm9wZW5cIj09PXRoaXMucmVhZHlTdGF0ZXx8XCJjbG9zaW5nXCI9PT10aGlzLnJlYWR5U3RhdGUpe2lmKHRoaXMuY2xlYXJUaW1lb3V0Rm4odGhpcy5fcGluZ1RpbWVvdXRUaW1lciksdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIiksdGhpcy50cmFuc3BvcnQuY2xvc2UoKSx0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxRJiYodGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lciYmcmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsITEpLHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKSl7Y29uc3QgdD1YLmluZGV4T2YodGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIpOy0xIT09dCYmWC5zcGxpY2UodCwxKX10aGlzLnJlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLmlkPW51bGwsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLHQsZSksdGhpcy53cml0ZUJ1ZmZlcj1bXSx0aGlzLl9wcmV2QnVmZmVyTGVuPTB9fX1HLnByb3RvY29sPTQ7Y2xhc3MgWiBleHRlbmRzIEd7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLHRoaXMuX3VwZ3JhZGVzPVtdfW9uT3Blbigpe2lmKHN1cGVyLm9uT3BlbigpLFwib3BlblwiPT09dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLm9wdHMudXBncmFkZSlmb3IobGV0IHQ9MDt0PHRoaXMuX3VwZ3JhZGVzLmxlbmd0aDt0KyspdGhpcy5fcHJvYmUodGhpcy5fdXBncmFkZXNbdF0pfV9wcm9iZSh0KXtsZXQgZT10aGlzLmNyZWF0ZVRyYW5zcG9ydCh0KSxzPSExO0cucHJpb3JXZWJzb2NrZXRTdWNjZXNzPSExO2NvbnN0IG49KCk9PntzfHwoZS5zZW5kKFt7dHlwZTpcInBpbmdcIixkYXRhOlwicHJvYmVcIn1dKSxlLm9uY2UoXCJwYWNrZXRcIiwodD0+e2lmKCFzKWlmKFwicG9uZ1wiPT09dC50eXBlJiZcInByb2JlXCI9PT10LmRhdGEpe2lmKHRoaXMudXBncmFkaW5nPSEwLHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkaW5nXCIsZSksIWUpcmV0dXJuO0cucHJpb3JXZWJzb2NrZXRTdWNjZXNzPVwid2Vic29ja2V0XCI9PT1lLm5hbWUsdGhpcy50cmFuc3BvcnQucGF1c2UoKCgpPT57c3x8XCJjbG9zZWRcIiE9PXRoaXMucmVhZHlTdGF0ZSYmKGMoKSx0aGlzLnNldFRyYW5zcG9ydChlKSxlLnNlbmQoW3t0eXBlOlwidXBncmFkZVwifV0pLHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZVwiLGUpLGU9bnVsbCx0aGlzLnVwZ3JhZGluZz0hMSx0aGlzLmZsdXNoKCkpfSkpfWVsc2V7Y29uc3QgdD1uZXcgRXJyb3IoXCJwcm9iZSBlcnJvclwiKTt0LnRyYW5zcG9ydD1lLm5hbWUsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIix0KX19KSkpfTtmdW5jdGlvbiBpKCl7c3x8KHM9ITAsYygpLGUuY2xvc2UoKSxlPW51bGwpfWNvbnN0IHI9dD0+e2NvbnN0IHM9bmV3IEVycm9yKFwicHJvYmUgZXJyb3I6IFwiK3QpO3MudHJhbnNwb3J0PWUubmFtZSxpKCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIixzKX07ZnVuY3Rpb24gbygpe3IoXCJ0cmFuc3BvcnQgY2xvc2VkXCIpfWZ1bmN0aW9uIGEoKXtyKFwic29ja2V0IGNsb3NlZFwiKX1mdW5jdGlvbiBoKHQpe2UmJnQubmFtZSE9PWUubmFtZSYmaSgpfWNvbnN0IGM9KCk9PntlLnJlbW92ZUxpc3RlbmVyKFwib3BlblwiLG4pLGUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHIpLGUucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG8pLHRoaXMub2ZmKFwiY2xvc2VcIixhKSx0aGlzLm9mZihcInVwZ3JhZGluZ1wiLGgpfTtlLm9uY2UoXCJvcGVuXCIsbiksZS5vbmNlKFwiZXJyb3JcIixyKSxlLm9uY2UoXCJjbG9zZVwiLG8pLHRoaXMub25jZShcImNsb3NlXCIsYSksdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsaCksLTEhPT10aGlzLl91cGdyYWRlcy5pbmRleE9mKFwid2VidHJhbnNwb3J0XCIpJiZcIndlYnRyYW5zcG9ydFwiIT09dD90aGlzLnNldFRpbWVvdXRGbigoKCk9PntzfHxlLm9wZW4oKX0pLDIwMCk6ZS5vcGVuKCl9b25IYW5kc2hha2UodCl7dGhpcy5fdXBncmFkZXM9dGhpcy5fZmlsdGVyVXBncmFkZXModC51cGdyYWRlcyksc3VwZXIub25IYW5kc2hha2UodCl9X2ZpbHRlclVwZ3JhZGVzKHQpe2NvbnN0IGU9W107Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKyspfnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKHRbc10pJiZlLnB1c2godFtzXSk7cmV0dXJuIGV9fWxldCB0dD1jbGFzcyBleHRlbmRzIFp7Y29uc3RydWN0b3IodCxlPXt9KXtjb25zdCBzPVwib2JqZWN0XCI9PXR5cGVvZiB0P3Q6ZTsoIXMudHJhbnNwb3J0c3x8cy50cmFuc3BvcnRzJiZcInN0cmluZ1wiPT10eXBlb2Ygcy50cmFuc3BvcnRzWzBdKSYmKHMudHJhbnNwb3J0cz0ocy50cmFuc3BvcnRzfHxbXCJwb2xsaW5nXCIsXCJ3ZWJzb2NrZXRcIixcIndlYnRyYW5zcG9ydFwiXSkubWFwKCh0PT5ZW3RdKSkuZmlsdGVyKCh0PT4hIXQpKSksc3VwZXIodCxzKX19O2NvbnN0IGV0PVwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLHN0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbnQ9XCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYnx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEJsb2ImJlwiW29iamVjdCBCbG9iQ29uc3RydWN0b3JdXCI9PT1zdC5jYWxsKEJsb2IpLGl0PVwiZnVuY3Rpb25cIj09dHlwZW9mIEZpbGV8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBGaWxlJiZcIltvYmplY3QgRmlsZUNvbnN0cnVjdG9yXVwiPT09c3QuY2FsbChGaWxlKTtmdW5jdGlvbiBydCh0KXtyZXR1cm4gZXQmJih0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fCh0PT5cImZ1bmN0aW9uXCI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KHQpOnQuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKHQpKXx8bnQmJnQgaW5zdGFuY2VvZiBCbG9ifHxpdCYmdCBpbnN0YW5jZW9mIEZpbGV9ZnVuY3Rpb24gb3QodCxlKXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKGxldCBlPTAscz10Lmxlbmd0aDtlPHM7ZSsrKWlmKG90KHRbZV0pKXJldHVybiEwO3JldHVybiExfWlmKHJ0KHQpKXJldHVybiEwO2lmKHQudG9KU09OJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRvSlNPTiYmMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIG90KHQudG9KU09OKCksITApO2Zvcihjb25zdCBlIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSkmJm90KHRbZV0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGF0KHQpe2NvbnN0IGU9W10scz10LmRhdGEsbj10O3JldHVybiBuLmRhdGE9aHQocyxlKSxuLmF0dGFjaG1lbnRzPWUubGVuZ3RoLHtwYWNrZXQ6bixidWZmZXJzOmV9fWZ1bmN0aW9uIGh0KHQsZSl7aWYoIXQpcmV0dXJuIHQ7aWYocnQodCkpe2NvbnN0IHM9e19wbGFjZWhvbGRlcjohMCxudW06ZS5sZW5ndGh9O3JldHVybiBlLnB1c2godCksc31pZihBcnJheS5pc0FycmF5KHQpKXtjb25zdCBzPW5ldyBBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspc1tuXT1odCh0W25dLGUpO3JldHVybiBzfWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiYhKHQgaW5zdGFuY2VvZiBEYXRlKSl7Y29uc3Qgcz17fTtmb3IoY29uc3QgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoc1tuXT1odCh0W25dLGUpKTtyZXR1cm4gc31yZXR1cm4gdH1mdW5jdGlvbiBjdCh0LGUpe3JldHVybiB0LmRhdGE9cHQodC5kYXRhLGUpLGRlbGV0ZSB0LmF0dGFjaG1lbnRzLHR9ZnVuY3Rpb24gcHQodCxlKXtpZighdClyZXR1cm4gdDtpZih0JiYhMD09PXQuX3BsYWNlaG9sZGVyKXtpZihcIm51bWJlclwiPT10eXBlb2YgdC5udW0mJnQubnVtPj0wJiZ0Lm51bTxlLmxlbmd0aClyZXR1cm4gZVt0Lm51bV07dGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBhdHRhY2htZW50c1wiKX1pZihBcnJheS5pc0FycmF5KHQpKWZvcihsZXQgcz0wO3M8dC5sZW5ndGg7cysrKXRbc109cHQodFtzXSxlKTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiB0KWZvcihjb25zdCBzIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscykmJih0W3NdPXB0KHRbc10sZSkpO3JldHVybiB0fWNvbnN0IHV0PVtcImNvbm5lY3RcIixcImNvbm5lY3RfZXJyb3JcIixcImRpc2Nvbm5lY3RcIixcImRpc2Nvbm5lY3RpbmdcIixcIm5ld0xpc3RlbmVyXCIsXCJyZW1vdmVMaXN0ZW5lclwiXTt2YXIgZHQ7IWZ1bmN0aW9uKHQpe3RbdC5DT05ORUNUPTBdPVwiQ09OTkVDVFwiLHRbdC5ESVNDT05ORUNUPTFdPVwiRElTQ09OTkVDVFwiLHRbdC5FVkVOVD0yXT1cIkVWRU5UXCIsdFt0LkFDSz0zXT1cIkFDS1wiLHRbdC5DT05ORUNUX0VSUk9SPTRdPVwiQ09OTkVDVF9FUlJPUlwiLHRbdC5CSU5BUllfRVZFTlQ9NV09XCJCSU5BUllfRVZFTlRcIix0W3QuQklOQVJZX0FDSz02XT1cIkJJTkFSWV9BQ0tcIn0oZHR8fChkdD17fSkpO2Z1bmN0aW9uIGx0KHQpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9Y2xhc3MgZnQgZXh0ZW5kcyBBe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5yZXZpdmVyPXR9YWRkKHQpe2xldCBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZih0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiZ290IHBsYWludGV4dCBkYXRhIHdoZW4gcmVjb25zdHJ1Y3RpbmcgYSBwYWNrZXRcIik7ZT10aGlzLmRlY29kZVN0cmluZyh0KTtjb25zdCBzPWUudHlwZT09PWR0LkJJTkFSWV9FVkVOVDtzfHxlLnR5cGU9PT1kdC5CSU5BUllfQUNLPyhlLnR5cGU9cz9kdC5FVkVOVDpkdC5BQ0ssdGhpcy5yZWNvbnN0cnVjdG9yPW5ldyB5dChlKSwwPT09ZS5hdHRhY2htZW50cyYmc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLGUpKTpzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsZSl9ZWxzZXtpZighcnQodCkmJiF0LmJhc2U2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiK3QpO2lmKCF0aGlzLnJlY29uc3RydWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiZ290IGJpbmFyeSBkYXRhIHdoZW4gbm90IHJlY29uc3RydWN0aW5nIGEgcGFja2V0XCIpO2U9dGhpcy5yZWNvbnN0cnVjdG9yLnRha2VCaW5hcnlEYXRhKHQpLGUmJih0aGlzLnJlY29uc3RydWN0b3I9bnVsbCxzdXBlci5lbWl0UmVzZXJ2ZWQoXCJkZWNvZGVkXCIsZSkpfX1kZWNvZGVTdHJpbmcodCl7bGV0IGU9MDtjb25zdCBzPXt0eXBlOk51bWJlcih0LmNoYXJBdCgwKSl9O2lmKHZvaWQgMD09PWR0W3MudHlwZV0pdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBwYWNrZXQgdHlwZSBcIitzLnR5cGUpO2lmKHMudHlwZT09PWR0LkJJTkFSWV9FVkVOVHx8cy50eXBlPT09ZHQuQklOQVJZX0FDSyl7Y29uc3Qgbj1lKzE7Zm9yKDtcIi1cIiE9PXQuY2hhckF0KCsrZSkmJmUhPXQubGVuZ3RoOyk7Y29uc3QgaT10LnN1YnN0cmluZyhuLGUpO2lmKGkhPU51bWJlcihpKXx8XCItXCIhPT10LmNoYXJBdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIGF0dGFjaG1lbnRzXCIpO3MuYXR0YWNobWVudHM9TnVtYmVyKGkpfWlmKFwiL1wiPT09dC5jaGFyQXQoZSsxKSl7Y29uc3Qgbj1lKzE7Zm9yKDsrK2U7KXtpZihcIixcIj09PXQuY2hhckF0KGUpKWJyZWFrO2lmKGU9PT10Lmxlbmd0aClicmVha31zLm5zcD10LnN1YnN0cmluZyhuLGUpfWVsc2Ugcy5uc3A9XCIvXCI7Y29uc3Qgbj10LmNoYXJBdChlKzEpO2lmKFwiXCIhPT1uJiZOdW1iZXIobik9PW4pe2NvbnN0IG49ZSsxO2Zvcig7KytlOyl7Y29uc3Qgcz10LmNoYXJBdChlKTtpZihudWxsPT1zfHxOdW1iZXIocykhPXMpey0tZTticmVha31pZihlPT09dC5sZW5ndGgpYnJlYWt9cy5pZD1OdW1iZXIodC5zdWJzdHJpbmcobixlKzEpKX1pZih0LmNoYXJBdCgrK2UpKXtjb25zdCBuPXRoaXMudHJ5UGFyc2UodC5zdWJzdHIoZSkpO2lmKCFmdC5pc1BheWxvYWRWYWxpZChzLnR5cGUsbikpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwYXlsb2FkXCIpO3MuZGF0YT1ufXJldHVybiBzfXRyeVBhcnNlKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZSh0LHRoaXMucmV2aXZlcil9Y2F0Y2godCl7cmV0dXJuITF9fXN0YXRpYyBpc1BheWxvYWRWYWxpZCh0LGUpe3N3aXRjaCh0KXtjYXNlIGR0LkNPTk5FQ1Q6cmV0dXJuIGx0KGUpO2Nhc2UgZHQuRElTQ09OTkVDVDpyZXR1cm4gdm9pZCAwPT09ZTtjYXNlIGR0LkNPTk5FQ1RfRVJST1I6cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fGx0KGUpO2Nhc2UgZHQuRVZFTlQ6Y2FzZSBkdC5CSU5BUllfRVZFTlQ6cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJihcIm51bWJlclwiPT10eXBlb2YgZVswXXx8XCJzdHJpbmdcIj09dHlwZW9mIGVbMF0mJi0xPT09dXQuaW5kZXhPZihlWzBdKSk7Y2FzZSBkdC5BQ0s6Y2FzZSBkdC5CSU5BUllfQUNLOnJldHVybiBBcnJheS5pc0FycmF5KGUpfX1kZXN0cm95KCl7dGhpcy5yZWNvbnN0cnVjdG9yJiYodGhpcy5yZWNvbnN0cnVjdG9yLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKSx0aGlzLnJlY29uc3RydWN0b3I9bnVsbCl9fWNsYXNzIHl0e2NvbnN0cnVjdG9yKHQpe3RoaXMucGFja2V0PXQsdGhpcy5idWZmZXJzPVtdLHRoaXMucmVjb25QYWNrPXR9dGFrZUJpbmFyeURhdGEodCl7aWYodGhpcy5idWZmZXJzLnB1c2godCksdGhpcy5idWZmZXJzLmxlbmd0aD09PXRoaXMucmVjb25QYWNrLmF0dGFjaG1lbnRzKXtjb25zdCB0PWN0KHRoaXMucmVjb25QYWNrLHRoaXMuYnVmZmVycyk7cmV0dXJuIHRoaXMuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpLHR9cmV0dXJuIG51bGx9ZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpe3RoaXMucmVjb25QYWNrPW51bGwsdGhpcy5idWZmZXJzPVtdfX12YXIgZ3Q9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsRGVjb2RlcjpmdCxFbmNvZGVyOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMucmVwbGFjZXI9dH1lbmNvZGUodCl7cmV0dXJuIHQudHlwZSE9PWR0LkVWRU5UJiZ0LnR5cGUhPT1kdC5BQ0t8fCFvdCh0KT9bdGhpcy5lbmNvZGVBc1N0cmluZyh0KV06dGhpcy5lbmNvZGVBc0JpbmFyeSh7dHlwZTp0LnR5cGU9PT1kdC5FVkVOVD9kdC5CSU5BUllfRVZFTlQ6ZHQuQklOQVJZX0FDSyxuc3A6dC5uc3AsZGF0YTp0LmRhdGEsaWQ6dC5pZH0pfWVuY29kZUFzU3RyaW5nKHQpe2xldCBlPVwiXCIrdC50eXBlO3JldHVybiB0LnR5cGUhPT1kdC5CSU5BUllfRVZFTlQmJnQudHlwZSE9PWR0LkJJTkFSWV9BQ0t8fChlKz10LmF0dGFjaG1lbnRzK1wiLVwiKSx0Lm5zcCYmXCIvXCIhPT10Lm5zcCYmKGUrPXQubnNwK1wiLFwiKSxudWxsIT10LmlkJiYoZSs9dC5pZCksbnVsbCE9dC5kYXRhJiYoZSs9SlNPTi5zdHJpbmdpZnkodC5kYXRhLHRoaXMucmVwbGFjZXIpKSxlfWVuY29kZUFzQmluYXJ5KHQpe2NvbnN0IGU9YXQodCkscz10aGlzLmVuY29kZUFzU3RyaW5nKGUucGFja2V0KSxuPWUuYnVmZmVycztyZXR1cm4gbi51bnNoaWZ0KHMpLG59fSxnZXQgUGFja2V0VHlwZSgpe3JldHVybiBkdH0scHJvdG9jb2w6NX0pO2Z1bmN0aW9uIG10KHQsZSxzKXtyZXR1cm4gdC5vbihlLHMpLGZ1bmN0aW9uKCl7dC5vZmYoZSxzKX19Y29uc3QgX3Q9T2JqZWN0LmZyZWV6ZSh7Y29ubmVjdDoxLGNvbm5lY3RfZXJyb3I6MSxkaXNjb25uZWN0OjEsZGlzY29ubmVjdGluZzoxLG5ld0xpc3RlbmVyOjEscmVtb3ZlTGlzdGVuZXI6MX0pO2NsYXNzIGJ0IGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0LGUscyl7c3VwZXIoKSx0aGlzLmNvbm5lY3RlZD0hMSx0aGlzLnJlY292ZXJlZD0hMSx0aGlzLnJlY2VpdmVCdWZmZXI9W10sdGhpcy5zZW5kQnVmZmVyPVtdLHRoaXMuX3F1ZXVlPVtdLHRoaXMuX3F1ZXVlU2VxPTAsdGhpcy5pZHM9MCx0aGlzLmFja3M9e30sdGhpcy5mbGFncz17fSx0aGlzLmlvPXQsdGhpcy5uc3A9ZSxzJiZzLmF1dGgmJih0aGlzLmF1dGg9cy5hdXRoKSx0aGlzLl9vcHRzPU9iamVjdC5hc3NpZ24oe30scyksdGhpcy5pby5fYXV0b0Nvbm5lY3QmJnRoaXMub3BlbigpfWdldCBkaXNjb25uZWN0ZWQoKXtyZXR1cm4hdGhpcy5jb25uZWN0ZWR9c3ViRXZlbnRzKCl7aWYodGhpcy5zdWJzKXJldHVybjtjb25zdCB0PXRoaXMuaW87dGhpcy5zdWJzPVttdCh0LFwib3BlblwiLHRoaXMub25vcGVuLmJpbmQodGhpcykpLG10KHQsXCJwYWNrZXRcIix0aGlzLm9ucGFja2V0LmJpbmQodGhpcykpLG10KHQsXCJlcnJvclwiLHRoaXMub25lcnJvci5iaW5kKHRoaXMpKSxtdCh0LFwiY2xvc2VcIix0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSldfWdldCBhY3RpdmUoKXtyZXR1cm4hIXRoaXMuc3Vic31jb25uZWN0KCl7cmV0dXJuIHRoaXMuY29ubmVjdGVkfHwodGhpcy5zdWJFdmVudHMoKSx0aGlzLmlvLl9yZWNvbm5lY3Rpbmd8fHRoaXMuaW8ub3BlbigpLFwib3BlblwiPT09dGhpcy5pby5fcmVhZHlTdGF0ZSYmdGhpcy5vbm9wZW4oKSksdGhpc31vcGVuKCl7cmV0dXJuIHRoaXMuY29ubmVjdCgpfXNlbmQoLi4udCl7cmV0dXJuIHQudW5zaGlmdChcIm1lc3NhZ2VcIiksdGhpcy5lbWl0LmFwcGx5KHRoaXMsdCksdGhpc31lbWl0KHQsLi4uZSl7dmFyIHMsbixpO2lmKF90Lmhhc093blByb3BlcnR5KHQpKXRocm93IG5ldyBFcnJvcignXCInK3QudG9TdHJpbmcoKSsnXCIgaXMgYSByZXNlcnZlZCBldmVudCBuYW1lJyk7aWYoZS51bnNoaWZ0KHQpLHRoaXMuX29wdHMucmV0cmllcyYmIXRoaXMuZmxhZ3MuZnJvbVF1ZXVlJiYhdGhpcy5mbGFncy52b2xhdGlsZSlyZXR1cm4gdGhpcy5fYWRkVG9RdWV1ZShlKSx0aGlzO2NvbnN0IHI9e3R5cGU6ZHQuRVZFTlQsZGF0YTplLG9wdGlvbnM6e319O2lmKHIub3B0aW9ucy5jb21wcmVzcz0hMSE9PXRoaXMuZmxhZ3MuY29tcHJlc3MsXCJmdW5jdGlvblwiPT10eXBlb2YgZVtlLmxlbmd0aC0xXSl7Y29uc3QgdD10aGlzLmlkcysrLHM9ZS5wb3AoKTt0aGlzLl9yZWdpc3RlckFja0NhbGxiYWNrKHQscyksci5pZD10fWNvbnN0IG89bnVsbD09PShuPW51bGw9PT0ocz10aGlzLmlvLmVuZ2luZSl8fHZvaWQgMD09PXM/dm9pZCAwOnMudHJhbnNwb3J0KXx8dm9pZCAwPT09bj92b2lkIDA6bi53cml0YWJsZSxhPXRoaXMuY29ubmVjdGVkJiYhKG51bGw9PT0oaT10aGlzLmlvLmVuZ2luZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuX2hhc1BpbmdFeHBpcmVkKCkpO3JldHVybiB0aGlzLmZsYWdzLnZvbGF0aWxlJiYhb3x8KGE/KHRoaXMubm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMociksdGhpcy5wYWNrZXQocikpOnRoaXMuc2VuZEJ1ZmZlci5wdXNoKHIpKSx0aGlzLmZsYWdzPXt9LHRoaXN9X3JlZ2lzdGVyQWNrQ2FsbGJhY2sodCxlKXt2YXIgcztjb25zdCBuPW51bGwhPT0ocz10aGlzLmZsYWdzLnRpbWVvdXQpJiZ2b2lkIDAhPT1zP3M6dGhpcy5fb3B0cy5hY2tUaW1lb3V0O2lmKHZvaWQgMD09PW4pcmV0dXJuIHZvaWQodGhpcy5hY2tzW3RdPWUpO2NvbnN0IGk9dGhpcy5pby5zZXRUaW1lb3V0Rm4oKCgpPT57ZGVsZXRlIHRoaXMuYWNrc1t0XTtmb3IobGV0IGU9MDtlPHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7ZSsrKXRoaXMuc2VuZEJ1ZmZlcltlXS5pZD09PXQmJnRoaXMuc2VuZEJ1ZmZlci5zcGxpY2UoZSwxKTtlLmNhbGwodGhpcyxuZXcgRXJyb3IoXCJvcGVyYXRpb24gaGFzIHRpbWVkIG91dFwiKSl9KSxuKSxyPSguLi50KT0+e3RoaXMuaW8uY2xlYXJUaW1lb3V0Rm4oaSksZS5hcHBseSh0aGlzLHQpfTtyLndpdGhFcnJvcj0hMCx0aGlzLmFja3NbdF09cn1lbWl0V2l0aEFjayh0LC4uLmUpe3JldHVybiBuZXcgUHJvbWlzZSgoKHMsbik9Pntjb25zdCBpPSh0LGUpPT50P24odCk6cyhlKTtpLndpdGhFcnJvcj0hMCxlLnB1c2goaSksdGhpcy5lbWl0KHQsLi4uZSl9KSl9X2FkZFRvUXVldWUodCl7bGV0IGU7XCJmdW5jdGlvblwiPT10eXBlb2YgdFt0Lmxlbmd0aC0xXSYmKGU9dC5wb3AoKSk7Y29uc3Qgcz17aWQ6dGhpcy5fcXVldWVTZXErKyx0cnlDb3VudDowLHBlbmRpbmc6ITEsYXJnczp0LGZsYWdzOk9iamVjdC5hc3NpZ24oe2Zyb21RdWV1ZTohMH0sdGhpcy5mbGFncyl9O3QucHVzaCgoKHQsLi4ubik9PntpZihzIT09dGhpcy5fcXVldWVbMF0pcmV0dXJuO3JldHVybiBudWxsIT09dD9zLnRyeUNvdW50PnRoaXMuX29wdHMucmV0cmllcyYmKHRoaXMuX3F1ZXVlLnNoaWZ0KCksZSYmZSh0KSk6KHRoaXMuX3F1ZXVlLnNoaWZ0KCksZSYmZShudWxsLC4uLm4pKSxzLnBlbmRpbmc9ITEsdGhpcy5fZHJhaW5RdWV1ZSgpfSkpLHRoaXMuX3F1ZXVlLnB1c2gocyksdGhpcy5fZHJhaW5RdWV1ZSgpfV9kcmFpblF1ZXVlKHQ9ITEpe2lmKCF0aGlzLmNvbm5lY3RlZHx8MD09PXRoaXMuX3F1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLl9xdWV1ZVswXTtlLnBlbmRpbmcmJiF0fHwoZS5wZW5kaW5nPSEwLGUudHJ5Q291bnQrKyx0aGlzLmZsYWdzPWUuZmxhZ3MsdGhpcy5lbWl0LmFwcGx5KHRoaXMsZS5hcmdzKSl9cGFja2V0KHQpe3QubnNwPXRoaXMubnNwLHRoaXMuaW8uX3BhY2tldCh0KX1vbm9wZW4oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmF1dGg/dGhpcy5hdXRoKCh0PT57dGhpcy5fc2VuZENvbm5lY3RQYWNrZXQodCl9KSk6dGhpcy5fc2VuZENvbm5lY3RQYWNrZXQodGhpcy5hdXRoKX1fc2VuZENvbm5lY3RQYWNrZXQodCl7dGhpcy5wYWNrZXQoe3R5cGU6ZHQuQ09OTkVDVCxkYXRhOnRoaXMuX3BpZD9PYmplY3QuYXNzaWduKHtwaWQ6dGhpcy5fcGlkLG9mZnNldDp0aGlzLl9sYXN0T2Zmc2V0fSx0KTp0fSl9b25lcnJvcih0KXt0aGlzLmNvbm5lY3RlZHx8dGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsdCl9b25jbG9zZSh0LGUpe3RoaXMuY29ubmVjdGVkPSExLGRlbGV0ZSB0aGlzLmlkLHRoaXMuZW1pdFJlc2VydmVkKFwiZGlzY29ubmVjdFwiLHQsZSksdGhpcy5fY2xlYXJBY2tzKCl9X2NsZWFyQWNrcygpe09iamVjdC5rZXlzKHRoaXMuYWNrcykuZm9yRWFjaCgodD0+e2lmKCF0aGlzLnNlbmRCdWZmZXIuc29tZSgoZT0+U3RyaW5nKGUuaWQpPT09dCkpKXtjb25zdCBlPXRoaXMuYWNrc1t0XTtkZWxldGUgdGhpcy5hY2tzW3RdLGUud2l0aEVycm9yJiZlLmNhbGwodGhpcyxuZXcgRXJyb3IoXCJzb2NrZXQgaGFzIGJlZW4gZGlzY29ubmVjdGVkXCIpKX19KSl9b25wYWNrZXQodCl7aWYodC5uc3A9PT10aGlzLm5zcClzd2l0Y2godC50eXBlKXtjYXNlIGR0LkNPTk5FQ1Q6dC5kYXRhJiZ0LmRhdGEuc2lkP3RoaXMub25jb25uZWN0KHQuZGF0YS5zaWQsdC5kYXRhLnBpZCk6dGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsbmV3IEVycm9yKFwiSXQgc2VlbXMgeW91IGFyZSB0cnlpbmcgdG8gcmVhY2ggYSBTb2NrZXQuSU8gc2VydmVyIGluIHYyLnggd2l0aCBhIHYzLnggY2xpZW50LCBidXQgdGhleSBhcmUgbm90IGNvbXBhdGlibGUgKG1vcmUgaW5mb3JtYXRpb24gaGVyZTogaHR0cHM6Ly9zb2NrZXQuaW8vZG9jcy92My9taWdyYXRpbmctZnJvbS0yLXgtdG8tMy0wLylcIikpO2JyZWFrO2Nhc2UgZHQuRVZFTlQ6Y2FzZSBkdC5CSU5BUllfRVZFTlQ6dGhpcy5vbmV2ZW50KHQpO2JyZWFrO2Nhc2UgZHQuQUNLOmNhc2UgZHQuQklOQVJZX0FDSzp0aGlzLm9uYWNrKHQpO2JyZWFrO2Nhc2UgZHQuRElTQ09OTkVDVDp0aGlzLm9uZGlzY29ubmVjdCgpO2JyZWFrO2Nhc2UgZHQuQ09OTkVDVF9FUlJPUjp0aGlzLmRlc3Ryb3koKTtjb25zdCBlPW5ldyBFcnJvcih0LmRhdGEubWVzc2FnZSk7ZS5kYXRhPXQuZGF0YS5kYXRhLHRoaXMuZW1pdFJlc2VydmVkKFwiY29ubmVjdF9lcnJvclwiLGUpfX1vbmV2ZW50KHQpe2NvbnN0IGU9dC5kYXRhfHxbXTtudWxsIT10LmlkJiZlLnB1c2godGhpcy5hY2sodC5pZCkpLHRoaXMuY29ubmVjdGVkP3RoaXMuZW1pdEV2ZW50KGUpOnRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKE9iamVjdC5mcmVlemUoZSkpfWVtaXRFdmVudCh0KXtpZih0aGlzLl9hbnlMaXN0ZW5lcnMmJnRoaXMuX2FueUxpc3RlbmVycy5sZW5ndGgpe2NvbnN0IGU9dGhpcy5fYW55TGlzdGVuZXJzLnNsaWNlKCk7Zm9yKGNvbnN0IHMgb2YgZSlzLmFwcGx5KHRoaXMsdCl9c3VwZXIuZW1pdC5hcHBseSh0aGlzLHQpLHRoaXMuX3BpZCYmdC5sZW5ndGgmJlwic3RyaW5nXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYodGhpcy5fbGFzdE9mZnNldD10W3QubGVuZ3RoLTFdKX1hY2sodCl7Y29uc3QgZT10aGlzO2xldCBzPSExO3JldHVybiBmdW5jdGlvbiguLi5uKXtzfHwocz0hMCxlLnBhY2tldCh7dHlwZTpkdC5BQ0ssaWQ6dCxkYXRhOm59KSl9fW9uYWNrKHQpe2NvbnN0IGU9dGhpcy5hY2tzW3QuaWRdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihkZWxldGUgdGhpcy5hY2tzW3QuaWRdLGUud2l0aEVycm9yJiZ0LmRhdGEudW5zaGlmdChudWxsKSxlLmFwcGx5KHRoaXMsdC5kYXRhKSl9b25jb25uZWN0KHQsZSl7dGhpcy5pZD10LHRoaXMucmVjb3ZlcmVkPWUmJnRoaXMuX3BpZD09PWUsdGhpcy5fcGlkPWUsdGhpcy5jb25uZWN0ZWQ9ITAsdGhpcy5lbWl0QnVmZmVyZWQoKSx0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RcIiksdGhpcy5fZHJhaW5RdWV1ZSghMCl9ZW1pdEJ1ZmZlcmVkKCl7dGhpcy5yZWNlaXZlQnVmZmVyLmZvckVhY2goKHQ9PnRoaXMuZW1pdEV2ZW50KHQpKSksdGhpcy5yZWNlaXZlQnVmZmVyPVtdLHRoaXMuc2VuZEJ1ZmZlci5mb3JFYWNoKCh0PT57dGhpcy5ub3RpZnlPdXRnb2luZ0xpc3RlbmVycyh0KSx0aGlzLnBhY2tldCh0KX0pKSx0aGlzLnNlbmRCdWZmZXI9W119b25kaXNjb25uZWN0KCl7dGhpcy5kZXN0cm95KCksdGhpcy5vbmNsb3NlKFwiaW8gc2VydmVyIGRpc2Nvbm5lY3RcIil9ZGVzdHJveSgpe3RoaXMuc3VicyYmKHRoaXMuc3Vicy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnN1YnM9dm9pZCAwKSx0aGlzLmlvLl9kZXN0cm95KHRoaXMpfWRpc2Nvbm5lY3QoKXtyZXR1cm4gdGhpcy5jb25uZWN0ZWQmJnRoaXMucGFja2V0KHt0eXBlOmR0LkRJU0NPTk5FQ1R9KSx0aGlzLmRlc3Ryb3koKSx0aGlzLmNvbm5lY3RlZCYmdGhpcy5vbmNsb3NlKFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIiksdGhpc31jbG9zZSgpe3JldHVybiB0aGlzLmRpc2Nvbm5lY3QoKX1jb21wcmVzcyh0KXtyZXR1cm4gdGhpcy5mbGFncy5jb21wcmVzcz10LHRoaXN9Z2V0IHZvbGF0aWxlKCl7cmV0dXJuIHRoaXMuZmxhZ3Mudm9sYXRpbGU9ITAsdGhpc310aW1lb3V0KHQpe3JldHVybiB0aGlzLmZsYWdzLnRpbWVvdXQ9dCx0aGlzfW9uQW55KHQpe3JldHVybiB0aGlzLl9hbnlMaXN0ZW5lcnM9dGhpcy5fYW55TGlzdGVuZXJzfHxbXSx0aGlzLl9hbnlMaXN0ZW5lcnMucHVzaCh0KSx0aGlzfXByZXBlbmRBbnkodCl7cmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycz10aGlzLl9hbnlMaXN0ZW5lcnN8fFtdLHRoaXMuX2FueUxpc3RlbmVycy51bnNoaWZ0KHQpLHRoaXN9b2ZmQW55KHQpe2lmKCF0aGlzLl9hbnlMaXN0ZW5lcnMpcmV0dXJuIHRoaXM7aWYodCl7Y29uc3QgZT10aGlzLl9hbnlMaXN0ZW5lcnM7Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspaWYodD09PWVbc10pcmV0dXJuIGUuc3BsaWNlKHMsMSksdGhpc31lbHNlIHRoaXMuX2FueUxpc3RlbmVycz1bXTtyZXR1cm4gdGhpc31saXN0ZW5lcnNBbnkoKXtyZXR1cm4gdGhpcy5fYW55TGlzdGVuZXJzfHxbXX1vbkFueU91dGdvaW5nKHQpe3JldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycz10aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVyc3x8W10sdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMucHVzaCh0KSx0aGlzfXByZXBlbmRBbnlPdXRnb2luZyh0KXtyZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM9dGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnN8fFtdLHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnVuc2hpZnQodCksdGhpc31vZmZBbnlPdXRnb2luZyh0KXtpZighdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMpcmV0dXJuIHRoaXM7aWYodCl7Y29uc3QgZT10aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycztmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKylpZih0PT09ZVtzXSlyZXR1cm4gZS5zcGxpY2UocywxKSx0aGlzfWVsc2UgdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM9W107cmV0dXJuIHRoaXN9bGlzdGVuZXJzQW55T3V0Z29pbmcoKXtyZXR1cm4gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnN8fFtdfW5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHQpe2lmKHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzJiZ0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5sZW5ndGgpe2NvbnN0IGU9dGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMuc2xpY2UoKTtmb3IoY29uc3QgcyBvZiBlKXMuYXBwbHkodGhpcyx0LmRhdGEpfX19ZnVuY3Rpb24gdnQodCl7dD10fHx7fSx0aGlzLm1zPXQubWlufHwxMDAsdGhpcy5tYXg9dC5tYXh8fDFlNCx0aGlzLmZhY3Rvcj10LmZhY3Rvcnx8Mix0aGlzLmppdHRlcj10LmppdHRlcj4wJiZ0LmppdHRlcjw9MT90LmppdHRlcjowLHRoaXMuYXR0ZW1wdHM9MH12dC5wcm90b3R5cGUuZHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm1zKk1hdGgucG93KHRoaXMuZmFjdG9yLHRoaXMuYXR0ZW1wdHMrKyk7aWYodGhpcy5qaXR0ZXIpe3ZhciBlPU1hdGgucmFuZG9tKCkscz1NYXRoLmZsb29yKGUqdGhpcy5qaXR0ZXIqdCk7dD0xJk1hdGguZmxvb3IoMTAqZSk/dCtzOnQtc31yZXR1cm4gMHxNYXRoLm1pbih0LHRoaXMubWF4KX0sdnQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0cz0wfSx2dC5wcm90b3R5cGUuc2V0TWluPWZ1bmN0aW9uKHQpe3RoaXMubXM9dH0sdnQucHJvdG90eXBlLnNldE1heD1mdW5jdGlvbih0KXt0aGlzLm1heD10fSx2dC5wcm90b3R5cGUuc2V0Sml0dGVyPWZ1bmN0aW9uKHQpe3RoaXMuaml0dGVyPXR9O2NsYXNzIHd0IGV4dGVuZHMgQXtjb25zdHJ1Y3Rvcih0LGUpe3ZhciBzO3N1cGVyKCksdGhpcy5uc3BzPXt9LHRoaXMuc3Vicz1bXSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKGU9dCx0PXZvaWQgMCksKGU9ZXx8e30pLnBhdGg9ZS5wYXRofHxcIi9zb2NrZXQuaW9cIix0aGlzLm9wdHM9ZSx4KHRoaXMsZSksdGhpcy5yZWNvbm5lY3Rpb24oITEhPT1lLnJlY29ubmVjdGlvbiksdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhlLnJlY29ubmVjdGlvbkF0dGVtcHRzfHwxLzApLHRoaXMucmVjb25uZWN0aW9uRGVsYXkoZS5yZWNvbm5lY3Rpb25EZWxheXx8MWUzKSx0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KGUucmVjb25uZWN0aW9uRGVsYXlNYXh8fDVlMyksdGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKG51bGwhPT0ocz1lLnJhbmRvbWl6YXRpb25GYWN0b3IpJiZ2b2lkIDAhPT1zP3M6LjUpLHRoaXMuYmFja29mZj1uZXcgdnQoe21pbjp0aGlzLnJlY29ubmVjdGlvbkRlbGF5KCksbWF4OnRoaXMucmVjb25uZWN0aW9uRGVsYXlNYXgoKSxqaXR0ZXI6dGhpcy5yYW5kb21pemF0aW9uRmFjdG9yKCl9KSx0aGlzLnRpbWVvdXQobnVsbD09ZS50aW1lb3V0PzJlNDplLnRpbWVvdXQpLHRoaXMuX3JlYWR5U3RhdGU9XCJjbG9zZWRcIix0aGlzLnVyaT10O2NvbnN0IG49ZS5wYXJzZXJ8fGd0O3RoaXMuZW5jb2Rlcj1uZXcgbi5FbmNvZGVyLHRoaXMuZGVjb2Rlcj1uZXcgbi5EZWNvZGVyLHRoaXMuX2F1dG9Db25uZWN0PSExIT09ZS5hdXRvQ29ubmVjdCx0aGlzLl9hdXRvQ29ubmVjdCYmdGhpcy5vcGVuKCl9cmVjb25uZWN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZWNvbm5lY3Rpb249ISF0LHR8fCh0aGlzLnNraXBSZWNvbm5lY3Q9ITApLHRoaXMpOnRoaXMuX3JlY29ubmVjdGlvbn1yZWNvbm5lY3Rpb25BdHRlbXB0cyh0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0czoodGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHM9dCx0aGlzKX1yZWNvbm5lY3Rpb25EZWxheSh0KXt2YXIgZTtyZXR1cm4gdm9pZCAwPT09dD90aGlzLl9yZWNvbm5lY3Rpb25EZWxheToodGhpcy5fcmVjb25uZWN0aW9uRGVsYXk9dCxudWxsPT09KGU9dGhpcy5iYWNrb2ZmKXx8dm9pZCAwPT09ZXx8ZS5zZXRNaW4odCksdGhpcyl9cmFuZG9taXphdGlvbkZhY3Rvcih0KXt2YXIgZTtyZXR1cm4gdm9pZCAwPT09dD90aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yOih0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yPXQsbnVsbD09PShlPXRoaXMuYmFja29mZil8fHZvaWQgMD09PWV8fGUuc2V0Sml0dGVyKHQpLHRoaXMpfXJlY29ubmVjdGlvbkRlbGF5TWF4KHQpe3ZhciBlO3JldHVybiB2b2lkIDA9PT10P3RoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4Oih0aGlzLl9yZWNvbm5lY3Rpb25EZWxheU1heD10LG51bGw9PT0oZT10aGlzLmJhY2tvZmYpfHx2b2lkIDA9PT1lfHxlLnNldE1heCh0KSx0aGlzKX10aW1lb3V0KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl90aW1lb3V0PXQsdGhpcyk6dGhpcy5fdGltZW91dH1tYXliZVJlY29ubmVjdE9uT3BlbigpeyF0aGlzLl9yZWNvbm5lY3RpbmcmJnRoaXMuX3JlY29ubmVjdGlvbiYmMD09PXRoaXMuYmFja29mZi5hdHRlbXB0cyYmdGhpcy5yZWNvbm5lY3QoKX1vcGVuKHQpe2lmKH50aGlzLl9yZWFkeVN0YXRlLmluZGV4T2YoXCJvcGVuXCIpKXJldHVybiB0aGlzO3RoaXMuZW5naW5lPW5ldyB0dCh0aGlzLnVyaSx0aGlzLm9wdHMpO2NvbnN0IGU9dGhpcy5lbmdpbmUscz10aGlzO3RoaXMuX3JlYWR5U3RhdGU9XCJvcGVuaW5nXCIsdGhpcy5za2lwUmVjb25uZWN0PSExO2NvbnN0IG49bXQoZSxcIm9wZW5cIiwoZnVuY3Rpb24oKXtzLm9ub3BlbigpLHQmJnQoKX0pKSxpPWU9Pnt0aGlzLmNsZWFudXAoKSx0aGlzLl9yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLGUpLHQ/dChlKTp0aGlzLm1heWJlUmVjb25uZWN0T25PcGVuKCl9LHI9bXQoZSxcImVycm9yXCIsaSk7aWYoITEhPT10aGlzLl90aW1lb3V0KXtjb25zdCB0PXRoaXMuX3RpbWVvdXQscz10aGlzLnNldFRpbWVvdXRGbigoKCk9PntuKCksaShuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKSxlLmNsb3NlKCl9KSx0KTt0aGlzLm9wdHMuYXV0b1VucmVmJiZzLnVucmVmKCksdGhpcy5zdWJzLnB1c2goKCgpPT57dGhpcy5jbGVhclRpbWVvdXRGbihzKX0pKX1yZXR1cm4gdGhpcy5zdWJzLnB1c2gobiksdGhpcy5zdWJzLnB1c2gociksdGhpc31jb25uZWN0KHQpe3JldHVybiB0aGlzLm9wZW4odCl9b25vcGVuKCl7dGhpcy5jbGVhbnVwKCksdGhpcy5fcmVhZHlTdGF0ZT1cIm9wZW5cIix0aGlzLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7Y29uc3QgdD10aGlzLmVuZ2luZTt0aGlzLnN1YnMucHVzaChtdCh0LFwicGluZ1wiLHRoaXMub25waW5nLmJpbmQodGhpcykpLG10KHQsXCJkYXRhXCIsdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksbXQodCxcImVycm9yXCIsdGhpcy5vbmVycm9yLmJpbmQodGhpcykpLG10KHQsXCJjbG9zZVwiLHRoaXMub25jbG9zZS5iaW5kKHRoaXMpKSxtdCh0aGlzLmRlY29kZXIsXCJkZWNvZGVkXCIsdGhpcy5vbmRlY29kZWQuYmluZCh0aGlzKSkpfW9ucGluZygpe3RoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKX1vbmRhdGEodCl7dHJ5e3RoaXMuZGVjb2Rlci5hZGQodCl9Y2F0Y2godCl7dGhpcy5vbmNsb3NlKFwicGFyc2UgZXJyb3JcIix0KX19b25kZWNvZGVkKHQpe1QoKCgpPT57dGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIix0KX0pLHRoaXMuc2V0VGltZW91dEZuKX1vbmVycm9yKHQpe3RoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIix0KX1zb2NrZXQodCxlKXtsZXQgcz10aGlzLm5zcHNbdF07cmV0dXJuIHM/dGhpcy5fYXV0b0Nvbm5lY3QmJiFzLmFjdGl2ZSYmcy5jb25uZWN0KCk6KHM9bmV3IGJ0KHRoaXMsdCxlKSx0aGlzLm5zcHNbdF09cyksc31fZGVzdHJveSh0KXtjb25zdCBlPU9iamVjdC5rZXlzKHRoaXMubnNwcyk7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodGhpcy5uc3BzW3RdLmFjdGl2ZSlyZXR1cm59dGhpcy5fY2xvc2UoKX1fcGFja2V0KHQpe2NvbnN0IGU9dGhpcy5lbmNvZGVyLmVuY29kZSh0KTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl0aGlzLmVuZ2luZS53cml0ZShlW3NdLHQub3B0aW9ucyl9Y2xlYW51cCgpe3RoaXMuc3Vicy5mb3JFYWNoKCh0PT50KCkpKSx0aGlzLnN1YnMubGVuZ3RoPTAsdGhpcy5kZWNvZGVyLmRlc3Ryb3koKX1fY2xvc2UoKXt0aGlzLnNraXBSZWNvbm5lY3Q9ITAsdGhpcy5fcmVjb25uZWN0aW5nPSExLHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKX1kaXNjb25uZWN0KCl7cmV0dXJuIHRoaXMuX2Nsb3NlKCl9b25jbG9zZSh0LGUpe3ZhciBzO3RoaXMuY2xlYW51cCgpLG51bGw9PT0ocz10aGlzLmVuZ2luZSl8fHZvaWQgMD09PXN8fHMuY2xvc2UoKSx0aGlzLmJhY2tvZmYucmVzZXQoKSx0aGlzLl9yZWFkeVN0YXRlPVwiY2xvc2VkXCIsdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLHQsZSksdGhpcy5fcmVjb25uZWN0aW9uJiYhdGhpcy5za2lwUmVjb25uZWN0JiZ0aGlzLnJlY29ubmVjdCgpfXJlY29ubmVjdCgpe2lmKHRoaXMuX3JlY29ubmVjdGluZ3x8dGhpcy5za2lwUmVjb25uZWN0KXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcztpZih0aGlzLmJhY2tvZmYuYXR0ZW1wdHM+PXRoaXMuX3JlY29ubmVjdGlvbkF0dGVtcHRzKXRoaXMuYmFja29mZi5yZXNldCgpLHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2ZhaWxlZFwiKSx0aGlzLl9yZWNvbm5lY3Rpbmc9ITE7ZWxzZXtjb25zdCBlPXRoaXMuYmFja29mZi5kdXJhdGlvbigpO3RoaXMuX3JlY29ubmVjdGluZz0hMDtjb25zdCBzPXRoaXMuc2V0VGltZW91dEZuKCgoKT0+e3Quc2tpcFJlY29ubmVjdHx8KHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2F0dGVtcHRcIix0LmJhY2tvZmYuYXR0ZW1wdHMpLHQuc2tpcFJlY29ubmVjdHx8dC5vcGVuKChlPT57ZT8odC5fcmVjb25uZWN0aW5nPSExLHQucmVjb25uZWN0KCksdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZXJyb3JcIixlKSk6dC5vbnJlY29ubmVjdCgpfSkpKX0pLGUpO3RoaXMub3B0cy5hdXRvVW5yZWYmJnMudW5yZWYoKSx0aGlzLnN1YnMucHVzaCgoKCk9Pnt0aGlzLmNsZWFyVGltZW91dEZuKHMpfSkpfX1vbnJlY29ubmVjdCgpe2NvbnN0IHQ9dGhpcy5iYWNrb2ZmLmF0dGVtcHRzO3RoaXMuX3JlY29ubmVjdGluZz0hMSx0aGlzLmJhY2tvZmYucmVzZXQoKSx0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdFwiLHQpfX1jb25zdCBrdD17fTtmdW5jdGlvbiBFdCh0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiB0JiYoZT10LHQ9dm9pZCAwKTtjb25zdCBzPWZ1bmN0aW9uKHQsZT1cIlwiLHMpe2xldCBuPXQ7cz1zfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgbG9jYXRpb24mJmxvY2F0aW9uLG51bGw9PXQmJih0PXMucHJvdG9jb2wrXCIvL1wiK3MuaG9zdCksXCJzdHJpbmdcIj09dHlwZW9mIHQmJihcIi9cIj09PXQuY2hhckF0KDApJiYodD1cIi9cIj09PXQuY2hhckF0KDEpP3MucHJvdG9jb2wrdDpzLmhvc3QrdCksL14oaHR0cHM/fHdzcz8pOlxcL1xcLy8udGVzdCh0KXx8KHQ9dm9pZCAwIT09cz9zLnByb3RvY29sK1wiLy9cIit0OlwiaHR0cHM6Ly9cIit0KSxuPSQodCkpLG4ucG9ydHx8KC9eKGh0dHB8d3MpJC8udGVzdChuLnByb3RvY29sKT9uLnBvcnQ9XCI4MFwiOi9eKGh0dHB8d3MpcyQvLnRlc3Qobi5wcm90b2NvbCkmJihuLnBvcnQ9XCI0NDNcIikpLG4ucGF0aD1uLnBhdGh8fFwiL1wiO2NvbnN0IGk9LTEhPT1uLmhvc3QuaW5kZXhPZihcIjpcIik/XCJbXCIrbi5ob3N0K1wiXVwiOm4uaG9zdDtyZXR1cm4gbi5pZD1uLnByb3RvY29sK1wiOi8vXCIraStcIjpcIituLnBvcnQrZSxuLmhyZWY9bi5wcm90b2NvbCtcIjovL1wiK2krKHMmJnMucG9ydD09PW4ucG9ydD9cIlwiOlwiOlwiK24ucG9ydCksbn0odCwoZT1lfHx7fSkucGF0aHx8XCIvc29ja2V0LmlvXCIpLG49cy5zb3VyY2UsaT1zLmlkLHI9cy5wYXRoLG89a3RbaV0mJnIgaW4ga3RbaV0ubnNwcztsZXQgYTtyZXR1cm4gZS5mb3JjZU5ld3x8ZVtcImZvcmNlIG5ldyBjb25uZWN0aW9uXCJdfHwhMT09PWUubXVsdGlwbGV4fHxvP2E9bmV3IHd0KG4sZSk6KGt0W2ldfHwoa3RbaV09bmV3IHd0KG4sZSkpLGE9a3RbaV0pLHMucXVlcnkmJiFlLnF1ZXJ5JiYoZS5xdWVyeT1zLnF1ZXJ5S2V5KSxhLnNvY2tldChzLnBhdGgsZSl9T2JqZWN0LmFzc2lnbihFdCx7TWFuYWdlcjp3dCxTb2NrZXQ6YnQsaW86RXQsY29ubmVjdDpFdH0pO2NvbnN0IEF0PVwieC1hcGktdG9rZW5cIjtjbGFzcyBUdCBleHRlbmRzIEV2ZW50VGFyZ2V0e2dldCBjb25uZWN0ZWQoKXt2YXIgdCxlO3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuc29ja2V0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5jb25uZWN0ZWQpJiZ2b2lkIDAhPT1lJiZlfWNvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy50b2tlbj10LHRoaXMuc29ja2V0PW51bGx9Y2xvc2UoKXt0aGlzLnNvY2tldCYmdGhpcy5zb2NrZXQuY29ubmVjdGVkJiYodGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5zb2NrZXQuY2xvc2UoKSl9bGlzdGVuKHQsZSxzKXt2YXIgbixpO2lmKHRoaXMuc29ja2V0JiZ0aGlzLnNvY2tldC5jb25uZWN0ZWQmJih0aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnNvY2tldC5jbG9zZSgpKSwwPT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIGV2ZW50IHR5cGUgbXVzdCBiZSBwcm92aWRlZFwiKTt0aGlzLnNvY2tldD1FdChgaHR0cHM6Ly9yZWFsdGltZS5qc29ucGFkLmlvPyR7bmV3IFVSTFNlYXJjaFBhcmFtcyh7ZXZlbnRUeXBlczp0LmpvaW4oXCIsXCIpLGxpc3RJZHM6bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuam9pbihcIixcIikpJiZ2b2lkIDAhPT1uP246XCJcIixpdGVtSWRzOm51bGwhPT0oaT1udWxsPT1zP3ZvaWQgMDpzLmpvaW4oXCIsXCIpKSYmdm9pZCAwIT09aT9pOlwiXCJ9KX1gLHtleHRyYUhlYWRlcnM6e1tBdF06dGhpcy50b2tlbn19KSx0aGlzLnNvY2tldC5vbihcImNvbm5lY3RcIix0aGlzLmhhbmRsZUNvbm5lY3RlZC5iaW5kKHRoaXMpKSx0aGlzLnNvY2tldC5vbihcImRpc2Nvbm5lY3RcIix0aGlzLmhhbmRsZURpc2Nvbm5lY3RlZC5iaW5kKHRoaXMpKSx0aGlzLnNvY2tldC5vbihcImVycm9yXCIsdGhpcy5oYW5kbGVFcnJvci5iaW5kKHRoaXMpKSx0aGlzLnNvY2tldC5vbihcImxpc3QtY3JlYXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwibGlzdC1jcmVhdGVkXCIpKSx0aGlzLnNvY2tldC5vbihcImxpc3QtdXBkYXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwibGlzdC11cGRhdGVkXCIpKSx0aGlzLnNvY2tldC5vbihcImxpc3QtZGVsZXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwibGlzdC1kZWxldGVkXCIpKSx0aGlzLnNvY2tldC5vbihcIml0ZW0tY3JlYXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwiaXRlbS1jcmVhdGVkXCIpKSx0aGlzLnNvY2tldC5vbihcIml0ZW0tdXBkYXRlZFwiLHRoaXMuaGFuZGxlRXZlbnQuYmluZCh0aGlzLFwiaXRlbS11cGRhdGVkXCIpKSx0aGlzLnNvY2tldC5vbihcIml0ZW0tcmVzdG9yZWRcIix0aGlzLmhhbmRsZUV2ZW50LmJpbmQodGhpcyxcIml0ZW0tcmVzdG9yZWRcIikpLHRoaXMuc29ja2V0Lm9uKFwiaXRlbS1kZWxldGVkXCIsdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsXCJpdGVtLWRlbGV0ZWRcIikpfWhhbmRsZUNvbm5lY3RlZCgpe3RoaXMuZGlzcGF0Y2hFdmVudChUdC5jb25uZWN0ZWQpfWhhbmRsZURpc2Nvbm5lY3RlZCgpe3RoaXMuZGlzcGF0Y2hFdmVudChUdC5kaXNjb25uZWN0ZWQpfWhhbmRsZUVycm9yKHQpe3RoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJlcnJvclwiLHtkZXRhaWw6dH0pKX1oYW5kbGVFdmVudCh0LG4pe2xldCBpO3RyeXtpPUpTT04ucGFyc2Uobil9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5oYW5kbGVFcnJvcihcIkZhaWxlZCB0byBwYXJzZSBkYXRhXCIpfXN3aXRjaCh0KXtjYXNlXCJsaXN0LWNyZWF0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IHMoXCJsaXN0LWNyZWF0ZWRcIixpKSk7YnJlYWs7Y2FzZVwibGlzdC11cGRhdGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBzKFwibGlzdC11cGRhdGVkXCIsaSkpO2JyZWFrO2Nhc2VcImxpc3QtZGVsZXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgcyhcImxpc3QtZGVsZXRlZFwiLGkpKTticmVhaztjYXNlXCJpdGVtLWNyZWF0ZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGUoXCJpdGVtLWNyZWF0ZWRcIixpKSk7YnJlYWs7Y2FzZVwiaXRlbS11cGRhdGVkXCI6dGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlKFwiaXRlbS11cGRhdGVkXCIsaSkpO2JyZWFrO2Nhc2VcIml0ZW0tcmVzdG9yZWRcIjp0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGUoXCJpdGVtLXJlc3RvcmVkXCIsaSkpO2JyZWFrO2Nhc2VcIml0ZW0tZGVsZXRlZFwiOnRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZShcIml0ZW0tZGVsZXRlZFwiLGkpKX19fVR0LmNvbm5lY3RlZD1uZXcgRXZlbnQoXCJjb25uZWN0ZWRcIiksVHQuZGlzY29ubmVjdGVkPW5ldyBFdmVudChcImRpc2Nvbm5lY3RlZFwiKSx0Lkl0ZW1FdmVudD1lLHQuTGlzdEV2ZW50PXMsdC5kZWZhdWx0PVR0LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSkpO1xuIiwiIWZ1bmN0aW9uKHQsaSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/aShleHBvcnRzKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImV4cG9ydHNcIl0saSk6aSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLkpTT05QYWQ9e30pfSh0aGlzLChmdW5jdGlvbih0KXtcInVzZSBzdHJpY3RcIjtjbGFzcyBpe2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCksbGFzdEFjdGl2ZUF0OnQubGFzdEFjdGl2ZUF0P25ldyBEYXRlKHQubGFzdEFjdGl2ZUF0KTpudWxsfSl9fWNsYXNzIGV7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KSx1c2VyOnQudXNlcj9uZXcgaSh0LnVzZXIpOnZvaWQgMH0pfX1jbGFzcyBue2NvbnN0cnVjdG9yKHQpe3RoaXMubGFzdExvZ2luQXQ9bnVsbCxPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpLHVzZXI6dC51c2VyP25ldyBpKHQudXNlcik6dm9pZCAwLGxhc3RMb2dpbkF0OnQubGFzdExvZ2luQXQ/bmV3IERhdGUodC5sYXN0TG9naW5BdCk6bnVsbH0pfX1jbGFzcyBve2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx7Li4udCxjcmVhdGVkQXQ6bmV3IERhdGUodC5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZSh0LnVwZGF0ZWRBdCl9KX19Y2xhc3Mgc3tjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsey4uLnQsY3JlYXRlZEF0Om5ldyBEYXRlKHQuY3JlYXRlZEF0KSx1cGRhdGVkQXQ6bmV3IERhdGUodC51cGRhdGVkQXQpfSl9fWNsYXNzIGR7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLHsuLi50LGNyZWF0ZWRBdDpuZXcgRGF0ZSh0LmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKHQudXBkYXRlZEF0KSx1c2VyOnQudXNlcj9uZXcgaSh0LnVzZXIpOnZvaWQgMH0pfX1mdW5jdGlvbiBhKHQsLi4uaSl7cmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKChbdF0pPT4haS5pbmNsdWRlcyh0KSkpKX1jb25zdCBsPVwieC1hcGktdG9rZW5cIjthc3luYyBmdW5jdGlvbiByKHQsaSxlLG4sbyxzLGQpe2NvbnN0IGE9bj9uZXcgVVJMU2VhcmNoUGFyYW1zKHsuLi5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMobikubWFwKCgoW3QsaV0pPT5bdCxpLnRvU3RyaW5nKCldKSkpfSk6XCJcIixyPXtbbF06dCxcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vanNvblwifTtzJiYocltcIngtaWRlbnRpdHktZ3JvdXBcIl09cyksZCYmKHJbXCJ4LWlkZW50aXR5LXRva2VuXCJdPWQpO2NvbnN0IHU9YXdhaXQgZmV0Y2goYGh0dHBzOi8vYXBpLmpzb25wYWQuaW8ke2V9PyR7YX1gLHttZXRob2Q6aSxoZWFkZXJzOnIsYm9keTpvP0pTT04uc3RyaW5naWZ5KG8pOnZvaWQgMH0pO2lmKCF1Lm9rKXRocm93IG5ldyBFcnJvcihhd2FpdCB1LnRleHQoKSk7cmV0dXJuIDIwND09PXUuc3RhdHVzP251bGw6YXdhaXQgdS5qc29uKCl9dC5FdmVudD1lLHQuSW5kZXg9byx0Lkl0ZW09cyx0Lkxpc3Q9ZCx0LlVzZXI9aSx0LmRlZmF1bHQ9Y2xhc3N7Y29uc3RydWN0b3IodCxpLGUpe3RoaXMudG9rZW49dCx0aGlzLmlkZW50aXR5R3JvdXA9aSx0aGlzLmlkZW50aXR5VG9rZW49ZX1hc3luYyBjcmVhdGVMaXN0KHQpe3JldHVybiBuZXcgZChhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsXCIvbGlzdHNcIix2b2lkIDAsdCkpfWFzeW5jIGZldGNoTGlzdHModCl7Y29uc3QgaT1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixcIi9saXN0c1wiLHQpO3JldHVybnsuLi5pLGRhdGE6aS5kYXRhLm1hcCgodD0+bmV3IGQodCkpKX19YXN5bmMgZmV0Y2hMaXN0KHQpe3JldHVybiBuZXcgZChhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH1gKSl9YXN5bmMgc2VhcmNoTGlzdCh0LGksZSl7cmV0dXJuKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9zZWFyY2hgLHtxdWVyeTppLC4uLmV9KSkubWFwKCh0PT5cIml0ZW1cImluIHQ/e3JlbGV2YW5jZTp0LnJlbGV2YW5jZSxpdGVtOm5ldyBzKHQuaXRlbSl9OnQpKX1hc3luYyBmZXRjaExpc3RTdGF0cyh0LGkpe3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vc3RhdHNgLGkpfWFzeW5jIGZldGNoTGlzdEV2ZW50cyh0LGkpe2NvbnN0IG49YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2V2ZW50c2AsaSk7cmV0dXJuey4uLm4sZGF0YTpuLmRhdGEubWFwKCh0PT5uZXcgZSh0KSkpfX1hc3luYyBmZXRjaExpc3RFdmVudCh0LGkpe3JldHVybiBuZXcgZShhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vZXZlbnRzLyR7aX1gKSl9YXN5bmMgdXBkYXRlTGlzdCh0LGkpe3JldHVybiBuZXcgZChhd2FpdCByKHRoaXMudG9rZW4sXCJQVVRcIixgL2xpc3RzLyR7dH1gLHZvaWQgMCxpKSl9YXN5bmMgZGVsZXRlTGlzdCh0KXthd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixgL2xpc3RzLyR7dH1gKX1hc3luYyBjcmVhdGVJdGVtKHQsaSxlLG4pe3ZhciBvLGQ7cmV0dXJuIG5ldyBzKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixgL2xpc3RzLyR7dH0vaXRlbXNgLGUsaSwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09bj92b2lkIDA6bi5ncm91cCkmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW4/dm9pZCAwOm4udG9rZW4pJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgZmV0Y2hJdGVtcyh0LGksZSl7dmFyIG4sbztjb25zdCBkPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtc2AsaSx2b2lkIDAsKG51bGw9PWU/dm9pZCAwOmUuaWdub3JlKT92b2lkIDA6bnVsbCE9PShuPW51bGw9PWU/dm9pZCAwOmUuZ3JvdXApJiZ2b2lkIDAhPT1uP246dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1lP3ZvaWQgMDplLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbik7cmV0dXJuey4uLmQsZGF0YTpkLmRhdGEubWFwKCh0PT5uZXcgcyh0KSkpfX1hc3luYyBmZXRjaEl0ZW1zRGF0YSh0LGksZSl7dmFyIG4sbztjb25zdCBzPShudWxsPT1pP3ZvaWQgMDppLnBvaW50ZXIpP2AvJHtpLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvZGF0YSR7c31gLGk/YShpLFwicG9pbnRlclwiKTp2b2lkIDAsdm9pZCAwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLmdyb3VwKSYmdm9pZCAwIT09bj9uOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09ZT92b2lkIDA6ZS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pfWFzeW5jIGZldGNoSXRlbSh0LGksZSxuKXt2YXIgbyxkO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfWAsZSx2b2lkIDAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PW4/dm9pZCAwOm4uZ3JvdXApJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1uP3ZvaWQgMDpuLnRva2VuKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGZldGNoSXRlbURhdGEodCxpLGUsbil7dmFyIG8scztjb25zdCBkPShudWxsPT1lP3ZvaWQgMDplLnBvaW50ZXIpP2AvJHtlLnBvaW50ZXJ9YDpcIlwiO3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9kYXRhJHtkfWAsZT9hKGUsXCJwb2ludGVyXCIpOnZvaWQgMCx2b2lkIDAsKG51bGw9PW4/dm9pZCAwOm4uaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PW4/dm9pZCAwOm4uZ3JvdXApJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0ocz1udWxsPT1uP3ZvaWQgMDpuLnRva2VuKSYmdm9pZCAwIT09cz9zOnRoaXMuaWRlbnRpdHlUb2tlbil9YXN5bmMgZmV0Y2hJdGVtU3RhdHModCxpLGUpe3JldHVybiBhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9zdGF0c2AsZSl9YXN5bmMgZmV0Y2hJdGVtRXZlbnRzKHQsaSxuKXtjb25zdCBvPWF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2V2ZW50c2Asbik7cmV0dXJuey4uLm8sZGF0YTpvLmRhdGEubWFwKCh0PT5uZXcgZSh0KSkpfX1hc3luYyBmZXRjaEl0ZW1FdmVudCh0LGksbil7cmV0dXJuIG5ldyBlKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2V2ZW50cy8ke259YCkpfWFzeW5jIHVwZGF0ZUl0ZW0odCxpLGUsbixvKXt2YXIgZCxhO3JldHVybiBuZXcgcyhhd2FpdCByKHRoaXMudG9rZW4sXCJQVVRcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfWAsbixlLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1vP3ZvaWQgMDpvLmdyb3VwKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGE9bnVsbD09bz92b2lkIDA6by50b2tlbikmJnZvaWQgMCE9PWE/YTp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyB1cGRhdGVJdGVtRGF0YSh0LGksZSxuLG8pe3ZhciBkLGE7Y29uc3QgbD0obnVsbD09bj92b2lkIDA6bi5wb2ludGVyKT9gLyR7bi5wb2ludGVyfWA6XCJcIjtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9L2RhdGEke2x9YCxuLGUsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShkPW51bGw9PW8/dm9pZCAwOm8uZ3JvdXApJiZ2b2lkIDAhPT1kP2Q6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oYT1udWxsPT1vP3ZvaWQgMDpvLnRva2VuKSYmdm9pZCAwIT09YT9hOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIHJlcGxhY2VJdGVtRGF0YSh0LGksZSxuLG8pe3ZhciBkLGE7Y29uc3QgbD0obnVsbD09bj92b2lkIDA6bi5wb2ludGVyKT9gLyR7bi5wb2ludGVyfWA6XCJcIjtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiUFVUXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZGF0YSR7bH1gLG4sZSwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bz92b2lkIDA6by5ncm91cCkmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PW8/dm9pZCAwOm8uaWdub3JlKT92b2lkIDA6bnVsbCE9PShhPW51bGw9PW8/dm9pZCAwOm8udG9rZW4pJiZ2b2lkIDAhPT1hP2E6dGhpcy5pZGVudGl0eVRva2VuKSl9YXN5bmMgcGF0Y2hJdGVtRGF0YSh0LGksZSxuLG8pe3ZhciBkLGE7Y29uc3QgbD0obnVsbD09bj92b2lkIDA6bi5wb2ludGVyKT9gLyR7bi5wb2ludGVyfWA6XCJcIjtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiUEFUQ0hcIixgL2xpc3RzLyR7dH0vaXRlbXMvJHtpfS9kYXRhJHtsfWAsbixlLChudWxsPT1vP3ZvaWQgMDpvLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZD1udWxsPT1vP3ZvaWQgMDpvLmdyb3VwKSYmdm9pZCAwIT09ZD9kOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bz92b2lkIDA6by5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGE9bnVsbD09bz92b2lkIDA6by50b2tlbikmJnZvaWQgMCE9PWE/YTp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBkZWxldGVJdGVtKHQsaSxlKXt2YXIgbixvO2F3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLGAvbGlzdHMvJHt0fS9pdGVtcy8ke2l9YCx2b2lkIDAsdm9pZCAwLChudWxsPT1lP3ZvaWQgMDplLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obj1udWxsPT1lP3ZvaWQgMDplLmdyb3VwKSYmdm9pZCAwIT09bj9uOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09ZT92b2lkIDA6ZS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09ZT92b2lkIDA6ZS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pfWFzeW5jIGRlbGV0ZUl0ZW1EYXRhKHQsaSxlLG4pe3ZhciBvLGQ7Y29uc3QgYT0obnVsbD09ZT92b2lkIDA6ZS5wb2ludGVyKT9gLyR7ZS5wb2ludGVyfWA6XCJcIjtyZXR1cm4gbmV3IHMoYXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsYC9saXN0cy8ke3R9L2l0ZW1zLyR7aX0vZGF0YSR7YX1gLGUsdm9pZCAwLChudWxsPT1uP3ZvaWQgMDpuLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1uP3ZvaWQgMDpuLmdyb3VwKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09bj92b2lkIDA6bi5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGQ9bnVsbD09bj92b2lkIDA6bi50b2tlbikmJnZvaWQgMCE9PWQ/ZDp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBjcmVhdGVJbmRleCh0LGkpe3JldHVybiBuZXcgbyhhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXNgLHZvaWQgMCxpKSl9YXN5bmMgZmV0Y2hJbmRleGVzKHQsaSl7Y29uc3QgZT1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaW5kZXhlc2AsaSk7cmV0dXJuey4uLmUsZGF0YTplLmRhdGEubWFwKCh0PT5uZXcgbyh0KSkpfX1hc3luYyBmZXRjaEluZGV4KHQsaSl7cmV0dXJuIG5ldyBvKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvbGlzdHMvJHt0fS9pbmRleGVzLyR7aX1gKSl9YXN5bmMgZmV0Y2hJbmRleFN0YXRzKHQsaSxlKXtyZXR1cm4gYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfS9zdGF0c2AsZSl9YXN5bmMgZmV0Y2hJbmRleEV2ZW50cyh0LGksbil7Y29uc3Qgbz1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9L2V2ZW50c2Asbik7cmV0dXJuey4uLm8sZGF0YTpvLmRhdGEubWFwKCh0PT5uZXcgZSh0KSkpfX1hc3luYyBmZXRjaEluZGV4RXZlbnQodCxpLG4pe3JldHVybiBuZXcgZShhd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9L2V2ZW50cy8ke259YCkpfWFzeW5jIHVwZGF0ZUluZGV4KHQsaSxlKXtyZXR1cm4gbmV3IG8oYXdhaXQgcih0aGlzLnRva2VuLFwiUEFUQ0hcIixgL2xpc3RzLyR7dH0vaW5kZXhlcy8ke2l9YCx2b2lkIDAsZSkpfWFzeW5jIGRlbGV0ZUluZGV4KHQsaSl7YXdhaXQgcih0aGlzLnRva2VuLFwiREVMRVRFXCIsYC9saXN0cy8ke3R9L2luZGV4ZXMvJHtpfWApfWFzeW5jIGNyZWF0ZUlkZW50aXR5KHQpe3JldHVybiBuZXcgbihhd2FpdCByKHRoaXMudG9rZW4sXCJQT1NUXCIsXCIvaWRlbnRpdGllc1wiLHZvaWQgMCx0KSl9YXN5bmMgZmV0Y2hJZGVudGl0aWVzKHQpe2NvbnN0IGk9YXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsXCIvaWRlbnRpdGllc1wiLHQpO3JldHVybnsuLi5pLGRhdGE6aS5kYXRhLm1hcCgodD0+bmV3IG4odCkpKX19YXN5bmMgZmV0Y2hJZGVudGl0eSh0KXtyZXR1cm4gbmV3IG4oYXdhaXQgcih0aGlzLnRva2VuLFwiR0VUXCIsYC9pZGVudGl0aWVzLyR7dH1gKSl9YXN5bmMgZmV0Y2hJZGVudGl0eVN0YXRzKHQsaSl7cmV0dXJuIGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvaWRlbnRpdGllcy8ke3R9L3N0YXRzYCxpKX1hc3luYyBmZXRjaElkZW50aXR5RXZlbnRzKHQsaSl7Y29uc3Qgbj1hd2FpdCByKHRoaXMudG9rZW4sXCJHRVRcIixgL2lkZW50aXRpZXMvJHt0fS9ldmVudHNgLGkpO3JldHVybnsuLi5uLGRhdGE6bi5kYXRhLm1hcCgodD0+bmV3IGUodCkpKX19YXN5bmMgZmV0Y2hJZGVudGl0eUV2ZW50KHQsaSl7cmV0dXJuIG5ldyBlKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLGAvaWRlbnRpdGllcy8ke3R9L2V2ZW50cy8ke2l9YCkpfWFzeW5jIHVwZGF0ZUlkZW50aXR5KHQsaSl7cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIlBVVFwiLGAvaWRlbnRpdGllcy8ke3R9YCx2b2lkIDAsaSkpfWFzeW5jIGRlbGV0ZUlkZW50aXR5KHQpe2F3YWl0IHIodGhpcy50b2tlbixcIkRFTEVURVwiLGAvaWRlbnRpdGllcy8ke3R9YCl9YXN5bmMgcmVnaXN0ZXJJZGVudGl0eSh0LGkpe3ZhciBlLG87cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixcIi9pZGVudGl0aWVzL3JlZ2lzdGVyXCIsdm9pZCAwLHQsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShlPW51bGw9PWk/dm9pZCAwOmkuZ3JvdXApJiZ2b2lkIDAhPT1lP2U6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0obz1udWxsPT1pP3ZvaWQgMDppLnRva2VuKSYmdm9pZCAwIT09bz9vOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIGxvZ2luSWRlbnRpdHkodCxpKXt2YXIgZSxvO2NvbnN0IHM9YXdhaXQgcih0aGlzLnRva2VuLFwiUE9TVFwiLFwiL2lkZW50aXRpZXMvbG9naW5cIix2b2lkIDAsdCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09aT92b2lkIDA6aS5ncm91cCkmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5R3JvdXAsKG51bGw9PWk/dm9pZCAwOmkuaWdub3JlKT92b2lkIDA6bnVsbCE9PShvPW51bGw9PWk/dm9pZCAwOmkudG9rZW4pJiZ2b2lkIDAhPT1vP286dGhpcy5pZGVudGl0eVRva2VuKTtyZXR1cm4gdGhpcy5pZGVudGl0eUdyb3VwPXMuZ3JvdXB8fHZvaWQgMCx0aGlzLmlkZW50aXR5VG9rZW49cy50b2tlbnx8dm9pZCAwLFtuZXcgbihhKHMsXCJ0b2tlblwiKSksdGhpcy5pZGVudGl0eVRva2VuXX1hc3luYyBsb2dvdXRJZGVudGl0eSh0KXt2YXIgaSxlO2F3YWl0IHIodGhpcy50b2tlbixcIlBPU1RcIixcIi9pZGVudGl0aWVzL2xvZ291dFwiLHZvaWQgMCx2b2lkIDAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShpPW51bGw9PXQ/dm9pZCAwOnQuZ3JvdXApJiZ2b2lkIDAhPT1pP2k6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0LnRva2VuKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlUb2tlbiksdGhpcy5pZGVudGl0eUdyb3VwPXZvaWQgMCx0aGlzLmlkZW50aXR5VG9rZW49dm9pZCAwfWFzeW5jIGZldGNoU2VsZklkZW50aXR5KHQpe3ZhciBpLGU7cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIkdFVFwiLFwiL2lkZW50aXRpZXMvc2VsZlwiLHZvaWQgMCx2b2lkIDAsKG51bGw9PXQ/dm9pZCAwOnQuaWdub3JlKT92b2lkIDA6bnVsbCE9PShpPW51bGw9PXQ/dm9pZCAwOnQuZ3JvdXApJiZ2b2lkIDAhPT1pP2k6dGhpcy5pZGVudGl0eUdyb3VwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0LnRva2VuKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlUb2tlbikpfWFzeW5jIHVwZGF0ZVNlbGZJZGVudGl0eSh0LGkpe3ZhciBlLG87cmV0dXJuIG5ldyBuKGF3YWl0IHIodGhpcy50b2tlbixcIlBVVFwiLFwiL2lkZW50aXRpZXMvc2VsZlwiLHZvaWQgMCx0LChudWxsPT1pP3ZvaWQgMDppLmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oZT1udWxsPT1pP3ZvaWQgMDppLmdyb3VwKSYmdm9pZCAwIT09ZT9lOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09aT92b2lkIDA6aS5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KG89bnVsbD09aT92b2lkIDA6aS50b2tlbikmJnZvaWQgMCE9PW8/bzp0aGlzLmlkZW50aXR5VG9rZW4pKX1hc3luYyBkZWxldGVTZWxmSWRlbnRpdHkodCl7dmFyIGksZTthd2FpdCByKHRoaXMudG9rZW4sXCJERUxFVEVcIixcIi9pZGVudGl0aWVzL3NlbGZcIix2b2lkIDAsdm9pZCAwLChudWxsPT10P3ZvaWQgMDp0Lmlnbm9yZSk/dm9pZCAwOm51bGwhPT0oaT1udWxsPT10P3ZvaWQgMDp0Lmdyb3VwKSYmdm9pZCAwIT09aT9pOnRoaXMuaWRlbnRpdHlHcm91cCwobnVsbD09dD92b2lkIDA6dC5pZ25vcmUpP3ZvaWQgMDpudWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC50b2tlbikmJnZvaWQgMCE9PWU/ZTp0aGlzLmlkZW50aXR5VG9rZW4pfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KSk7XG4iLCJpbXBvcnQgSlNPTlBhZFJlYWx0aW1lLCB7XG4gIEl0ZW1FdmVudCxcbn0gZnJvbSAnQGJhc2VtZW50dW5pdmVyc2UvanNvbnBhZC1yZWFsdGltZS1zZGsnO1xuaW1wb3J0IEpTT05QYWQgZnJvbSAnQGJhc2VtZW50dW5pdmVyc2UvanNvbnBhZC1zZGsnO1xuaW1wb3J0IHtcbiAgR2FtZUNyZWF0ZWRFdmVudCxcbiAgR2FtZUZpbmlzaGVkRXZlbnQsXG4gIFBsYXllckpvaW5lZEV2ZW50LFxuICBQbGF5ZXJNb3ZlZEV2ZW50LFxuICBUaW1lZE91dEV2ZW50LFxufSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgeyBDbGllbnRPcHRpb25zLCBHYW1lLCBHYW1lU3RhdHVzLCBTZXJpYWxpc2VkR2FtZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgQ2xpZW50IGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBkZWZhdWx0T3B0aW9uczogQ2xpZW50T3B0aW9ucyA9IHtcbiAgICBqc29ucGFkQ2xpZW50VG9rZW46ICcnLFxuICAgIGpzb25wYWRHYW1lc0xpc3Q6ICcnLFxuICAgIGFzb2JpU2VydmVyVXJsOiAnJyxcbiAgfTtcblxuICBwdWJsaWMgb3B0aW9uczogQ2xpZW50T3B0aW9ucztcbiAgcHVibGljIGpzb25wYWQ6IEpTT05QYWQ7XG4gIHB1YmxpYyBqc29ucGFkUmVhbHRpbWU6IEpTT05QYWRSZWFsdGltZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3Iob3B0aW9uczogUGFydGlhbDxDbGllbnRPcHRpb25zPikge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBDbGllbnQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMgPz8ge30pO1xuXG4gICAgLy8gSW5pdGlhbGlzZSBqc29ucGFkIFNES1xuICAgIHRoaXMuanNvbnBhZCA9IG5ldyBKU09OUGFkKHRoaXMub3B0aW9ucy5qc29ucGFkQ2xpZW50VG9rZW4pO1xuXG4gICAgLy8gSW5pdGlhbGlzZSBqc29ucGFkIHJlYWx0aW1lIFNES1xuICAgIHRoaXMuanNvbnBhZFJlYWx0aW1lID0gbmV3IEpTT05QYWRSZWFsdGltZSh0aGlzLm9wdGlvbnMuanNvbnBhZENsaWVudFRva2VuKTtcbiAgICB0aGlzLmpzb25wYWRSZWFsdGltZS5saXN0ZW4oXG4gICAgICBbJ2l0ZW0tY3JlYXRlZCcsICdpdGVtLXVwZGF0ZWQnXSxcbiAgICAgIFt0aGlzLm9wdGlvbnMuanNvbnBhZEdhbWVzTGlzdF0sXG4gICAgICBbJyonXVxuICAgICk7XG5cbiAgICAvLyBBdHRhY2gganNvbnBhZCByZWFsdGltZSBldmVudCBoYW5kbGVyc1xuICAgIHRoaXMuanNvbnBhZFJlYWx0aW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2l0ZW0tY3JlYXRlZCcsIChlOiBJdGVtRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGdhbWUgPSB7XG4gICAgICAgIGlkOiBlLmRldGFpbC5tb2RlbC5pZCxcbiAgICAgICAgLi4uZS5kZXRhaWwubW9kZWwuZGF0YSxcbiAgICAgIH0gYXMgR2FtZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgR2FtZUNyZWF0ZWRFdmVudChnYW1lKSk7XG4gICAgfSk7XG4gICAgdGhpcy5qc29ucGFkUmVhbHRpbWUuYWRkRXZlbnRMaXN0ZW5lcignaXRlbS11cGRhdGVkJywgKGU6IEl0ZW1FdmVudCkgPT4ge1xuICAgICAgY29uc3QgZ2FtZSA9IHtcbiAgICAgICAgaWQ6IGUuZGV0YWlsLm1vZGVsLmlkLFxuICAgICAgICAuLi5lLmRldGFpbC5tb2RlbC5kYXRhLFxuICAgICAgfSBhcyBHYW1lO1xuICAgICAgc3dpdGNoIChnYW1lLmxhc3RFdmVudFR5cGUpIHtcbiAgICAgICAgY2FzZSAnZ2FtZS1jcmVhdGVkJzpcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAncGxheWVyLWpvaW5lZCc6XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQbGF5ZXJKb2luZWRFdmVudChnYW1lKSk7XG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNhc2UgJ3BsYXllci1tb3ZlZCc6XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBQbGF5ZXJNb3ZlZEV2ZW50KGdhbWUpKTtcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY2FzZSAndGltZWQtb3V0JzpcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IFRpbWVkT3V0RXZlbnQoZ2FtZSkpO1xuICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjYXNlICdnYW1lLWZpbmlzaGVkJzpcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEdhbWVGaW5pc2hlZEV2ZW50KGdhbWUpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIGdhbWVzXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZmV0Y2hHYW1lcyhwYXJhbWV0ZXJzOiB7XG4gICAgcGFnZTogbnVtYmVyO1xuICAgIGxpbWl0OiBudW1iZXI7XG4gICAgb3JkZXI6ICdzdGF0dXMnIHwgJ3N0YXJ0ZWQnIHwgJ2ZpbmlzaGVkJztcbiAgICBkaXJlY3Rpb246ICdhc2MnIHwgJ2Rlc2MnO1xuICAgIHN0YXR1czogR2FtZVN0YXR1cztcbiAgfSk6IFByb21pc2U8e1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHRvdGFsOiBudW1iZXI7XG4gICAgZ2FtZXM6IEdhbWVbXTtcbiAgfT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5qc29ucGFkLmZldGNoSXRlbXMoXG4gICAgICB0aGlzLm9wdGlvbnMuanNvbnBhZEdhbWVzTGlzdCxcbiAgICAgIHtcbiAgICAgICAgLi4ucGFyYW1ldGVycyxcbiAgICAgICAgaW5jbHVkZURhdGE6IHRydWUsXG4gICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBwYWdlOiByZXNwb25zZS5wYWdlLFxuICAgICAgbGltaXQ6IHJlc3BvbnNlLmxpbWl0LFxuICAgICAgdG90YWw6IHJlc3BvbnNlLnRvdGFsLFxuICAgICAgZ2FtZXM6IHJlc3BvbnNlLmRhdGEubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgIC4uLml0ZW0uZGF0YSxcbiAgICAgICAgc3RhcnRlZEF0OiBpdGVtLmRhdGEuc3RhcnRlZEF0ID8gbmV3IERhdGUoaXRlbS5kYXRhLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgICBmaW5pc2hlZEF0OiBpdGVtLmRhdGEuZmluaXNoZWRBdFxuICAgICAgICAgID8gbmV3IERhdGUoaXRlbS5kYXRhLmZpbmlzaGVkQXQpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSkpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYSBnYW1lXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZmV0Y2hHYW1lKGdhbWVJZDogc3RyaW5nKTogUHJvbWlzZTxHYW1lIHwgbnVsbD4ge1xuICAgIGNvbnN0IGdhbWUgPSBhd2FpdCB0aGlzLmpzb25wYWQuZmV0Y2hJdGVtRGF0YTxTZXJpYWxpc2VkR2FtZT4oXG4gICAgICB0aGlzLm9wdGlvbnMuanNvbnBhZEdhbWVzTGlzdCxcbiAgICAgIGdhbWVJZFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGdhbWVJZCxcbiAgICAgIC4uLmdhbWUsXG4gICAgICBzdGFydGVkQXQ6IGdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoZ2FtZS5zdGFydGVkQXQpIDogbnVsbCxcbiAgICAgIGZpbmlzaGVkQXQ6IGdhbWUuZmluaXNoZWRBdCA/IG5ldyBEYXRlKGdhbWUuZmluaXNoZWRBdCkgOiBudWxsLFxuICAgIH0gYXMgR2FtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbW92ZSBpbiBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBmZXRjaFN0YXRlKGdhbWVJZDogc3RyaW5nLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxHYW1lPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIGAke3RoaXMub3B0aW9ucy5hc29iaVNlcnZlclVybH0vc3RhdGUvJHtnYW1lSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cblxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLi4uanNvbi5nYW1lLFxuICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgZmluaXNoZWRBdDoganNvbi5nYW1lLmZpbmlzaGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuZmluaXNoZWRBdCkgOiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGdhbWUgd2l0aCB0aGUgc3BlY2lmaWVkIHBsYXllciBhcyBQbGF5ZXIgMVxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZUdhbWUoXG4gICAgcGxheWVyTmFtZTogc3RyaW5nLFxuICAgIHBsYXllckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIGdhbWVEYXRhPzogUmVjb3JkPHN0cmluZywgYW55PlxuICApOiBQcm9taXNlPFtHYW1lLCBzdHJpbmddPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLm9wdGlvbnMuYXNvYmlTZXJ2ZXJVcmx9L2NyZWF0ZS1nYW1lYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwbGF5ZXJOYW1lLFxuICAgICAgICBwbGF5ZXJEYXRhLFxuICAgICAgICBnYW1lRGF0YSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIC4uLmpzb24uZ2FtZSxcbiAgICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdFxuICAgICAgICAgID8gbmV3IERhdGUoanNvbi5nYW1lLmZpbmlzaGVkQXQpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGpzb24udG9rZW4sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBKb2luIGFuIGV4aXN0aW5nIGdhbWUgYXMgUGxheWVyIDIrXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgam9pbkdhbWUoXG4gICAgZ2FtZUlkOiBzdHJpbmcsXG4gICAgcGxheWVyTmFtZTogc3RyaW5nLFxuICAgIHBsYXllckRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gICk6IFByb21pc2U8W0dhbWUsIHN0cmluZ10+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYCR7dGhpcy5vcHRpb25zLmFzb2JpU2VydmVyVXJsfS9qb2luLWdhbWUvJHtnYW1lSWR9YCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgcGxheWVyTmFtZSxcbiAgICAgICAgICBwbGF5ZXJEYXRhLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIC4uLmpzb24uZ2FtZSxcbiAgICAgICAgc3RhcnRlZEF0OiBqc29uLmdhbWUuc3RhcnRlZEF0ID8gbmV3IERhdGUoanNvbi5nYW1lLnN0YXJ0ZWRBdCkgOiBudWxsLFxuICAgICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdFxuICAgICAgICAgID8gbmV3IERhdGUoanNvbi5nYW1lLmZpbmlzaGVkQXQpXG4gICAgICAgICAgOiBudWxsLFxuICAgICAgfSxcbiAgICAgIGpzb24udG9rZW4sXG4gICAgXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIGEgbW92ZSBpbiBhIGdhbWVcbiAgICovXG4gIHB1YmxpYyBhc3luYyBtb3ZlKFxuICAgIGdhbWVJZDogc3RyaW5nLFxuICAgIHRva2VuOiBzdHJpbmcsXG4gICAgbW92ZURhdGE6IGFueVxuICApOiBQcm9taXNlPEdhbWU+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgYCR7dGhpcy5vcHRpb25zLmFzb2JpU2VydmVyVXJsfS9tb3ZlLyR7Z2FtZUlkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG1vdmVEYXRhLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIHJldHVybiB7XG4gICAgICAuLi5qc29uLmdhbWUsXG4gICAgICBzdGFydGVkQXQ6IGpzb24uZ2FtZS5zdGFydGVkQXQgPyBuZXcgRGF0ZShqc29uLmdhbWUuc3RhcnRlZEF0KSA6IG51bGwsXG4gICAgICBmaW5pc2hlZEF0OiBqc29uLmdhbWUuZmluaXNoZWRBdCA/IG5ldyBEYXRlKGpzb24uZ2FtZS5maW5pc2hlZEF0KSA6IG51bGwsXG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIEdhbWVDcmVhdGVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ2dhbWUtY3JlYXRlZCcsIHsgZGV0YWlsIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgR2FtZUZpbmlzaGVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ2dhbWUtZmluaXNoZWQnLCB7IGRldGFpbCB9KTtcbiAgfVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9nYW1lLWNyZWF0ZWQnO1xuZXhwb3J0ICogZnJvbSAnLi9nYW1lLWZpbmlzaGVkJztcbmV4cG9ydCAqIGZyb20gJy4vcGxheWVyLWpvaW5lZCc7XG5leHBvcnQgKiBmcm9tICcuL3BsYXllci1tb3ZlZCc7XG5leHBvcnQgKiBmcm9tICcuL3RpbWVkLW91dCc7XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgUGxheWVySm9pbmVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ3BsYXllci1qb2luZWQnLCB7IGRldGFpbCB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFBsYXllck1vdmVkRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudDxhbnk+IHtcbiAgY29uc3RydWN0b3IoZGV0YWlsOiBHYW1lKSB7XG4gICAgc3VwZXIoJ3BsYXllci1tb3ZlZCcsIHsgZGV0YWlsIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgVGltZWRPdXRFdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50PGFueT4ge1xuICBjb25zdHJ1Y3RvcihkZXRhaWw6IEdhbWUpIHtcbiAgICBzdXBlcigndGltZWQtb3V0JywgeyBkZXRhaWwgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCB7IENsaWVudCBhcyBBc29iaUNsaWVudCB9IGZyb20gJy4vY2xpZW50JztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnO1xuIiwiZXhwb3J0IHR5cGUgQ2xpZW50T3B0aW9ucyA9IHtcbiAganNvbnBhZENsaWVudFRva2VuOiBzdHJpbmc7XG4gIGpzb25wYWRHYW1lc0xpc3Q6IHN0cmluZztcbiAgYXNvYmlTZXJ2ZXJVcmw6IHN0cmluZztcbn07XG5cbmV4cG9ydCBlbnVtIEdhbWVTdGF0dXMge1xuICBXQUlUSU5HX1RPX1NUQVJUID0gJ3dhaXRpbmdfdG9fc3RhcnQnLFxuICBTVEFSVEVEID0gJ3N0YXJ0ZWQnLFxuICBGSU5JU0hFRCA9ICdmaW5pc2hlZCcsXG59XG5cbmV4cG9ydCBlbnVtIFBsYXllclN0YXR1cyB7XG4gIFdBSVRJTkdfRk9SX1RVUk4gPSAnd2FpdGluZ19mb3JfdHVybicsXG4gIFRBS0lOR19UVVJOID0gJ3Rha2luZ190dXJuJyxcbiAgRklOSVNIRUQgPSAnZmluaXNoZWQnLFxufVxuXG5leHBvcnQgdHlwZSBQbGF5ZXIgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgc3RhdHVzOiBQbGF5ZXJTdGF0dXM7XG4gIHN0YXRlPzogYW55O1xuICBoaWRkZW5TdGF0ZT86IGFueTtcbiAgW2tleTogc3RyaW5nXTogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgTW92ZSA9IHtcbiAgcGxheWVySWQ6IHN0cmluZztcbiAgbW92ZWRBdDogRGF0ZTtcbiAgZGF0YTogYW55O1xufTtcblxuZXhwb3J0IHR5cGUgR2FtZSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhdHVzOiBHYW1lU3RhdHVzO1xuICBzdGFydGVkQXQ6IERhdGUgfCBudWxsO1xuICBmaW5pc2hlZEF0OiBEYXRlIHwgbnVsbDtcbiAgbGFzdEV2ZW50VHlwZTpcbiAgICB8ICdnYW1lLWNyZWF0ZWQnXG4gICAgfCAncGxheWVyLWpvaW5lZCdcbiAgICB8ICdwbGF5ZXItbW92ZWQnXG4gICAgfCAndGltZWQtb3V0J1xuICAgIHwgJ2dhbWUtZmluaXNoZWQnO1xuICBsYXN0RXZlbnREYXRhOiBhbnk7XG4gIG51bVBsYXllcnM6IG51bWJlcjtcbiAgam9pblRpbWVMaW1pdDogbnVtYmVyIHwgbnVsbDtcbiAgdHVyblRpbWVMaW1pdDogbnVtYmVyIHwgbnVsbDtcbiAgcm91bmRUaW1lTGltaXQ6IG51bWJlciB8IG51bGw7XG4gIGdhbWVUaW1lTGltaXQ6IG51bWJlciB8IG51bGw7XG4gIHBsYXllcnM6IFBsYXllcltdO1xuICBtb3ZlczogTW92ZVtdO1xuICByb3VuZDogbnVtYmVyO1xuICBzdGF0ZTogYW55O1xuICBzdGFydHNBdD86IERhdGUgfCBudWxsO1xuICBmaW5pc2hlc0F0PzogRGF0ZSB8IG51bGw7XG4gIHR1cm5GaW5pc2hlc0F0PzogRGF0ZSB8IG51bGw7XG4gIHJvdW5kRmluaXNoZXNBdD86IERhdGUgfCBudWxsO1xuICBba2V5OiBzdHJpbmddOiBhbnk7XG59O1xuXG5leHBvcnQgdHlwZSBTZXJpYWxpc2VkR2FtZSA9IE9taXQ8R2FtZSwgJ2lkJyB8ICdzdGFydGVkQXQnIHwgJ2ZpbmlzaGVkQXQnPiAmIHtcbiAgc3RhcnRlZEF0OiBzdHJpbmc7XG4gIGZpbmlzaGVkQXQ6IHN0cmluZztcbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKFwiLi9zcmMvaW5kZXgudHNcIik7XG4iLCIiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=